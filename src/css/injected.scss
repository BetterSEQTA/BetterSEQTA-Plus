@use "sass:meta";
@import url("https://fonts.googleapis.com/css?family=Rubik:300,400,500,600");

@include meta.load-css("injected/sidebar-animation.scss");
@include meta.load-css("injected/theme.scss");
@include meta.load-css("injected/transparency.scss");

// Platform-specific styling mixins
@mixin learn-only {
  body[data-seqta-platform="learn"] & {
    @content;
  }
}

@mixin teach-only {
  body[data-seqta-platform="teach"] & {
    @content;
  }
}

:root {
  background: var(--better-main) !important;
  --navy: #1a1a1a !important;
  --auto-background: var(--better-pale, var(--background-secondary)) !important;
  font-family: Rubik, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif !important;
}

::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
  pointer-events: none;
}

.hidden {
  display: none;
}

button.uiButton.timetable-zoom.iconFamily,
.iconFamily {
  font-family: "IconFamily" !important;
}

body,
.legacy-root input,
.legacy-root textarea,
.legacy-root button,
.legacy-root select,
.legacy-root option,
.legacy-root .input,
html {
  font-family: Rubik, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif !important;
}

select option {
  background-color: #ffffff !important;
  color: #111827 !important;
}
.dark select option {
  background-color: #1f2937 !important;
  color: #ffffff !important;
}

select {
  border-radius: 8px !important;
}
#container {
  transition: 200ms;
  background: var(--auto-background) !important;
}
:root * {
  font-family: Rubik, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif !important;
  --theme-fg-parts: white;
}

// Global text selection styles for dark mode
::selection {
  background-color: rgba(var(--theme-primary-rgb), 0.3) !important;
  color: white !important;
}

::-moz-selection {
  background-color: rgba(var(--theme-primary-rgb), 0.3) !important;
  color: white !important;
}
.extension-editor {
  background: var(--background-primary);
  border-radius: 16px;
  border: none !important;
  width: 100%;
  height: 100%;
  visibility: visible !important;
}

#themeCreator {
  position: fixed;
  right: 0;
  height: 100%;
  z-index: 100;
}

.resizeBar {
  background-color: rgb(228 228 231);
  position: absolute;
  top: 0;
  height: 100%;
  width: 5px;
  cursor: col-resize;
  z-index: 9999;
  opacity: 0;
  transition: opacity 0.2s;

  &:hover {
    opacity: 1;
  }
}

#store {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 9998;
  animation: fadeIn 500ms forwards;
  animation-delay: 200ms;
  opacity: 0;

  &.hide {
    animation: fadeOut 500ms forwards;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.dark .resizeBar {
  background-color: rgb(28 28 30);
}

.timetablepage .days .scrollspacer {
  width: 0 !important;
}

.themeCloseButton {
  position: absolute !important;
  color: var(--text-primary) !important;
  font-size: x-large !important;
  top: 5px;
  right: 5px;
  border-radius: 80px !important;
  padding: 8px;
  cursor: pointer;
  z-index: 10000;
}

.modaliser-container {
  backdrop-filter: none !important;
  pointer-events: none !important;
}

.connectedNotificationsWrapper > div > button > svg > g {
  fill: var(--theme-primary) !important;
}
#main {
  color: var(--text-primary);
  position: relative;

  > .timetablepage {
    > .quickbar {
      .gutter {
        border-bottom-left-radius: 15px;
        border-bottom-right-radius: 15px;
      }
    }
  }
}
.forums {
  color: var(--text-color);
}
.defaultWelcome > header {
  border-radius: 16px 16px 0px 0 !important;
}
.defaultWelcome {
  background: var(--better-main);
  border-radius: 17px 17px 0px 0 !important;
  color: var(--text-color) !important;
}
[class*="LegacyModuleBody__LegacyModule___"] {
  background: transparent;
}
// Removed fixed positioning for Teach - buttons now flow in Spine
// #AddedSettings positioning handled by Spine-specific styles
.addedButton {
  // Only apply absolute positioning for Learn platform, not Teach Spine
  &:not([data-betterseqta="true"]) {
    position: absolute !important;
    right: 105px;
  }
  
  // Override for Teach Spine buttons
  &[data-betterseqta="true"] {
    position: static !important;
    right: auto !important;
    top: auto !important;
  }
  padding: 6px !important;
  overflow: unset !important;
  border-radius: 10px !important;
  cursor: pointer;
  background: var(--text-primary) !important;
  color: var(--theme-primary) !important;
  height: 35px;
  width: 35px !important;
  display: flex !important;
  align-items: center;
  justify-content: center;
}

// Specific positioning for settings button on Learn platform
#AddedSettings:not([data-betterseqta="true"]) {
  top: 10px !important;
  z-index: 1000 !important;
}
[style="background-color: rgb(255, 255, 255);"] {
  color: black;
}
.pillbox {
  border-radius: 16px;
  overflow: clip;
  display: flex !important;
  align-items: center;
  justify-content: center;
  color: var(--text-primary) !important;

  button {
    background: var(--background-primary) !important;
    height: auto;
    padding: 4px 16px !important;
    overflow: clip !important;

    &.depressed {
      height: auto !important;
      color: var(--text-primary) !important;
      background: var(--background-secondary) !important;
    }
  }
}

[class*="PillBox__PillBox___"] {
  border-radius: 16px;
  overflow: hidden;

  [class*="PillBox__active___"] {
    background: rgba(0, 0, 0, 0.2) !important;
    color: black !important;
  }
}

.dark [class*="PillBox__active___"] {
  color: white;
}

.cke_panel {
  border-radius: 16px !important;
  margin-top: 8px !important;
  background: var(--background-primary) !important;
  border: var(--background-secondary) !important;
  overflow: clip;

  iframe {
    background: transparent !important;
  }
}

.legacy-root button:active,
.legacy-root a:active:not(.cke_combo_button) {
  background-image: unset !important;
}

.ace_editor {
  border-radius: 16px;
  border-top: none !important;
}

.dark .dashboard section {
  input,
  select {
    background: rgba(255, 255, 255, 0.1);
  }
}

.timetable-zoom {
  font-size: 14px !important;
}

#main > .dashboard {
  grid-template-columns: repeat(autofit, minmax(200px, 400px)) !important;
  background: unset;

  > section {
    border-radius: 16px !important;

    button {
      border-radius: 16px;
      transition: all 500ms;
    }

    input,
    select {
      border: transparent;
      background: rgba(0, 0, 0, 0.1);
      color: var(--text-primary);
    }

    .ais-btnSearch {
      transition:
        background 200ms,
        color 200ms,
        box-shadow 200ms;

      &:hover {
        background: rgba(0, 0, 0, 0.2) !important;
        color: var(--text-primary) !important;
        box-shadow: unset !important;
      }

      .material-icons {
        font-size: 0px !important;
        font-family: Rubik, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif !important;
        &::before {
          font-size: 18px !important;
          content: "Search" !important;
        }
      }
    }
  }

  > .dashlet {
    background: var(--background-primary);
    border-radius: 16px;

    &[data-ident="timetable"] {
      grid-row: span 2 / auto !important;
    }

    > .header {
      min-height: unset !important;
      border-bottom: 1px solid transparent !important;
      background: rgba(0, 0, 0, 0.2);

      .title {
        padding: 16px !important;
      }
    }
  }
}
.dashlet-summary-homework > .summary > .subject > .item {
  color: var(--text-primary) !important;
}
.dashlet-notes > ul,
.dashlet-tasks > ul {
  background: transparent !important;
}
.dashlet-notes > ul > li {
  color: var(--text-primary);
}
ul.magicDelete > li:hover {
  background: rgba(0, 0, 0, 0.1);
}
.dashlet-notes > .editor {
  background: unset;
}
ul.magicDelete > li.deleting {
  background: unset;
}
.addedButton svg {
  margin: 6px;
  fill: var(--theme-primary);
}
#menu,
.sub,
.nav {
  background: transparent !important;
  color: var(--text-color) !important;
}
#media-container {
  width: 100%;
  height: 100%;
}

#media-container video,
#media-container img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

// Background image container styling
.imageBackground {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  z-index: -1 !important;
  pointer-events: none !important;
  overflow: hidden !important;
  
  #media-container {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    
    video.background,
    img.background {
      width: 100% !important;
      height: 100% !important;
      object-fit: cover !important;
      object-position: center !important;
    }
  }
}

// Teach-specific background positioning
body[data-seqta-platform="teach"] {
  .imageBackground {
    // Ensure background is behind all Teach content
    z-index: -999 !important;
    
    // For Teach, the background should cover the entire viewport
    // including behind the navigation spine
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    
    #media-container {
      video.background,
      img.background {
        // Ensure full coverage
        min-width: 100% !important;
        min-height: 100% !important;
      }
    }
  }
  
  // Ensure main content areas have proper z-index to appear above background
  #root,
  main,
  [class*="Chrome__Chrome"],
  [class*="Spine__Spine"],
  [class*="PageList__PageList"],
  [class*="SubpageList__SubpageList"] {
    position: relative !important;
    z-index: 1 !important;
  }
}
#menu li,
#menu section {
  margin: 8px auto !important;
  width: 85% !important;
  border-bottom: none;
  box-shadow: none;
  border-radius: 12px;
  padding: 12px;
  color: var(--text-color) !important;
  display: flex;
  white-space: nowrap;
  place-items: center;
}
#menu .sub {
  top: 71.5px;
  margin-top: -2px;
}
#menu section > label {
  align-items: center;
  box-sizing: border-box;
  cursor: inherit;
  display: flex;
  flex: 1;
  font-weight: 700;
  padding: 0;
  white-space: nowrap;
}

#menu li > label,
#menu section > label {
  white-space: normal;
  overflow-wrap: anywhere;
  word-break: break-word;
  text-transform: none;
  font-size: 16px;
  hyphens: auto;
  line-height: 1.2;
}
#menu {
  width: 270px;
  z-index: 19;
  background: var(--better-main) !important;
  color: var(--text-color);
  border-right: none;
  font-family: Rubik, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif !important;
}
#menu li > label > svg,
#menu section > label > svg {
  margin: 0 10px 0 4px;
  width: 28px !important;
  height: 28px !important;
}
[class*="notifications__items___"] {
  -ms-overflow-style: none !important;
  scrollbar-width: none !important;
  border-bottom: none;
  height: 540px;
  display: flex;
  flex-direction: column;

  &::-webkit-scrollbar {
    display: none !important;
  }
}
#menu ul li {
  margin-left: auto !important;
  margin-right: auto !important;
  margin-top: 8px !important;
  margin-bottom: 8px !important;
  width: 85% !important;
}
.item.draggable {
  width: 100% !important;
  cursor: grab;

  > .sub {
    display: none !important;
  }

  &:before {
    top: 17.6px;
    left: -8px;
  }
}

#menu {
  li.active > .sub > ul > .item:not(.hasChildren) {
    position: relative;

    &::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      width: 3px;
      background: var(--item-colour, transparent);
      transition:
        width 100ms,
        transform 0.3s ease;
      border-radius: 8px 0 0 8px;
    }

    &:hover::before,
    &.active::before {
      width: 6px;
      background: var(--item-colour, transparent);
    }
  }

  li.active > .sub > ul > .active {
    background: rgba(0, 0, 0, 0.3) !important;
  }
}

#userActions {
  display: none;
}
html {
  background: var(--better-main) !important;
}
.menuShown .content .anyoneSelect .listWrapper .list:has(.item) {
  width: 100% !important;
}
.listWrapper:not(:has(.list *)) + .functions,
.listWrapper:not(:has(.list *)) {
  opacity: 0 !important;
}
.listWrapper + .functions,
.listWrapper {
  transition: opacity 500ms;
}
[data-type="student"] .header {
  color: black !important;
}
ol:has([class*="MessageList__avatar___"] svg) {
  transition-duration: 150ms !important;
  transition-delay: 0ms !important;
}
.wrapper .cke_contents iframe {
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  padding: 8px;
}
.wrapper .cke_contents::-webkit-scrollbar-thumb {
  background-color: #969696 !important;
}
.content .footer {
  margin-top: 5px;
  border-radius: 16px;
}
.content [autocomplete="off"] {
  background: var(--background-primary) !important;
}
.coneqtMessage .body .wrapper .iframeWrapper {
  background: var(--background-primary) !important;
  border-radius: 16px;
}
[class*="MessageList__MessageList___"] .footer {
  background: var(--background-secondary) !important;
}
.listWrapper {
  padding: 8px;
  border-top-left-radius: 16px;
  border-top-right-radius: 16px;
  background: var(--background-primary);
  margin-top: 26%;
}
.functions {
  background: var(--background-primary);
  margin: 0 !important;
  border-bottom-left-radius: 16px;
  border-bottom-right-radius: 16px;
}
.functions > .uiButton {
  width: 100%;
  border: none !important;
  border-radius: 16px !important;
}
.uiButton.selected {
  background: var(--background-secondary) !important;
}
.singleSelect {
  border-radius: 16px !important;

  &[style*="absolute"] {
    box-shadow: 0px 10px 15px -3px rgba(0, 0, 0, 0.2) !important;
    padding: 0 2px !important;
    outline: 2px solid rgba(0, 0, 0, 0.01) !important;
  }

  > li {
    border-radius: 12px !important;
    transition: background 150ms;
    margin-bottom: 2px !important;
    margin-top: 2px !important;
    border-bottom: unset !important;

    &:hover {
      background: rgba(0, 0, 0, 0.1) !important;
    }
  }
}
.quickbar .actions a > svg {
  scale: 0.95;
  padding-top: 1px !important;
}

.quickbar .actions [title="Choose a colour"] > svg {
  scale: 0.9;
}
.quickbar[data-yiq="light"] .actions {
  color: white !important;
}
.singleSelect > li {
  border-radius: 4px;
  margin-top: 4px !important;
  margin-bottom: 4px !important;
}
#container #content {
  bottom: unset !important;
  height: 100%;
}
#container #content::before {
  content: "";
  height: 69.5px;
  width: 100%;
}
.menuShown #container #content #title {
  -webkit-box-shadow: 6px 5px 16px 6px rgba(0, 0, 0, 0.2) !important;
  box-shadow: 6px 0px 4px 2px rgba(0, 0, 0, 0.2) !important;
}
#container #content #title {
  -webkit-box-shadow: 0px 5px 16px 6px rgba(0, 0, 0, 0.2) !important;
  box-shadow: 0px 0px 4px 2px rgba(0, 0, 0, 0.2) !important;
}
#main .timetablepage .quickbar {
  border: none;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
  border-radius: 16px;
}
.quickbar .actions {
  border-bottom-left-radius: 16px;
  border-bottom-right-radius: 16px;
}
.quickbar .attendance {
  border-top-left-radius: 100%;
  border-bottom-right-radius: 16px !important;
}
.quickbar::before {
  background-color: inherit;
  clip-path: polygon(50% 40%, 0 100%, 100% 100%);
  border-bottom-color: transparent !important;
}
#main > .timetablepage > .quickbar {
  &.below::before {
    top: -23px;
    background-color: inherit;
    clip-path: polygon(50% 40%, 0 100%, 100% 100%);
    border-bottom-color: transparent !important;
  }

  &.above[data-yiq="light"]::after {
    background-color: rgba(0, 0, 0, 0.2);
  }

  &.above[data-yiq="dark"]::after {
    background-color: rgba(255, 255, 255, 0.2);
  }

  &.above::after {
    content: "";
    position: absolute;
    bottom: -24px;
    z-index: 0;
    left: 50%;
    margin: 0 0 0 -12px;
    clip-path: polygon(50% 40%, 0 0, 100% 0);
    border: 12px solid rgba(255, 255, 255, 0);
    border-top-color: transparent;
  }

  &.above::before {
    border-bottom-color: transparent !important;
    border-top-color: transparent !important;
    bottom: -24px !important;
    z-index: -1 !important;
    background-color: inherit;
    clip-path: polygon(50% 40%, 0 0, 100% 0);
  }
}
#main .timetablepage .actions a,
#main .timetablepage .actions button {
  background-color: transparent;
  border: none;
}
.document {
  background: var(--background-primary) !important;
  border-radius: 8px;
  margin-bottom: 4px !important;
}
#main > .documents > .list > thead > tr > th {
  border-bottom: transparent 2px solid;
}
.documents table {
  border-collapse: separate;
  border-spacing: 0 4px;
}
.documents > .list > tbody td {
  border-bottom: unset !important;
}
td.size {
  border-top-right-radius: 8px;
  border-bottom-right-radius: 8px;
  color: var(--text-primary) !important;
}
td.colourBar {
  border-top-left-radius: 8px;
  border-bottom-left-radius: 8px;
}
.documents {
  padding-left: 10px;
  padding-right: 10px;
}
#toolbar span:has(.search) {
  position: relative;
}
#toolbar .search {
  padding-left: 30px;
}
#toolbar span:has(.search)::before {
  content: "\eca5";
  position: absolute;
  left: 8px;
  z-index: 10;
  top: 50%;
  transform: translateY(-50%);
  color: currentColor;
  font-size: 16px;
  font-family: "IconFamily";
  pointer-events: none;
}
#container #content .search {
  width: 100%;
  border-radius: 8px;
  background: var(--background-primary);
}
#container #content .uiButton {
  border-radius: 16px;
}

#toolbar button.toggled,
#toolbar button.depressed {
  background: #f3f3f3;
  color: black;
}
ul.buttonChecklist {
  border-radius: 16px;
  margin-top: 4px;
  padding-left: 0 !important;
  box-shadow: 0 0 10px -5px black;

  > li {
    border-radius: 8px;
    border-bottom: unset !important;

    > button {
      border-radius: 8px;
      border: unset !important;
    }
  }

  button {
    border-radius: 8px !important;
  }

  &:has(.item.checked) button:nth-child(1) {
    background: var(--background-secondary) !important;
  }

  &:has(.item.unchecked) button:nth-child(2) {
    background: var(--background-secondary) !important;
  }
}
.dark ul.buttonChecklist {
  li.item.checked {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="white" viewBox="0 0 24 24"><path d="M9 16.172l10.594-10.594 1.406 1.406-12 12-5.578-5.578 1.406-1.406z"/></svg>');
  }
}
#toolbar > span:has(input) {
  flex: 1 1 0%;
}
#main > .reports > .item > .report {
  border-radius: 16px !important;
  border: 2px solid var(--better-main) !important;
  transform: scale(0.97);
  transition: transform 0.2s ease-out !important;
  background: var(--background-primary);
}
#main > .reports > .item > .report:hover {
  transform: scale(1);
}
#main > .reports > .item {
  box-shadow: none !important;
  margin-left: auto;
  margin-right: auto;
  overflow: visible;
}
ol > [data-label] {
  margin-left: 4px;
  margin-bottom: 4px;
}
[class*="Message__Message___"] > .uiFrameWrapper .iframeWrapper {
  background: transparent;
}
[class*="Viewer__newMessage___"] {
  border-radius: 8px !important;
  font-size: 12.8px !important;
  background: var(--background-primary) !important;
}
[class*="MessageList__sender___"] :last-child {
  white-space: nowrap;
}
[data-type="student"] [style="z-index: 30;"] .header:has(h1) {
  color: black !important;
}
.uiFile.rows > .name,
.uiResource.rows > .name {
  padding: 2px;
}
div > ol:has(.uiFileHandlerWrapper) {
  border-bottom-left-radius: 16px !important;
  border-bottom-right-radius: 16px !important;
}
.assessments > div > div > div > div > div > div > div:has(ol) {
  border-radius: 16px !important;
}
[aria-labelledby="lixycoxs-tab-1"] [minlength="0"] {
  min-height: 128px !important;
}
body.student #menu > ul::before {
  background-image: var(--betterseqta-logo) !important;
  position: -webkit-sticky;
  position: sticky;
  top: 0;
  background-color: transparent;
  height: 69.5px;
  box-shadow: 0px 0px 4px 2px rgba(0, 0, 0, 0.2);
}

html.transparencyEffects [class*="BasicPanel__BasicPanel___q92_U"] > ol > li {
  border-bottom: none !important;
}

html.transparencyEffects
  [class*="BasicPanel__BasicPanel___q92_U"]
  > ol
  > li
  + li {
  border-top: 1px solid var(--theme-offset-bg);
}

.assessmentsWrapper .message {
  display: none;
}
#menu li:hover {
  background: rgba(0, 0, 0, 0.15);
}
#main > .timetablepage > .container {
  background: var(--background-primary);
}

#content {
  transition: 0.4s;
  left: 270px;
  background: unset;
}

@media (max-width: 420px) {
  .userInfo {
    display: none !important;
  }
}

@media (max-width: 490px) {
  .userInfohouse {
    display: none;
  }
}

@media (max-width: 900px) {
  .student #menu > ul::before {
    background-color: var(--background-primary);
  }

  #menuToggle {
    display: block !important;
  }
  #title::before {
    display: none;
  }
  #menu {
    -webkit-transform: translatex(-270px);
    transform: translatex(-270px);
  }
  .menuShown #menu {
    -webkit-transform: translatex(0);
    transform: translatex(0);
  }
  #content {
    left: 0;
  }
  .menuShown #content {
    -webkit-transform: translatex(270px);
    transform: translatex(270px);
  }
}

@media (max-width: 1145px) {
  .home-container {
    padding: 32px !important;
  }
}

@media (max-width: 1100px) {
  .home-container {
    padding: 32px 16px !important;
  }
}

@media (max-width: 1200px) {
  [class*="LabelList__LabelList___"] > li {
    border-radius: 8px !important;
  }
}

@media (min-width: 900px) {
  #title > span {
    transform: translateY(2px);
  }
}

@media (min-width: 1000px) {
  ol > [data-label] {
    border-top-left-radius: 8px;
    border-bottom-left-radius: 8px;
  }
}
.welcome
  > .portalPageView
  > .powerPortalPage
  > [class*="Body__body___"]
  > [class*="Container__container___"]
  > [class*="Document__document___"]
  > [class*="Canvas__canvas___"] {
  background-color: unset !important;
  background-image: unset !important;
  background-size: unset;
  position: absolute;
  top: 0;
  width: 100%;
  height: 100vh;
  color: var(--text-primary) !important;
}
[class*="Module__wrapper___"] {
  overflow: clip;
  background: var(--background-primary) !important;
  border-radius: 16px !important;
  color: var(--text-primary) !important;
  box-shadow: none;
}
.course .composer {
  background: transparent !important;
  overflow: hidden;
}
.composer
  > [class*="Body__body___"]
  > [class*="Container__container___"]
  > [class*="Document__document___"]
  > [class*="Canvas__canvas___"] {
  background-color: transparent !important;
  background-image: unset !important;
  color: white !important;
}
.notices-container {
  width: 100%;
  max-height: 60em;
  background: var(--better-main);
  display: flex;
  flex-direction: column;
  -webkit-box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
  box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;

  input {
    border: none;
    color: var(--text-color) !important;

    &:hover {
      border: none;
    }

    &::-webkit-inner-spin-button,
    &::-webkit-calendar-picker-indicator {
      display: none;
      -webkit-appearance: none;
    }
  }
}

#main > .notices > .notice > .label,
#main > .notices > .notice > .staff,
#main > .notices > .notice > h2 {
  color: var(--text-primary);
  color: var(--colour);
}

#main > .course > .content > .homework > .content,
#main > .course > .content > .resources > .content {
  color: var(--text-primary);
  opacity: 0.8;
}

#content:has(#main > .course) #toolbar {
  top: 72px;
  left: 0px;
  z-index: 10;

  @media (min-width: 1401px) {
    position: absolute;
    left: 402px;
  }
}

#main > .course .content {
  @media (min-width: 1400px) {
    padding-top: 2.5rem;
  }
}

#main > .notices > .notice > .contents {
  background: var(--background-primary);
}

#main > .notices > .notice {
  background: var(--background-primary);
  color: var(--text-primary);
  --colour: unset;

  > h2 {
    margin-bottom: 0;
  }

  .staff {
    margin-bottom: 16px;
    opacity: 1;
  }
}

.dark #main > .notices > .notice > h2,
.dark #main > .notices > .notice > div {
  text-shadow: 0 0 15px #000000;
}
#title span {
  display: none;
}
#editmenu {
  display: none;
}
#title {
  background: var(--background-primary) !important;
  color: var(--text-primary) !important;
  display: flex;
  justify-content: space-between;
  padding-right: 56px !important;
  height: 54px;
  min-height: 48px;
  box-shadow: rgba(0, 0, 0, 0.35) 0px 0px 10px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  font-weight: 500 !important;
  z-index: 20;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
}

#title::before {
  background-image: var(--betterseqta-logo);
  background-position: left;
  background-repeat: no-repeat;
  background-size: auto 48px;
  height: 69.5px;
  content: "";
  width: 184px;
}
.rightElements {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 157.5px;
  gap: 12px;
}
.home-root {
  width: 100%;
  height: 100vh;
  max-height: 100vh;
  overflow-y: auto;
  overflow-x: hidden;
  display: flex;
  color: var(--text-primary);
  font-size: unset;
}
.home-subtitle {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  color: var(--text-primary) !important;
}
.timetable-arrows {
  padding: 5px;
}
.timetable-arrows svg {
  margin: 0 5px;
  cursor: pointer;
}
.timetable-arrows svg:hover {
  color: #bebebe;
}
.notice a {
  background: rgba(var(--theme-bg-parts), 0.5) !important;
}
.home-container {
  max-width: 1050px;
  margin: auto;
  width: 1050px;
  overflow-x: hidden;
  display: flex;
  flex-direction: column;
  gap: 32px;
  padding: 32px 64px;
  align-items: center;
  min-height: fit-content;

  @media (max-width: 650px) {
    width: 100%;
    margin: 0;
    padding: 32px 0 !important;
  }
}
#home-container > div {
  will-change: opacity, transform;
}
.home-container h1 {
  text-align: center;
  font-size: 3em !important;
  font-weight: 300;
  margin: 0 auto;
  background: var(--background-primary);
  height: 3em;
  align-items: center;
  justify-content: center;
  display: flex;
  width: 100%;
  -webkit-box-shadow: 0px 5px 16px 6px rgba(0, 0, 0, 0.3);
  box-shadow: 0px 5px 16px 6px rgba(0, 0, 0, 0.3);
}
.timetable-container {
  width: 100%;
  overflow: visible !important;
  border-radius: 0 16px;
  z-index: 1;
  height: auto;
  background: var(--better-main);
  display: flex;
  flex-direction: column;
  -webkit-box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
  box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
}
.day-container {
  background: var(--background-primary);
  transition: 200ms;
  width: 100%;
  height: 15em;
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: minmax(142px, 1fr);
  border-radius: 16px;
  overflow-x: auto;

  .day:first-child {
    border-bottom-left-radius: 16px;
  }
  .day:last-child {
    border-bottom-right-radius: 16px;
  }

  @media (max-width: 650px) {
    flex-direction: column;
    height: fit-content;

    .day {
      height: fit-content;
      padding: 16px 0;
      padding-bottom: 24px !important;
      border-radius: 0 !important;

      > h2 {
        height: auto;
        min-height: 0;
      }

      > h4 {
        position: unset;
      }

      > h5 {
        bottom: 10px;
      }

      > .day-button {
        bottom: 30px;
      }
    }
  }
}
.notices-container h2 {
  margin: 20px;
  font-size: 20px;
  font-weight: 400;
}
.notices-container input[type="date"] {
  background: var(--background-primary);
  color: var(--text-primary);
  border: 1px solid var(--border-primary, rgba(255, 255, 255, 0.1));
  border-radius: 6px;
  padding: 6px 12px;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.2s ease;
}
.notices-container input[type="date"]:hover {
  border-color: var(--border-secondary, rgba(255, 255, 255, 0.2));
}
.notices-container input[type="date"]:focus {
  outline: none;
  border-color: var(--accent-ring, rgba(76, 175, 80, 0.5));
  box-shadow: 0 0 0 2px var(--accent-ring, rgba(76, 175, 80, 0.2));
}
.notice-container {
  background: var(--better-main);
  width: 100%;
  max-height: 55em;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  border-radius: 16px;
  border-bottom-left-radius: 15px;
  border-bottom-right-radius: 15px;
}
.timetable-container h2 {
  margin: 20px;
  font-size: 20px;
  font-weight: 400;
}
.notice {
  position: relative;
  padding: 20px;
  display: flex;
  flex-direction: column;
  background: var(--background-primary);
  box-shadow: inset 0px 5px 20px 1px rgba(0, 0, 0, 0.3);
  padding-bottom: 25px;
  transition: none;
  color: var(--text-primary);
}
.dummynotice {
  width: 100%;
  padding: 20px;
  margin: 7px auto;
  box-shadow: inset 0px 5px 20px 1px rgba(0, 0, 0, 0.3);
  background: var(--background-primary);
}
[class*="Empty__Empty___"] {
  color: var(--text-primary);
}
.shortcut-container {
  background: var(--better-main);
  width: 100%;
  display: flex;
  flex-direction: column;
  -webkit-box-shadow: 0px 5px 16px 6px rgba(0, 0, 0, 0.3);
  box-shadow: 0px 5px 16px 6px rgba(0, 0, 0, 0.3);
}
.border {
  border-radius: 16px;
  overflow: clip;
}
.shortcut-container h2 {
  font-size: 20px;
  font-weight: 400;
}
.shortcuts {
  width: 100%;
  padding-top: 10px;
  padding-bottom: 10px;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  justify-content: center;
}
.shortcut-container:not(:has(#shortcuts *)) {
  display: none !important;
}
.shortcuts a {
  text-decoration: none !important;
  color: var(--text-primary);
  display: flex;
  border: unset !important;
  background-color: unset !important;
  margin: 5px 20px;
  padding: 0;
  border-radius: 50px;
}
.shortcut {
  height: 4em;
  width: 15em;
  max-width: 15em;
  background: var(--background-primary);
  color: var(--text-primary);
  display: flex;
  border-radius: 80px;
  position: relative;
  transition: 200ms;
}
.shortcut:hover {
  background: var(--auto-background);
}
.shortcut p {
  margin: auto 0px auto 5px;
  font-size: 20px;
  width: 150px;
  word-wrap: break-word;
  line-height: 20px;
}
.customshortcut > svg {
  border-radius: 0;
}
.colourbar {
  width: 100%;
  height: 3px;
  position: absolute;
  top: 0;
  left: 0;
}
.dashboard .message {
  background: var(--background-primary) !important;
  color: var(--text-primary);
  border-left: none !important;
}
.dashboard .message .ais-wrapper {
  background: var(--background-primary);
  color: var(--text-primary);
  box-shadow: unset;
  -webkit-box-shadow: unset;
  border-radius: 16px;
}
.ais-description {
  color: var(--text-primary) !important;
}
.ais-signature {
  color: var(--text-primary) !important;
}
.ais-btnSearch i {
  padding-left: 8px;
}
.ais-input-container select,
.ais-input-container input {
  border-radius: 16px;
}
.notice h3 {
  margin: 0;
  font-size: 25px;
}
.notice h5 {
  margin: 12px 0px;
  font-size: 13px;
  font-weight: 200;
}
.notice h6 {
  margin: 0px 0px 40px;
  font-weight: 100;
  color: #c9c9c9;
}
.clickable {
  cursor: pointer;
}

.day h2 {
  margin: 0;
  padding: 8px;
  padding-top: 14px;
  font-size: 20px !important;
  font-weight: 500;
  min-height: 46px;
  height: auto;
  line-height: 1.2;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  overflow-wrap: anywhere;
  word-break: break-word;
  hyphens: auto;
}
.day h3 {
  padding: 0px 5px;
  padding-left: 8px;
  margin: 0;
  font-size: 13px !important;
  font-weight: 400;
  color: #7a7a7a;
}
.day h4 {
  position: absolute;
  bottom: 35px;
  margin: 0;
  padding: 2px;
  padding-left: 8px;
  font-size: 16px !important;
  font-weight: 500;
}
.day h5 {
  margin: 0;
  padding: 5px;
  padding-left: 8px;
  position: absolute;
  bottom: 0;
  right: 0;
  font-size: 10px !important;
  font-weight: 500;
}
.waitWindow {
  background: var(--better-main);
}
.alert-container {
  height: 35em;
  width: 22em;
  background: var(--better-sub);
  position: absolute;
  right: 0;
  top: 0;
  border-radius: 0px 0px 40px 40px;
  text-align: center;
  display: flex;
}
.alert-button {
  height: 20px;
  width: 20px;
  padding: 10px;
  text-align: center;
  margin: 20px auto 0px;
  cursor: pointer;
}
.dark
  [class*="notifications__detailsBody___"]
  > [class*="notifications__subtitle___"] {
  color: #c1bcbc;
}
[class*="notifications__detailsBody___"]
  > [class*="notifications__subtitle___"] {
  font-size: 12px;
}
[class*="notifications__notifications___"] > button {
  background: white;
  z-index: 21 !important;
  color: var(--better-sub);
  padding: 8px;
}
.legacy-root button > svg,
.legacy-root a > svg {
  height: 25px;
  width: 24px;
}
[class*="notifications__notifications___"]
  > button
  > [class*="notifications__bubble___"] {
  background: var(--better-alert-highlight);
  width: 25px;
  height: 25px;
}
.dark .legacy-root button::after {
  background: white;
}
.legacy-root button::after {
  background: black !important;
}
.legacy-root button:not([disabled]):focus {
  border-color: var(--better-sub);
}
[class*="notifications__list___"] {
  border: 4px solid var(--auto-background);
  background: var(--background-primary);
}
[class*="notifications__item___"] {
  background: var(--background-primary) !important;
  border-left: 4px solid var(--better-main) !important;
  margin-bottom: 4px !important;

  > [class*="notifications__dismiss___"] {
    background: rgba(0, 0, 0, 0.1) !important;
    color: var(--text-primary);
    margin: auto 0;
  }

  &:hover {
    background: var(--auto-background) !important;
  }
}
.connectedNotificationsWrapper > div > button + div {
  color: var(--text-primary);
  top: 80px;
  right: 10px;
  border-radius: 16px;
  box-shadow: 0px 10px 15px -3px rgba(0, 0, 0, 0.4);
}

#menu li.active {
  color: #ffffff !important;
  background: rgba(0, 0, 0, 0.35);
}
#menu li:first-child {
  margin-top: 5px;
}
[class*="notifications__actions___"] {
  background: var(--auto-background);

  button {
    background: none !important;
    border: 1px solid white;
  }
}
[class*="notifications__details___"] {
  max-width: 80%;
  overflow: clip;
}
[class*="notifications__details___"] div {
  text-overflow: ellipsis;
}
#main > .messages {
  color: var(--text-primary);
}
[class*="Overview__details___"] {
  border-radius: 16px;
  overflow: hidden;
}
[class*="Viewer__sidebar___"] {
  color: var(--text-primary);
  border-right: unset;
  background: unset;

  > header {
    background: unset;
  }
}
[class*="MessageList__MessageList___"] ::-webkit-scrollbar {
  width: 0px;
  background: none;
}
[class*="MessageList__primary___"] > :last-child {
  display: none !important;
}
[class*="MessageList__MessageList___"] ol [class*="Button__Button___"]::before {
  content: "";
  font-size: 12px;
  margin-right: 4px;
  font-family: "IconFamily";
  pointer-events: none;
}

[class*="MessageList__MessageList___"] ol [class*="Button__Button___"] {
  width: calc(100% - 32px);
  border-radius: 16px;
  margin: 8px 16px;
  padding: 12.8px;
  place-content: center;
  text-align: center;
}

.dark [class*="MessageList__MessageList___"] [class*="Button__Button___"] {
  background: rgba(255, 255, 255, 0.1);
  color: white !important;
}

[class*="MessageList__MessageList___"] [class*="Button__Button___"] {
  background: rgba(0, 0, 0, 0.1);
  width: 100%;
  min-height: 32px;
  text-align: center;
}
[class*="MessageList__MessageList___"] {
  background: var(--background-primary);
}
[class*="Input__Input___"]::before,
.navigator .bar.flat::before,
.ais-btnSearch::before {
  content: "";
  transform: translateY(-50%);
  color: currentColor;
  font-size: 16px;
  margin-left: 8px;
  margin-top: auto;
  font-family: "IconFamily";
  pointer-events: none;
}
[class*="Input__Input___"] {
  transition:
    background-color 0.5s,
    border-color 0.5s;
  background: var(--auto-background);
  position: relative;
  padding: 8px 12px;
  border-radius: 8px;

  > input {
    outline: none !important;
    border: none !important;
    color: var(--text-primary);
    width: 100%;
  }
}
.uiShortText.search {
  padding: 8px;
  position: relative;
}

.cke_panel > iframe {
  height: 180px;
  background: var(--background-primary);
}
[class*="Avatar__Avatar___"][class*="Avatar__staff___"] {
  --person-colour: var(--better-light);
  background: var(--person-colour, var(--navy));
}
[class*="LabelList__LabelList___"] > li[class*="LabelList__selected___"] {
  background: var(--background-primary);
  color: var(--text-primary);
}
[class*="Message__Message___"] {
  background: var(--background-primary);
  border-radius: 16px !important;
}
iframe.userHTML {
  color: white !important;
  background: transparent;
}
.userHTML > div:first-of-type {
  color: var(--text-primary);
}
#main > .reports {
  background: none;
  display: flex;
  flex-wrap: wrap;
}
#main > .reports > .item > .report > .year {
  background: var(--better-light);
  color: var(--text-color);
}
[class*="Spinner__Spinner___"] > svg {
  margin: 16px 0;
}
[class*="Spinner__Spinner___"] > svg > path {
  stroke: var(--text-primary) !important;
}

// Hide SEQTA's loading indicators when on BetterSEQTA+ home page
// This prevents SEQTA from showing a loading spinner while waiting for welcome page
body:has(#betterseqta-teach-home),
body:has([data-betterseqta-homepage="true"]) {
  // Hide SEQTA's loading spinner
  [class*="Spinner__Spinner___"],
  [class*="Loading__Loading___"],
  [class*="Loader__Loader___"] {
    display: none !important;
  }
  
  // Hide any loading overlays
  [class*="Overlay__Overlay___"]:has([class*="Spinner"]),
  [class*="Overlay__Overlay___"]:has([class*="Loading"]),
  [class*="Overlay__Overlay___"]:has([class*="Loader"]) {
    display: none !important;
  }
  
  // Ensure widget titles change color with theme
  #betterseqta-teach-home {
    .home-subtitle h2,
    h2.home-subtitle,
    #home-lesson-subtitle,
    .upcoming-title h2,
    .messages-container h2,
    .notices-container h2 {
      color: var(--text-primary) !important;
    }
  }
}
#main > .reports > .item > .report > .term {
  color: var(--text-color);
  background: var(--better-main);
}
[class*="Collapsible__Collapsible___"] > [class*="Collapsible__header__"] {
  background: none !important;
}
[class*="Collapsible__Collapsible___"]
  > [class*="Collapsible__content___"]
  [class*="Collapsible__enterActive___"]
  [class*="Collapsible__exitActive___"] {
  animation-timing-function: ease-out !important;
}
[class*="AssessmentList__AssessmentList___"]
  > [class*="AssessmentList__searchFilter___"]
  + [class*="AssessmentList__items___"] {
  color: var(--text-primary);
}
[class*="Thermoscore__Thermoscore___"] {
  background-image: unset;
  background-color: var(--auto-background);
}
.dark [class*="Thermoscore__Thermoscore___"] {
  border: 2px solid rgba(255, 255, 255, 0.3);
}
[class*="AssessmentItem__meta___"] {
  padding-bottom: 8px;
}
#toolbar {
  color: var(--text-primary);
  background: unset;
}
#main:has(.timetablepage) #toolbar {
  background: var(--background-primary);
}
.dailycal > .zoom {
  display: none;
}
.dailycal > .times > .time {
  padding: 0 !important;
}
.programmeNavigator > .navigator,
.programmeNavigator > .navigator > li > ul {
  background: var(--background-primary);
  color: var(--text-primary);
}
.programmeNavigator > .navigator > .week > .lessons > .lesson:hover {
  background: var(--auto-background);
}

.pane .navigator::after {
  content: unset !important;
}

.programmeNavigator {
  box-shadow: 0 0 40px 0px rgba(0, 0, 0, 0.05);
  overflow-y: scroll;
  height: 100%;
  width: 400px;
  background: var(--background-primary);
  position: relative;

  .navigator {
    padding: 6px !important;

    .bar.flat::before {
      z-index: 10;
      left: 8px;
      margin: 0;
      position: absolute;
      top: 50%;
    }

    .search {
      padding: 10px;
      padding-left: 30px;
      top: 8px;
      margin-top: -50px;
      z-index: 2;
      box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.1);
    }

    .bar {
      top: 13px;
      padding-right: 4px;
      position: sticky;
      pointer-events: none;

      button {
        position: unset;
        pointer-events: auto;
      }
    }

    .meta {
      border-radius: 8px;
    }

    .cover {
      padding: 12px;
    }

    .cover,
    .lesson {
      border-radius: 8px;
      transition: background 0.1s ease-out;
      position: relative;
      color: var(--text-primary) !important;
      z-index: 1;

      &:hover {
        background: transparent !important;
      }

      &.selected {
        background: transparent !important;
      }

      &::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border-radius: 8px;
        background: var(--auto-background);
        opacity: 0;
        scale: 0.95;
        transition:
          opacity 0.2s ease-out,
          scale 0.1s ease-out;
        z-index: -1;
        pointer-events: none;
      }

      &:hover::before {
        opacity: 0.5;
        scale: 1;
      }

      &.selected::before {
        opacity: 1;
        scale: 1;
      }
    }
  }
}

.pane {
  .content:has(.programmeNavigator) {
    margin: 0;
  }

  .programmeNavigator .navigator {
    .search {
      border-radius: 8px;
    }

    &::before {
      top: 83px;
    }
  }
}

.dark .programmeNavigator .navigator {
  .search {
    background: var(--background-secondary) !important;
    box-shadow:
      0px 0px 10px 0px rgba(0, 0, 0, 0.1),
      inset 0px 0px 15px 0px rgba(0, 0, 0, 0.1) !important;
  }
}
.dark #main > .course > .content > h1 {
  text-shadow: 0 0 10px black;
}

#main > .course > .content > h1 {
  color: var(--text-primary);
  border-bottom: none;
}

#main > .course > .content > .outline > h2,
#main > .course > .content > .homework > h2,
#main > .course > .content > .resources > h2 {
  color: var(--text-primary);
}

body::-webkit-scrollbar-button {
  display: none !important;
}
:root,
html,
body,
div,
ol,
ul {
  scrollbar-width: thin;
  scrollbar-color: #babac0 #fff !important;
}

div:has(> [class*="AssessmentDetails__AssessmentDetails___"]) {
  padding: 4px;
}

[class*="SelectedAssessment__due___"] {
  border-radius: 8px !important;
  background: var(--background-primary) !important;
}
[class*="SelectedAssessment__SelectedAssessment___"] {
  color: var(--text-primary);
}
[class*="SelectedAssessment__SelectedAssessment___"]
  > [class*="SelectedAssessment__meta___"]
  > [class*="SelectedAssessment__clearBtn___"] {
  background: var(--better-main);
}
[class*="SelectedAssessment__SelectedAssessment___"]
  > [class*="SelectedAssessment__meta___"] {
  border-bottom: 1px solid var(--better-main);
}
[class*="TabSet__TabSet___"]
  > ol[class*="TabSet__tabs___"]
  > li[class*="TabSet__selected___"] {
  border-bottom-color: var(--better-main);
}
[class*="TabSet__TabSet___"] > ol[class*="TabSet__tabs___"] {
  border-bottom: none;
}
[class*="TabSet__TabSet___"] > ol[class*="TabSet__tabs___"] > li:hover {
  box-shadow: inset 0 -1px var(--better-main);
}
[class*="TabSet__TabSet___"] > [class*="TabSet__tabContainer___"] {
  background: unset;
}
// Fix non-selected tab text color (for Direqt messages inbox tabs)
[class*="TabSet__TabSet___"] > ol[class*="TabSet__tabs___"] > li:not([class*="selected"]):not([class*="active"]) {
  color: var(--text-primary) !important;
  
  .dark & {
    color: var(--text-primary) !important;
  }
}
[class*="BasicPanel__BasicPanel___"] {
  background: var(--background-primary);
}
.back > svg {
  transform: scale(1.2);
}
.pane .tabPage .url {
  background: var(--auto-background) !important;

  > input {
    background: var(--background-primary) !important;
    border-radius: 16px;
    padding: 6px 10px !important;
  }
}
.uiFileHandler {
  -webkit-box-shadow: 0px 5px 16px 6px rgba(0, 0, 0, 0) !important;
  box-shadow: 0px 5px 16px 6px rgba(0, 0, 0, 0) !important;
  background: var(--background-primary);
  margin: 0 !important;
  border-radius: 16px;
}
.mediaWrapper,
.mediaRecorder,
[class*="MediaRecorder__MediaRecorder___"] {
  border-top-left-radius: 16px;
  border-top-right-radius: 16px;
  overflow: hidden;
}
[class*="MediaRecorder__MediaRecorder___"] {
  background: var(--background-primary);
}
.legacy-root .uiFileHandler {
  background: var(--auto-background);
  border-radius: 16px;
}
[class*="ResourceList__ResourceList___"] .legacy-root .uiFileHandler {
  background: var(--background-primary);
}
.legacy-root .uiFileHandler.dragTarget {
  background: var(--better-main);
}
[class*="MenuButton__MenuPanel___"] {
  background: var(--background-primary);
  color: var(--text-primary);
  border-radius: 16px;
  overflow: clip;

  > div {
    padding: 0 !important;
    display: flex;
    flex-direction: column;
    gap: 4px;

    > div {
      > h2 {
        padding-bottom: 1px;
        padding-left: 12px;
      }
    }
  }
}
.dailycal > .header {
  color: var(--text-primary);
}
#main > .timetablepage {
  color: var(--text-primary) !important;
}
#main > .timetablepage > .container > .dailycal {
  color: var(--text-primary);
}
#main > .timetablepage > .note {
  color: var(--text-primary);
  display: none;
}
.days td {
  overflow: hidden;
  .title {
    width: 100% !important;
  }
}
.content > .wrapper .days tbody tr > td {
  overflow: hidden;
}
.title {
  color: var(--text-primary) !important;
}
.entry[data-yiq="light"],
.quickbar[data-yiq="light"] .title,
.quickbar[data-yiq="dark"] .actions button svg,
.entry[data-yiq="light"] .title {
  color: #fff !important;
}
.entry[data-yiq="dark"],
.quickbar[data-yiq="dark"] .title,
.quickbar[data-yiq="dark"] .actions button svg,
.entry[data-yiq="dark"] .title {
  color: #000 !important;
}
div.entry.class {
  border-radius: 4px;
  width: 100% !important;
}

div.entry.class[style*="left: 46.5%"] {
  left: 50% !important;
}

div.entry.class[style*="width: 46.5%"] {
  width: 50% !important;
}
.timetablepage
  .dailycal
  > .content
  > .wrapper
  > .days
  > tbody
  > tr
  > td
  > .entriesWrapper {
  min-width: 0;
  width: auto !important;
}

div.entry.tutorial {
  border-radius: 4px;
}

div.entry.event {
  border-radius: 4px;
}

div.entry.new {
  border-radius: 4px;
}

div.liveEntry {
  border-radius: 4px;
}

div.dailycalMarker {
  border-radius: 4px;
}

.uiFileHandler .uiButton {
  border-radius: 32px !important;
  color: var(--text-primary) !important;
  margin-top: 4px !important;
}

a.uiFile:not(.rows) {
  display: flex !important;
  height: auto !important;
  width: 200px !important;
  border-radius: 80px !important;
  place-items: center !important;
  padding: 0px 9px !important;
  gap: 6px;
  transition: opacity 0.2s;
  box-shadow: inset 0 0 0px 2px rgba(255, 255, 255, 0.2) !important;

  &::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
  }

  svg {
    color: white;
    position: unset !important;
    display: unset !important;
    width: auto !important;
    height: 42px !important;
    z-index: 1 !important;
    flex: 0.199;
  }

  .name {
    position: unset !important;
    background: transparent !important;
    font-size: 12px !important;
    flex: 1;
  }
}

.dark {
  body,
  div,
  ol,
  ul {
    scrollbar-width: thin;
    scrollbar-color: #333 #111 !important;
  }

  #toolbar button.toggled,
  #toolbar button.depressed {
    background: #333333;
    color: white;
  }
}

.dark .title a.uiFile {
  color: #06b4fc !important;
}

.document td:not([class^="colourBar"]):not([class^="title"]) {
  color: black;
}
.dark .document td:not([class^="colourBar"]):not([class^="title"]) {
  color: white !important;
}

.uiFileHandlerPanel::before {
  border: 12px solid rgba(0, 0, 0, 0);
  border-top-color: var(--background-primary);
}
.uiButton:hover {
  box-shadow: none !important;
}

.uiButton {
  border: solid 1px transparent !important;

  svg {
    color: var(--text-primary);
  }
}

.uiFileHandlerPanel {
  background: var(--background-primary);
  color: var(--text-primary);
  border-radius: 16px;
}
.sources .uiButton {
  border-radius: 16px;
}
[class*="MediaRecorder__preview___"] {
  background: var(--background-primary);
}
[class*="MediaRecorder__actions___"] {
  background: var(--background-primary);
}
[class*="Rubric__Rubric___"] > [class*="Rubric__line___"] {
  background: unset;
}
#main > .course > .content > .header > .coverImage.blurred {
  display: none;
  background-image: unset !important;
  height: 0px;
  width: 0px;
}
.coverImage,
blurred {
  display: none;
}
.icon-cover {
  position: absolute;
  top: 0;
  left: 0;
  width: 70%;
  height: 64px;
  cursor: pointer;
}
.uiSlidePane > .pane > .header button {
  color: var(--text-color) !important;
}
.uiSlidePane > .pane > .header > h1 {
  color: var(--text-color) !important;
}
.uiSlidePane > .pane > .header {
  background: var(--better-main);
}
.content [placeholder="Subject…"] {
  padding-left: 12px !important;
  border-radius: 16px;
  background: var(--background-primary) !important;
  color: var(--text-primary) !important;
}
.content [placeholder="Subject…"]::-webkit-input-placeholder {
  color: gray;
}
.activelesson {
  box-shadow: inset 0px 10px 0 var(--item-colour, transparent) !important;
}
div.bar.flat {
  position: absolute;
  top: 0;
  right: 0;
  z-index: 10;
}

.dashlet {
  .cke_contents {
    background: var(--background-secondary) !important;
  }

  .cke_button,
  .cke_combo_button {
    background: var(--background-secondary) !important;
  }

  .dashlet-motd {
    padding: 7px !important;
    .message {
      font-size: 24px !important;
      border-radius: 12px !important;
      border: none !important;
      box-shadow: none !important;
      padding: 16px !important;
      margin: 0 !important;
      height: 100% !important;
      max-height: none !important;
      display: flex !important;
      align-items: flex-start !important;
      overflow: hidden !important;
      color: var(--text-primary) !important;
    }
  }

  .cke_toolbox > .cke_toolbar > .cke_toolgroup > .cke_button {
    background: var(--background-secondary) !important;
    color: var(--text-primary) !important;
  }

  .cke_toolbox > .cke_toolbar > .cke_combo > .cke_combo_button {
    background: var(--background-secondary) !important;
    color: var(--text-primary) !important;
  }
}

.cke_toolbox > .cke_toolbar > .cke_combo > .cke_combo_button {
  border-radius: 8px !important;
}

.cke_toolbox > .cke_toolbar > .cke_toolgroup > .cke_button {
  &:last-child {
    border-top-right-radius: 8px !important;
    border-bottom-right-radius: 8px !important;
  }

  &:first-child {
    border-top-left-radius: 8px !important;
    border-bottom-left-radius: 8px !important;
  }
}

.formattedText > .wrapper > .cke > .cke_inner > .cke_contents {
  background: var(--background-primary);
  border-radius: 16px;
  overflow-x: hidden;
}
.formattedText > .footer {
  background: var(--background-primary);
  border-radius: 16px;
  margin-top: 8px;
}
.uiSlidePane.shown {
  background-color: rgba(0, 0, 0, 0.7);
}
.uiSlidePane {
  transform: translatey(0%) !important;
  transition: background-color 0.5s ease-in-out;
  background-color: rgba(0, 0, 0, 0);
  transition-duration: 500ms !important;
  z-index: 22 !important;
}
.uiSlidePane.shown > .pane {
  transform: translatey(0%) !important;
  opacity: 1;
}
.uiSlidePane > .pane {
  color: var(--text-primary);
  background: var(--auto-background);
  transform: translateY(100%);
  transition:
    transform 0.5s ease-out,
    -webkit-transform 0.5s ease-out,
    opacity 0.2s ease-out;
  transition-delay: 0 !important;
  border-radius: 16px !important;
  opacity: 0;
}
.document-width-micro [class*="RootModule__root-module___"],
.document-width-nano [class*="RootModule__root-module___"] {
  padding: 16px;
  box-sizing: border-box;
}
.anyoneSelect.filterBox {
  background: transparent;
  margin: 0;
  padding: 0;
}
.cke_toolbox {
  padding: 0 !important;
  padding-left: 8px !important;
  gap: 0 8px;
  background: var(--better-main);
}
.cke_toolbar:has(.cke_toolgroup) {
  .cke_combo {
    margin-right: 8px !important;
  }
}
.cke_toolbox > .cke_toolbar > .cke_toolgroup {
  margin: 0 !important;
}
#cke_1_top a:hover:not(.cke_combo_button) {
  background: #5a5a5a;
}
.legacy-root button.depressed,
.legacy-root button.toggled {
  background: #797979;
}
.legacy-root button,
.legacy-root a {
  background: var(--background-primary);
}
.cke_toolbox > .cke_toolbar .cke_combo_on > .cke_combo_button,
.cke_toolbox > .cke_toolbar .cke_button_on {
  background-color: #d5d5d6 !important;
  &::after {
    background: black !important;
  }
}

.dark .cke_combo_button {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="white" viewBox="0 0 24 24"><path d="M6.984 9.984h10.031l-5.016 5.016z"/></svg>') !important;
}

.quicktable {
  border-radius: 12px;
}

.dark {
  .cke_toolbox > .cke_toolbar .cke_combo_on > .cke_combo_button,
  .cke_toolbox > .cke_toolbar .cke_button_on {
    background-color: #3d3d3e !important;

    &::after {
      background: rgb(207, 207, 207) !important;
    }
  }
}

.legacy-root input.singleSelect {
  padding-left: 8px;

  &:focus {
    background: var(--auto-background);
    color: var(--text-primary) !important;
  }
}

// Application settings page
.category {
  h2.header {
    background: var(--accent-bg, #3b82f6) !important;
    color: white !important;
    font-family: Rubik, sans-serif !important;
    font-size: 16px !important;
    font-weight: 600 !important;
    padding: 12px 20px !important;
    margin: 0 0 20px !important;
    border-radius: 8px !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
  }
}

// Reporting page form fields
.field {
  background: rgba(255, 255, 255, 0.05) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  border-radius: 12px !important;
  padding: 16px !important;
  margin-bottom: 12px !important;
  
  // Make fully solid when transparency effects are disabled
  html:not(.transparencyEffects) & {
    background: var(--background-primary) !important;
  }
  
  // Apply blur only when transparency effects are enabled
  html.transparencyEffects & {
    backdrop-filter: blur(10px) !important;
  }
  
  label {
    color: var(--text-primary) !important;
    font-family: Rubik, sans-serif !important;
    font-size: 14px !important;
    font-weight: 500 !important;
    margin-bottom: 8px !important;
    display: block !important;
  }
  
  .filter.term,
  .filter {
    background: transparent !important;
    
    input.singleSelect {
      background: var(--background-primary) !important;
      border: 1px solid rgba(255, 255, 255, 0.2) !important;
      border-radius: 8px !important;
      color: var(--text-primary) !important;
      padding: 10px 12px !important;
      font-family: Rubik, sans-serif !important;
      font-size: 14px !important;
      transition: all 0.2s ease !important;
      width: 100% !important;
      
      &:focus {
        background: var(--background-secondary) !important;
        border-color: var(--accent-bg) !important;
        outline: none !important;
        box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2) !important;
      }
      
      &::placeholder {
        color: rgba(255, 255, 255, 0.4) !important;
      }
    }
  }
}

button.buttonMenu.depressed:hover {
  border-radius: 100px;
  border-bottom-left-radius: 100px !important;
  border-bottom-right-radius: 100px !important;
}

ul.buttonMenu {
  border-radius: 16px;
  padding: 0 !important;
}

ul.singleSelect,
ul.buttonChecklist,
ul.buttonMenu,
ul.colourButtonOptions,
ul.uiSplitButtonList,
.contactFormPanel {
  background: var(--background-primary) !important;
  border: solid 4px var(--background-primary);
  color: var(--text-primary);
}

// Student selector dropdowns - ensure they have proper background
ul.singleSelect.legacy-root,
ul.legacy-root.singleSelect {
  background: var(--background-primary) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  border-radius: 12px !important;
  backdrop-filter: blur(10px) !important;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3) !important;
  padding: 8px !important;
  max-height: 400px !important;
  overflow-y: auto !important;
  
  li {
    background: transparent !important;
    color: var(--text-primary) !important;
    padding: 8px 12px !important;
    border-radius: 6px !important;
    margin: 2px 0 !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    
    &:hover {
      background: rgba(255, 255, 255, 0.1) !important;
    }
    
    &.selected {
      background: rgba(255, 255, 255, 0.15) !important;
    }
    
    .extra {
      color: rgba(255, 255, 255, 0.6) !important;
      font-size: 12px !important;
      margin-bottom: 4px !important;
      
      .coloured {
        border-radius: 4px !important;
        padding: 2px 6px !important;
        font-weight: 600 !important;
        margin: 0 2px !important;
      }
    }
  }
  
  // Custom scrollbar for dropdown
  &::-webkit-scrollbar {
    width: 8px !important;
  }
  
  &::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05) !important;
    border-radius: 4px !important;
  }
  
  &::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2) !important;
    border-radius: 4px !important;
    
    &:hover {
      background: rgba(255, 255, 255, 0.3) !important;
    }
  }
}

// Button checklist dropdowns - ensure they have proper background
ul.buttonChecklist.legacy-root,
ul.legacy-root.buttonChecklist {
  background: var(--background-primary) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  border-radius: 12px !important;
  backdrop-filter: blur(10px) !important;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3) !important;
  padding: 8px !important;
  max-height: 400px !important;
  overflow-y: auto !important;
  
  li.item {
    background: transparent !important;
    color: var(--text-primary) !important;
    padding: 8px 12px !important;
    border-radius: 6px !important;
    margin: 2px 0 !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    display: flex !important;
    align-items: center !important;
    gap: 8px !important;
    
    &:hover {
      background: rgba(255, 255, 255, 0.1) !important;
    }
    
    &.checked {
      background: rgba(255, 255, 255, 0.15) !important;
    }
    
    .label {
      color: var(--text-primary) !important;
      font-family: Rubik, sans-serif !important;
      font-size: 14px !important;
    }
  }
  
  // Custom scrollbar for dropdown
  &::-webkit-scrollbar {
    width: 8px !important;
  }
  
  &::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05) !important;
    border-radius: 4px !important;
  }
  
  &::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2) !important;
    border-radius: 4px !important;
    
    &:hover {
      background: rgba(255, 255, 255, 0.3) !important;
    }
  }
}

// Calendar date picker
.calendar.container.legacy-root {
  background: var(--background-primary) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  border-radius: 12px !important;
  backdrop-filter: blur(10px) !important;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3) !important;
  padding: 16px !important;
  color: var(--text-primary) !important;
  
  .header {
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    margin-bottom: 16px !important;
    padding-bottom: 12px !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
    
    .title {
      color: white !important;
      font-family: Rubik, sans-serif !important;
      font-size: 16px !important;
      font-weight: 600 !important;
    }
    
    .navigation {
      display: flex !important;
      gap: 8px !important;
      
      button.uiButton {
        background: rgba(255, 255, 255, 0.08) !important;
        border: 1px solid rgba(255, 255, 255, 0.2) !important;
        border-radius: 6px !important;
        color: white !important;
        padding: 6px !important;
        cursor: pointer !important;
        transition: all 0.2s ease !important;
        
        &:hover {
          background: rgba(255, 255, 255, 0.12) !important;
          border-color: var(--accent-bg) !important;
        }
        
        svg {
          width: 20px !important;
          height: 20px !important;
          fill: currentColor !important;
        }
      }
    }
  }
  
  table {
    width: 100% !important;
    border-collapse: collapse !important;
    
    thead {
      tr {
        th {
          color: rgba(255, 255, 255, 0.6) !important;
          font-family: Rubik, sans-serif !important;
          font-size: 12px !important;
          font-weight: 600 !important;
          text-transform: uppercase !important;
          padding: 8px !important;
          text-align: center !important;
        }
      }
    }
    
    tbody {
      tr {
        td {
          padding: 4px !important;
          text-align: center !important;
          
          &.external {
            opacity: 0.3 !important;
          }
          
          &.today {
            div {
              background: rgba(59, 130, 246, 0.2) !important;
              border: 1px solid rgba(59, 130, 246, 0.4) !important;
            }
          }
          
          &.selected {
            div {
              background: var(--accent-bg) !important;
              color: white !important;
              border-color: var(--accent-bg) !important;
            }
          }
          
          div {
            color: white !important;
            font-family: Rubik, sans-serif !important;
            font-size: 14px !important;
            padding: 8px !important;
            border-radius: 6px !important;
            cursor: pointer !important;
            transition: all 0.2s ease !important;
            border: 1px solid transparent !important;
            
            &:hover {
              background: rgba(255, 255, 255, 0.1) !important;
            }
          }
        }
      }
    }
  }
}

// Data Management Admin Page
.adminPage {
  background: var(--background-primary, #0a0a0a) !important;
  display: flex !important;
  gap: 20px !important;
  padding: 20px !important;
  height: calc(100vh - 120px) !important;
  
  .adminList.filterBox {
    background: rgba(255, 255, 255, 0.05) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    border-radius: 12px !important;
    backdrop-filter: blur(10px) !important;
    width: 280px !important;
    min-width: 280px !important;
    overflow: hidden !important;
    
    .list {
      padding: 8px !important;
      max-height: 100% !important;
      overflow-y: auto !important;
      
      .item {
        background: transparent !important;
        color: rgba(255, 255, 255, 0.8) !important;
        font-family: Rubik, sans-serif !important;
        font-size: 14px !important;
        padding: 12px 16px !important;
        border-radius: 8px !important;
        cursor: pointer !important;
        transition: all 0.2s ease !important;
        margin-bottom: 4px !important;
        
        &:hover {
          background: rgba(255, 255, 255, 0.1) !important;
          color: white !important;
          transform: translateX(2px) !important;
        }
        
        &.selected {
          background: var(--accent-bg) !important;
          color: white !important;
          font-weight: 600 !important;
        }
      }
      
      // Custom scrollbar
      &::-webkit-scrollbar {
        width: 8px !important;
      }
      
      &::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.05) !important;
        border-radius: 4px !important;
      }
      
      &::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.2) !important;
        border-radius: 4px !important;
        
        &:hover {
          background: rgba(255, 255, 255, 0.3) !important;
        }
      }
    }
  }
  
  .resultsPane.filterBox {
    flex: 1 !important;
    background: rgba(255, 255, 255, 0.05) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    border-radius: 12px !important;
    backdrop-filter: blur(10px) !important;
    display: flex !important;
    flex-direction: column !important;
    overflow: hidden !important;
    
    .uiResultsTable {
      flex: 1 !important;
      display: flex !important;
      flex-direction: column !important;
      
      .chromeBugWrapper {
        flex: 1 !important;
        display: flex !important;
        flex-direction: column !important;
        
        table.header {
          background: rgba(255, 255, 255, 0.08) !important;
          border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
          
          thead tr th.tableHeader {
            color: white !important;
            font-family: Rubik, sans-serif !important;
            font-size: 13px !important;
            font-weight: 600 !important;
            text-transform: uppercase !important;
            letter-spacing: 0.5px !important;
            padding: 16px !important;
            text-align: left !important;
            
            &.message {
              flex: 1 !important;
            }
          }
        }
        
        .tableWrapper {
          flex: 1 !important;
          overflow-y: auto !important;
          
          table.body {
            width: 100% !important;
            
            tbody {
              tr.selectableRow {
                border-bottom: 1px solid rgba(255, 255, 255, 0.05) !important;
                transition: all 0.2s ease !important;
                cursor: pointer !important;
                
                &:hover {
                  background: rgba(255, 255, 255, 0.05) !important;
                }
                
                td {
                  color: rgba(255, 255, 255, 0.9) !important;
                  font-family: Rubik, sans-serif !important;
                  font-size: 14px !important;
                  padding: 12px 16px !important;
                }
              }
            }
          }
          
          // Custom scrollbar
          &::-webkit-scrollbar {
            width: 8px !important;
          }
          
          &::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05) !important;
            border-radius: 4px !important;
          }
          
          &::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2) !important;
            border-radius: 4px !important;
            
            &:hover {
              background: rgba(255, 255, 255, 0.3) !important;
            }
          }
        }
        
        .footer {
          background: rgba(255, 255, 255, 0.03) !important;
          border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
          padding: 12px 16px !important;
          display: flex !important;
          align-items: center !important;
          gap: 16px !important;
          
          .selected,
          .found {
            color: rgba(255, 255, 255, 0.7) !important;
            font-family: Rubik, sans-serif !important;
            font-size: 13px !important;
            
            .limit,
            .count {
              color: white !important;
              font-weight: 600 !important;
            }
          }
          
          button.uiButton {
            background: rgba(255, 255, 255, 0.08) !important;
            border: 1px solid rgba(255, 255, 255, 0.2) !important;
            border-radius: 8px !important;
            color: white !important;
            padding: 8px 16px !important;
            font-family: Rubik, sans-serif !important;
            font-size: 13px !important;
            cursor: pointer !important;
            transition: all 0.2s ease !important;
            margin-left: auto !important;
            
            &:hover {
              background: rgba(255, 255, 255, 0.12) !important;
              border-color: var(--accent-bg) !important;
              transform: translateY(-1px) !important;
            }
          }
        }
      }
    }
  }
  
  // Connected Apps page styling
  .connectedApps {
    .appManagement {
      .uiResultsTable {
        .chromeBugWrapper {
          table.header {
            background: rgba(255, 255, 255, 0.08) !important;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
            
            thead tr th.tableHeader {
              color: white !important;
              background: transparent !important;
              background-color: transparent !important;
              font-family: Rubik, sans-serif !important;
              font-size: 13px !important;
              font-weight: 600 !important;
              text-transform: uppercase !important;
              letter-spacing: 0.5px !important;
              padding: 16px !important;
              text-align: left !important;
              
              div {
                color: white !important;
                background: transparent !important;
                background-color: transparent !important;
              }
            }
            
            thead tr th.tableHeader.name {
              background: transparent !important;
              background-color: transparent !important;
              
              div {
                color: white !important;
                background: transparent !important;
                background-color: transparent !important;
              }
            }
          }
          
          // Direct selector for th.name to ensure it overrides everything
          th.name,
          th.tableHeader.name {
            background: transparent !important;
            background-color: transparent !important;
            
            div {
              background: transparent !important;
              background-color: transparent !important;
            }
          }
          
          .footer {
            background: rgba(255, 255, 255, 0.03) !important;
            border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
            padding: 12px 16px !important;
            display: flex !important;
            align-items: center !important;
            gap: 16px !important;
            color: rgba(255, 255, 255, 0.7) !important;
            
            .selected,
            .found {
              color: rgba(255, 255, 255, 0.7) !important;
              font-family: Rubik, sans-serif !important;
              font-size: 13px !important;
              
              .limit,
              .count {
                color: white !important;
                font-weight: 600 !important;
              }
            }
          }
        }
      }
    }
  }
  
  [class*="manage__editor"] {
    width: 400px !important;
    min-width: 400px !important;
    background: rgba(255, 255, 255, 0.05) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    border-radius: 12px !important;
    backdrop-filter: blur(10px) !important;
    display: flex !important;
    flex-direction: column !important;
    
    [class*="manage__editorToolbar"] {
      background: rgba(255, 255, 255, 0.05) !important;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
      padding: 12px 16px !important;
      display: flex !important;
      align-items: center !important;
      gap: 8px !important;
      
      &:last-child {
        border-bottom: none !important;
        border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
      }
      
      [class*="manage__spacer"] {
        flex: 1 !important;
      }
      
      button {
        background: rgba(255, 255, 255, 0.08) !important;
        border: 1px solid rgba(255, 255, 255, 0.2) !important;
        border-radius: 8px !important;
        color: white !important;
        padding: 8px 12px !important;
        font-family: Rubik, sans-serif !important;
        font-size: 14px !important;
        cursor: pointer !important;
        transition: all 0.2s ease !important;
        
        &:hover {
          background: rgba(255, 255, 255, 0.12) !important;
          border-color: var(--accent-bg) !important;
        }
        
        &[class*="manage__saveButton"] {
          background: var(--accent-bg) !important;
          border-color: var(--accent-bg) !important;
          
          &:hover {
            background: var(--accent-hover) !important;
            border-color: var(--accent-hover) !important;
          }
        }
        
        svg {
          width: 20px !important;
          height: 20px !important;
          fill: currentColor !important;
        }
      }
    }
    
    [class*="manage__editorBody"] {
      flex: 1 !important;
      padding: 20px !important;
      overflow-y: auto !important;
      
      [class*="manage__message"] {
        color: rgba(255, 255, 255, 0.7) !important;
        font-family: Rubik, sans-serif !important;
        font-size: 14px !important;
        text-align: center !important;
        padding: 40px 20px !important;
      }
      
      [class*="manage__field"] {
        margin-bottom: 20px !important;
        
        label {
          color: white !important;
          font-family: Rubik, sans-serif !important;
          font-size: 13px !important;
          font-weight: 600 !important;
          margin-bottom: 8px !important;
          display: block !important;
          text-transform: uppercase !important;
          letter-spacing: 0.5px !important;
        }
        
        input.uiShortText,
        input[type="text"],
        textarea {
          background: rgba(255, 255, 255, 0.08) !important;
          border: 1px solid rgba(255, 255, 255, 0.2) !important;
          border-radius: 8px !important;
          color: white !important;
          padding: 10px 12px !important;
          font-family: Rubik, sans-serif !important;
          font-size: 14px !important;
          width: 100% !important;
          transition: all 0.2s ease !important;
          
          &:focus {
            background: rgba(255, 255, 255, 0.12) !important;
            border-color: var(--accent-bg) !important;
            outline: none !important;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2) !important;
          }
          
          &::placeholder {
            color: rgba(255, 255, 255, 0.4) !important;
          }
        }
        
        textarea {
          min-height: 120px !important;
          resize: vertical !important;
        }
      }
      
      // Custom scrollbar
      &::-webkit-scrollbar {
        width: 8px !important;
      }
      
      &::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.05) !important;
        border-radius: 4px !important;
      }
      
      &::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.2) !important;
        border-radius: 4px !important;
        
        &:hover {
          background: rgba(255, 255, 255, 0.3) !important;
        }
      }
    }
  }
}

.legacy-root input,
.legacy-root textarea,
.legacy-root select,
.legacy-root option,
.legacy-root .input {
  background: transparent;
  color: var(--text-primary);
}
body {
  background: var(--theme-primary);
  overflow: hidden;
}
.shortcuticondiv {
  height: 39px;
  width: 39px;
  border-radius: 50%;
  padding: 0;
  margin: auto 0px auto 10px;
  background-repeat: no-repeat;
  background-size: contain;
}
.forumView > .messages > .thread,
.forumView > .messages > .deletedPlaceholder,
.forumView > .addMessage,
.forumView .greeting,
.forumView .assessment {
  background: var(--better-main);
}
.dailycal
  > .content
  > .wrapper
  > .days
  > tbody
  > tr
  > td
  > .entriesWrapper
  > .entry {
  padding: 3px;
  transition: opacity 0.2s ease-in-out;
}
[class*="Viewer__Viewer___"] {
  background: unset;

  [class*="ReadingPane__ReadingPane___"] {
    > [class*="Message__unread___"] > header {
      box-shadow: none !important;
      position: relative;

      &::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        width: 4px;
        background: var(--better-main);
      }
    }
  }
}
.weekend {
  display: none !important;
}
.days {
  width: 100%;
}
.modaliser {
  display: none;
  background: var(--better-main);
}

[class*="MessageList__unread___"] {
  position: relative;
  background: rgb(228 225 225);
}

.dark [class*="MessageList__unread___"] {
  background: rgba(0, 0, 0, 0.1);
}

[class*="MessageList__MessageList___"] > ol > li:hover {
  background: var(--theme-offset-bg-more);
}

.MenuButton__Menu___gXTaY > button {
  border-radius: 1600px;
}

[class*="MessageList__MessageList___"]
  > ol
  > li[class*="MessageList__selected___"]
  [class*="MessageList__unread___"] {
  box-shadow: none;
}

[class*="Message__Message___"] [class*="Message__unread___"] > header {
  box-shadow: none;
}

[class*="MessageList__MessageList___"]
  > ol
  > li[class*="MessageList__unread___"]::before,
[class*="MessageList__MessageList___"] > ol > li::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  background: var(--better-main);
  width: 0px;
  transition: width 0.1s;
}

[class*="MessageList__MessageList___"]
  > ol
  > li[class*="MessageList__unread___"]::before {
  width: 3px;
}
.connectedNotificationsWrapper > div > button {
  background: var(--text-primary) !important;
  border-radius: 10px !important;
  color: var(--background-primary) !important;
  height: 42px;
  justify-content: center;
  right: 47px;
  top: 14px;
  width: 42px;
  z-index: 21;
}
#userActions > .details > .name::before {
  content: "";
  width: 14px;
  height: 12px;
  background-image: url("../resources/icons/betterseqta-light-outline.png");
  display: inline-block;
  background-size: 18px 18px;
  color: #fff;
  margin-right: 2px;
  background-position: center;
  vertical-align: top;
}
#userActions > .details {
  opacity: unset !important;
  color: var(--text-color);
}
.defaultWelcomeWrapper {
  background: unset !important;
}
.clr-swatches button::after,
.clr-dark .clr-preview::after,
.clr-field button::after {
  opacity: unset;
  padding-top: unset;
  -webkit-transform: unset;
  transform: unset;
  -webkit-transform-origin: unset;
  transform-origin: unset;
  visibility: unset;
  -webkit-animation-name: unset !important;
  animation-name: unset !important;
  background-color: currentColor !important;
}
.clr-swatches button {
  align-items: unset;
  display: block;
  padding: unset;
  transition: none;
}
.clr-clear {
  display: none !important;
}
.clr-preview::before,
.clr-preview::after {
  visibility: unset;
  -webkit-transform-origin: unset;
  transform-origin: unset;
  -webkit-transform: unset;
  transform: unset;
  padding-top: unset;
  opacity: unset;
}
#clr-color-preview {
  margin: 15px 0 20px 20px;
  border: 0;
  border-radius: 50%;
  overflow: hidden;
  cursor: pointer;
}

.dark
  [class*="MessageList__MessageList___"]
  > ol
  > li[class*="MessageList__selected___"] {
  background: var(--background-secondary);
}

[class*="MessageList__MessageList___"]
  > ol
  > li[class*="MessageList__selected___"] {
  background: rgb(228 225 225);
  color: var(--text-primary);
  box-shadow: none !important;
  position: relative;
}
.NewsArticle {
  border-radius: 16px !important;
  overflow: hidden;
  width: 100%;
  padding: 0 !important;
  background: var(--background-primary) !important;
  color: var(--text-primary);
  display: flex;
  flex-direction: row;
  -webkit-box-shadow: 0px 5px 16px 6px rgba(0, 0, 0, 0.3);
  box-shadow: 0px 5px 16px 6px rgba(0, 0, 0, 0.3);

  &:hover {
    .ArticleText a {
      text-decoration: underline;
    }
  }

  .ArticleText a {
    padding: 10px 20px;
    margin: 0;
    font-weight: 800;
    font-size: 2em;
    background: none;
  }

  .ArticleText p {
    padding: 10px 20px;
    margin: 0;
    font-size: 1.5em;
  }

  .ArticleText {
    display: flex;
    flex-direction: column;
    width: 65%;
    height: 100%;
  }

  .articleimage {
    width: 35%;
    background-position: center;
    background-size: cover;
    min-height: 18em;
    background-repeat: no-repeat;
  }
}

#news-container {
  gap: 16px;

  > h1 {
    margin-bottom: 12px;
  }
}
.editmenu {
  position: absolute;
  right: 0;
  height: 64px;
  align-items: center;
  display: flex;
  width: 20%;
  justify-content: center;
}
.editmenu svg:hover > path {
  fill: #aaaaaa;
}
.editmenu svg:hover {
  cursor: pointer;
}
.notMenuCover {
  width: 100%;
  height: 100%;
  background: black;
  position: absolute;
  z-index: 10;
  opacity: 0.4;
}
#menu {
  --menuHidden: none;
}
.editmenuoption {
  background: var(--background-primary);
  color: var(--text-primary);
  border-radius: 5px;
  margin: 0 10px;
  padding: 8px;
  cursor: pointer;
}
.editmenuoption-container {
  width: 100%;
  height: 42px;
  background: var(--better-main);
  bottom: 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.logout {
  background: none !important;
  padding: 5px 10px;
}

#logouttooltip {
  width: 50px !important;
  margin-left: -28px !important;
  top: 105% !important;

  .uiButton svg g {
    color: var(--background-primary) !important;
  }
}
.svg {
  transform-origin: center;
  position: absolute;
  top: 50%;
  left: 50%;
}
.logo {
  transform: translate(-50%, -50%);
}
.big-circle {
  margin: -88px;
  animation: spin 3s ease infinite;
  -moz-animation: spin 3s ease infinite;
}

.small-circle {
  margin: -66px;
  animation: spin 3s ease infinite;
  -moz-animation: spin 3s ease infinite;
}

.dark [class*="LabelList__name___"] {
  text-shadow: 0 0 5px black;
}
[class*="LabelList__name___"] {
  display: flex;
  align-items: center;
}
[data-label="inbox"] > [class*="LabelList__name___"]::before {
  content: "\eb70";
  color: currentColor;
  font-size: 16px;
  margin-right: 8px;
  font-family: "IconFamily";
  pointer-events: none;
}
[data-label="outbox"] > [class*="LabelList__name___"]::before {
  content: "\eca6";
  color: currentColor;
  font-size: 16px;
  margin-right: 8px;
  font-family: "IconFamily";
  pointer-events: none;
}
[data-label="starred"] > [class*="LabelList__name___"]::before {
  content: "\ece8";
  color: currentColor;
  font-size: 16px;
  margin-right: 8px;
  font-family: "IconFamily";
  pointer-events: none;
}
[data-label="trash"] > [class*="LabelList__name___"]::before {
  content: "\ed2c";
  color: currentColor;
  font-size: 16px;
  margin-right: 8px;
  font-family: "IconFamily";
  pointer-events: none;
}
.outer-circle {
  margin: -108px;
  animation: spinback 1s linear infinite alternate-reverse;
  -moz-animation: spinback 1s linear infinite alternate-reverse;
}
@-moz-keyframes spin {
  100% {
    -moz-transform: rotate(360deg);
  }
}
@-webkit-keyframes spin {
  100% {
    -webkit-transform: rotate(360deg);
  }
}
@keyframes spin {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
@keyframes spinback {
  100% {
    -webkit-transform: rotate(-360deg);
    transform: rotate(-360deg);
  }
}
.day-button {
  height: 25px;
  width: 25px;
  position: absolute;
  bottom: 20px;
}
#userActions > .details > .code {
  text-transform: initial;
  overflow: visible !important;
}
.code {
  position: relative;
  cursor: pointer;
}
.code:before {
  content: attr(data-hover);
  visibility: hidden;
  opacity: 0;
  width: 160px;
  background-color: #1a1a1a;
  color: var(--text-primary);
  text-align: center;
  border-radius: 5px;
  padding: 5px 0;
  transition: opacity 0.4 ease-in-out;
  position: absolute;
  z-index: 20;
  left: 0;
  top: -25px;
}
.code:hover:before {
  opacity: 1;
  visibility: visible;
}

.sortable-ghost {
  opacity: 0;
}
#menuToggle {
  width: 36px;
  position: fixed;
  height: 36px;
  top: 20.8px !important;
  left: 8px;
  z-index: 21;
  display: none;
  padding: 6px;
}
#menuToggle:hover {
  box-shadow: unset;
}
.hamburger-line {
  width: 100%;
  height: 3px;
  border-radius: 16px;
  background-color: var(--text-primary);
  margin: 3px 0;
  transition: all 0.3s ease;
}
.menuShown #menuToggle .hamburger-line:nth-child(1) {
  transform: translateY(6px) rotate(45deg);
}
.menuShown #menuToggle .hamburger-line:nth-child(2) {
  opacity: 0;
}
.menuShown #menuToggle .hamburger-line:nth-child(3) {
  transform: translateY(-6px) rotate(-45deg);
}
div.day-empty {
  display: flex;
  align-items: center;
  height: 15em;
  width: 100%;
  border-radius: 16px 0;
  padding: 0 !important;

  img {
    margin: 20px;
    height: 50%;
  }

  p {
    margin: 0;
    font-size: 30px;
  }
}
.upcoming-submittedtext {
  align-self: center;
  padding: 8px 25px;
  background: var(--item-colour);
  color: white;
  border-radius: 30px;
}
.upcoming-container {
  width: 100%;
  max-height: 60em;
  background: var(--better-main);
  display: flex;
  flex-direction: column;
  -webkit-box-shadow: 0px 5px 16px 6px rgba(0, 0, 0, 0.3);
  box-shadow: 0px 5px 16px 6px rgba(0, 0, 0, 0.3);
}
.upcoming-container h2 {
  margin: 20px;
  font-size: 20px;
  font-weight: 400;
}
.messages-container {
  width: 100%;
  max-height: 60em;
  background: var(--better-main);
  display: flex;
  flex-direction: column;
  -webkit-box-shadow: 0px 5px 16px 6px rgba(0, 0, 0, 0.3);
  box-shadow: 0px 5px 16px 6px rgba(0, 0, 0, 0.3);
}
.messages-container h2 {
  margin: 20px;
  font-size: 20px;
  font-weight: 400;
}
.messages-container .home-subtitle {
  margin: 20px;
  margin-bottom: 12px;
}
.messages-container .home-subtitle a {
  color: var(--text-secondary, rgba(255, 255, 255, 0.7));
  text-decoration: none;
  font-size: 14px;
  transition: color 0.2s ease;
  margin-right: 20px;
}
.messages-container .home-subtitle a:hover {
  color: var(--text-primary, white);
}
.messages-items {
  background: var(--background-primary);
  width: 100%;
  max-height: 55em;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  color: var(--text-primary);
  transition: 200ms, background-color 0s;
  border-radius: 16px;
  padding: 12px;
  gap: 8px;
}
.dark .messages-items {
  box-shadow: inset 0px 40px 80px -40px rgba(0, 0, 0, 0.6);
}
.message-card {
  padding: 16px;
  margin-bottom: 12px;
  background: var(--background-secondary, rgba(255, 255, 255, 0.05));
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
  border: 1px solid var(--border-primary, rgba(255, 255, 255, 0.1));
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.message-card.message-unread {
  border-left: 3px solid var(--accent-bg, #4CAF50);
  background: var(--background-secondary, rgba(255, 255, 255, 0.08));
}

.message-card:hover {
  background: var(--button-hover, rgba(255, 255, 255, 0.1));
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  border-color: var(--accent-bg, rgba(76, 175, 80, 0.5));
}

.message-card:active {
  transform: translateY(0);
}

.message-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 12px;
}

.message-sender {
  display: flex;
  align-items: center;
  font-weight: 600;
  color: var(--text-primary, white);
  font-size: 15px;
  flex: 1;
  min-width: 0;
}

.message-sender-name {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.message-unread-badge {
  display: inline-block;
  width: 10px;
  height: 10px;
  background: var(--accent-bg, #4CAF50);
  border-radius: 50%;
  margin-right: 10px;
  flex-shrink: 0;
  box-shadow: 0 0 0 2px var(--background-secondary, rgba(255, 255, 255, 0.05));
}

.message-date {
  font-size: 12px;
  color: var(--text-secondary, rgba(255, 255, 255, 0.7));
  white-space: nowrap;
  flex-shrink: 0;
  font-weight: 500;
}

.message-subject {
  color: var(--text-primary, white);
  font-size: 15px;
  font-weight: 600;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  line-height: 1.4;
}

.message-preview {
  color: var(--text-secondary, rgba(255, 255, 255, 0.7));
  font-size: 13px;
  line-height: 1.5;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  margin-top: 4px;
}
.upcoming-subject-title {
  color: var(--text-primary);
  width: 15%;
  font-size: 20px;
  text-align: center;
  padding: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 5px 0px 0px 5px;
  background: var(--item-colour);
}
.upcoming-assessment {
  border: 2px solid var(--item-colour);
  margin: 5px 50px;
  height: 6em;
  padding: 0px;
  border-radius: 10px;
  display: flex;
}
.upcoming-date-title {
  padding: 12px;
  font-size: 20px;
}
.upcoming-details p:hover {
  cursor: pointer;
  text-decoration: underline;
}
.upcoming-blank {
  display: flex;
  border-bottom: 2px solid #bebebe;
  margin: 5px 50px;
  height: 2em;
  padding: 0px;
}
.upcoming-tick {
  align-self: center;
}
.upcoming-title h2 {
  width: 100%;
  color: var(--text-primary) !important;
}
.upcoming-filters {
  display: flex;
  height: 26px;
  width: 65%;
  align-self: center;
  align-items: center;
  color: var(--text-color);
  padding: 5px;
  overflow-x: scroll;
  overflow-y: hidden;
}
.upcoming-checkbox-container {
  position: relative;
  padding: none !important;
  padding-left: 25px !important;
  padding-right: 10px !important;
  cursor: pointer;
  font-size: 12px;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  height: 20px;
  align-items: center;
  display: flex;
}

.upcoming-hiddenassessment {
  color: #797979;
}

.calendarEventEditor > .tabset > .item {
  border-radius: 0 !important;
}

.calendar {
  background: var(--background-primary) !important;
  color: var(--text-primary) !important;
  border-radius: 16px !important;
  margin-top: 4px;

  &.container {
    box-shadow: -2px 2px 30px 0px rgba(0, 0, 0, 0.3) !important;
  }

  table {
    background: transparent !important;
  }

  .uiButton {
    background: rgba(0, 0, 0, 0.5) !important;
    color: var(--text-primary) !important;
  }
}

[class*="MessageList__MessageList___"] > header {
  display: flex;
  justify-content: space-between;
}
.messages-filterbutton {
  height: 34px;
  width: 25%;
  background: var(--better-main);
  border-radius: 5px;
  display: none;
  justify-content: center;
  align-items: center;
  color: var(--text-color);
  cursor: pointer;
}
.day {
  display: flex;
  flex-direction: column;
  box-shadow:
    inset 0px 6px 0 var(--item-colour, transparent),
    inset 0px 40px 50px -40px rgba(179, 179, 179, 0.9);
  transition: 200ms;
  position: relative;
  height: 15em;
  color: var(--text-primary);
  background: var(--background-primary);
  font-family: Rubik, sans-serif;
}
.dark .day {
  box-shadow:
    inset 0px 6px 0 var(--item-colour, transparent),
    inset 0px 40px 50px -40px rgba(0, 0, 0, 0.9);
}
.day:hover {
  background: var(--background-secondary);
  transition: 200ms;
}
.dark .day h3 {
  color: #c1bcbc;
}

.upcoming-items {
  background: var(--background-primary);
  width: 100%;
  max-height: 55em;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  color: var(--text-primary);
  transition:
    200ms,
    background-color 0s;
  border-radius: 16px;
}
.dark .upcoming-items {
  box-shadow: inset 0px 40px 80px -40px rgba(0, 0, 0, 0.6);
}
.upcoming-assessment-title {
  color: var(--text-primary);
  transition: 200ms;
  font-size: 10px;
  margin: 0;
}
.upcoming-date-container {
  margin-bottom: 20px;
}
.upcoming-date-title h5 {
  margin: 0;
  font-weight: 500;
}
.upcoming-details {
  width: 60%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: 0px 12px;
}
.upcoming-details h5 {
  text-transform: uppercase;
  color: #aaaaaa;
  padding: 0px 4px;
  margin: 0;
}
.upcoming-details p {
  font-size: 15px;
  padding: 4px;
}
.upcoming-special-day {
  font-size: 20px;
}
.upcoming-blank {
  display: flex;
  border-bottom: 2px solid #bebebe;
  margin: 5px 50px;
  height: 2em;
  padding: 0px;
}
.upcoming-blank p {
  padding: 0;
  margin: 0;
}
.upcoming-title {
  display: flex;
  align-content: space-between;
}
.upcoming-checkbox-container input {
  position: absolute;
  opacity: 0;
  cursor: pointer;
  height: 0;
  width: 0;
  padding: 0;
}
.upcoming-checkmark {
  position: absolute;
  top: 0;
  left: 0;
  height: 15px;
  width: 15px;
  border: 3px solid var(--item-colour);
  border-radius: 5px;
  color: var(--text-color);
}
.upcoming-checkbox-container:hover input ~ .upcoming-checkmark {
  filter: brightness(0.8);
}
.upcoming-checkbox-container input:checked ~ .upcoming-checkmark {
  background: var(--item-colour);
}
.upcoming-checkmark:after {
  content: "";
  position: absolute;
  display: none;
}
.upcoming-checkbox-container input:checked ~ .upcoming-checkmark:after {
  display: block;
}
.upcoming-checkbox-container .upcoming-checkmark:after {
  left: 3.5px;
  top: 0px;
  width: 5px;
  height: 10px;
  border: solid white;
  border-width: 0 3px 3px 0;
  -webkit-transform: rotate(45deg);
  -ms-transform: rotate(45deg);
  transform: rotate(45deg);
}
.titlebar {
  align-items: center;
  transition: 200ms;
  color: var(--text-primary);
  display: flex;
  min-height: 32px;
  height: 64px;
  justify-content: space-between;
  z-index: 21;
  position: absolute;
  right: 250px;
}
.pagename {
  align-items: center;
  display: flex;
  font-size: 20px;
}
.pagename svg {
  width: 50px;
  height: 50px;
  margin-left: 12px;
  margin-right: 8px;
}
.shadow {
  box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
}
.userInfo {
  display: flex;
  align-items: center;
  padding-top: 4px;
}
.userInfoText {
  text-align: end;
}
.userInfoName {
  margin: 0 !important;
  font-size: 20px;
  font-weight: 500;
}
.userInfoCode {
  margin: 0 !important;
}
.userInfosvg {
  width: 50px;
  height: 50px;
  color: var(--better-main);
  z-index: 3;
  position: absolute;
}
.userInfosvgdiv {
  width: 50px !important;
  height: 50px !important;
  color: var(--better-main);
  margin: 10px;
  z-index: 3;
  position: absolute !important;
  right: -70px !important;
  top: -2px !important;
}
.userInfosvgdiv::before {
  content: "";
  width: 70%;
  height: 70%;
  background: var(--theme-primary);
  position: absolute;
  border-radius: 16000px;
  top: 15%;
  left: 15%;
}
.userInfosvg::after {
  width: 35px;
  height: 35px;
  background: antiquewhite;
  position: absolute;
}
.userInfohouse {
  padding: 0px 10px;
  font-size: 15px;
  margin: 0 8px !important;
  border-radius: 5px;
  color: var(--text-primary);
  background: var(--auto-background);
  outline: solid 1px black;
}
.DarkLightButton {
  right: 145px !important;
  z-index: 21 !important;
  top: 17.5px;
}
.whatsnewContainer {
  position: absolute;
  width: 38em;
  height: 95%;
  max-height: 60em;
  background: var(--background-primary);
  z-index: 50;
  border-radius: 20px;
  margin: auto;
  display: flex;
  flex-direction: column;
  color: var(--text-primary);
  transform-origin: center center;
}
.whatsnewTextContainer.privacyStatement p {
  margin-bottom: 1.5ex;

  &:last-child {
    margin-bottom: 0;
  }
}
.whatsnewTextContainer.privacyStatement a {
  background: rgba(184, 184, 184, 0.1);
  border-radius: 0.5rem;
  margin-left: 0.25rem;
  padding: 2px 4px;
}
.dark .whatsnewTextContainer.privacyStatement a {
  background: rgba(7, 7, 7, 0.1);
}
.whatsnewHeader {
  margin: 20px;
  width: 100%;
  height: 3em;
  display: flex;
  flex-direction: column;
}
.whatsnewHeader h1 {
  font-size: 2em;
}
.whatsnewHeader p {
  font-size: 1em;
  color: var(--text-primary);
}
.whatsnewBackground {
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
  display: grid;
  place-items: center;
  background: rgba(0, 0, 0, 0.5);
  z-index: 49;
  transform: scale(1) !important;
}
.whatsnewImgContainer {
  width: 96%;
  display: flex;
  margin: 0 auto;
}
.whatsnewImg {
  margin: 0 auto;
  width: 90%;
  aspect-ratio: 16 / 10;
  border-radius: 16px;
  box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.3);
}
.whatsnewTextContainer {
  display: flex;
  overflow-x: hidden;
  flex-direction: column;
  width: 90%;
  margin: 5px auto;
}
.whatsnewTextContainer li {
  margin: 2px 0;
  list-style-type: disc;
  list-style-position: inside;
  text-indent: -1em;
  padding-left: 1em;
}
.whatsnewTextContainer .beta {
  padding-left: 0.5rem;
  padding-right: 0.5rem;
  padding-top: 0.125rem;
  padding-bottom: 0.125rem;
  margin-left: 2px;
  font-size: 0.75rem;
  font-weight: 500;
  color: #9a3412;
  border-radius: 9999px;
  border: 1px solid rgba(253, 186, 140, 0.3);
  background-color: #ffedd5;
  border-color: rgba(253, 186, 140, 0.3);
}
.dark .whatsnewTextContainer .beta {
  border-color: rgb(124 45 18 / 0.3);
  background-color: rgb(124 45 18 / 0.3);
  color: rgb(253 186 116);
}
.whatsnewTextHeader {
  font-size: 1.4em !important;
  color: #4dd868;
  font-weight: 600;
  width: fit-content;
  position: relative;
}
.whatsnewTextHeader::after {
  content: "";
  width: 160%;
  height: 2px;
  background: #4dd868;
  margin-left: 10px;
  position: absolute;
  top: 50%;
}
.whatsnewFooter {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 3em;
  border-radius: 0 0px 20px 20px;
  background: var(--theme-secondary);
  display: flex;
  justify-content: space-between;
  align-items: center;
  z-index: 2;
}
.whatsnewFooter a {
  border: none;
}
.whatsnewFooter div {
  margin: 0 15px;
  display: flex;
  align-items: center;
}
#whatsnewclosebutton {
  position: absolute;
  top: 16px;
  right: 20px;
  font-size: 2em;
  padding: 5px;
  cursor: pointer;
}
#whatsnewclosebutton::before {
  content: "\ed8a";
  color: currentColor;
  font-size: 24px;
  font-family: "IconFamily";
  pointer-events: none;
}
.whatsnewTextContainer h1:not(.whatsnewTextHeader) {
  position: sticky;
  font-size: 1.2em;
  width: 100%;
  top: 0;
  background: var(--background-primary) !important;
  z-index: 1;
  padding: 12px;
  padding-left: 0px;
  padding-bottom: 8px;
}

.whatsnewTextContainer img {
  width: 100%;
  border-radius: 12px;
  aspect-ratio: 16/9;
  object-fit: cover;
  margin-bottom: 12px;
}

@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

.loading {
  &.upcoming-items,
  &.day-container {
    background: linear-gradient(
      90deg,
      var(--background-primary) 0%,
      var(--background-secondary) 50%,
      var(--background-primary) 100%
    );
    background-size: 1000px 100%;
    animation: shimmer 2s infinite linear;
  }

  &.upcoming-items {
    height: 35em;
  }
}

.pane .formattedText > .wrapper {
  overflow: visible;
}

.cke_toolbar:has(.cke_button__seqta-align-left) {
  overflow: visible !important;

  .cke_toolgroup {
    position: relative;
    display: inline-block;
    min-width: 32px;

    .cke_button {
      position: absolute;
      top: 0;
      left: 0;
      visibility: hidden;
      z-index: 100;
      width: 32px;
      margin: 0;
      border: none !important;
      border-radius: 8px !important;
      transition:
        transform 0.2s ease-out,
        visibility 0s linear,
        background 0.3s ease,
        border-radius 0.3s ease !important;

      &:first-child {
        visibility: visible !important;
        z-index: 101;
      }

      &.cke_button_on {
        visibility: visible;
        position: absolute;
        transition: transform 0.3s ease;
        z-index: 101;

        & + .cke_button:first-child {
          z-index: 100;
        }
      }

      .cke_button_icon {
        margin: 0 !important;
      }
    }

    &:before {
      content: "";
      position: absolute;
      top: -4px;
      left: -4px;
      right: -4px;
      bottom: calc(-300% - 10px);
      border-radius: 16px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
      background: var(--background-primary) !important;
      z-index: 100;
      transform: scale(0.65, 0.2);
      transform-origin: 50% 6px;
      visibility: hidden;
      transition: all 0.2s ease-out;
    }

    &:hover {
      &:hover:before {
        transform: scale(1);
        border-radius: 16px;
        visibility: visible;
      }
      .cke_button {
        visibility: visible;
        transition-delay: 0s;

        &:first-child {
          transform: translateY(0);
          border-top-left-radius: 12px !important;
          border-top-right-radius: 12px !important;
        }
        &:nth-child(2) {
          transform: translateY(calc(100% + 2px));
        }
        &:nth-child(3) {
          transform: translateY(calc(200% + 4px));
        }
        &:nth-child(4) {
          transform: translateY(calc(300% + 6px));
        }
        &:nth-child(5) {
          transform: translateY(calc(400% + 6px));
        }
        &:nth-child(6) {
          transform: translateY(calc(500% + 6px));
        }
        &:last-child {
          border-bottom-left-radius: 12px !important;
          border-bottom-right-radius: 12px !important;
        }
      }
    }

    &:not(:hover)
      .cke_button:not(.cke_button_on):not(
        .cke_button__seqta-align-left:first-child
      ) {
      transform: translateY(0);
      visibility: hidden;
      transition:
        transform 0.3s ease,
        visibility 0s linear 0.3s;
    }
  }
}

.noscroll * {
  -ms-overflow-style: none;
  scrollbar-width: none !important;
}

#menu ul {
  -ms-overflow-style: none;
  scrollbar-width: none !important;
}

.notice-unified-content.notice-modal-state {
  border: none !important;
}

.notice-unified-content.notice-card-state:not([data-transitioning]) {
  cursor: pointer;

  &:hover {
    background: var(--background-secondary) !important;
    border-color: rgba(255, 255, 255, 0.2) !important;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15) !important;
  }

  &:last-child {
    margin-bottom: 0;
  }
}

.notice-badge {
  padding: 4px 10px;
  border-radius: 16px;
  font-size: 12px;
  font-weight: 500;
  white-space: nowrap;
}

.notice-staff {
  font-size: 12px;
  color: var(--text-secondary);
  opacity: 0.7;
}

.notice-preview {
  font-size: 14px;
  color: var(--text-secondary);
  line-height: 1.4;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

.notice-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(4px);
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
}

.notice-modal-transition {
  position: fixed;
  z-index: 10001;
  transition: none;
}

.notice-modal-content {
  background: var(--background-primary);
  border-radius: 16px;
  max-width: 600px;
  max-height: 80vh;
  width: 100%;
  overflow: hidden;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.1);

  &.notice-transitioning {
    max-width: none;
    max-height: none;
    width: 100%;
    height: 100%;
    position: relative;
  }
}

.notice-unified-content {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--background-primary);
  display: flex;
  flex-direction: column;
  padding: 16px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin: 0 !important;
    padding: 0 !important;
    font-weight: inherit !important;
    color: inherit !important;
    text-shadow: none !important;
  }

  .notice-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    flex-shrink: 0;
    margin-bottom: 12px;
    gap: 16px;
  }

  .notice-content-title {
    font-size: 20px !important;
    font-weight: 600 !important;
    color: var(--text-primary) !important;
    margin: 0 0 12px !important;
    line-height: 1.3 !important;
    flex-shrink: 0;
  }

  .notice-content-body {
    font-size: 14px !important;
    color: var(--text-secondary) !important;
    line-height: 1.5 !important;
    margin: 0 !important;
    flex: 1;
    display: block;
    min-width: 600px;
    width: 100%;
  }

  &.notice-card-state {
    .notice-content-body {
      overflow: hidden;
      max-height: 3em;
    }
  }

  &.notice-modal-state {
    .notice-close-btn {
      opacity: 1;
    }

    .notice-content-body {
      overflow-y: hidden;

      &::-webkit-scrollbar {
        width: 6px;
      }

      &::-webkit-scrollbar-track {
        background: transparent;
      }

      &::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.2);
        border-radius: 3px;
      }

      &::-webkit-scrollbar-thumb:hover {
        background: rgba(255, 255, 255, 0.3);
      }

      p {
        margin-bottom: 12px;

        &:last-child {
          margin-bottom: 0;
        }
      }

      a {
        color: var(--theme-primary);
        text-decoration: none;

        &:hover {
          text-decoration: underline;
        }
      }

      ul,
      ol {
        margin: 12px 0;
        padding-left: 20px;
      }

      li {
        margin-bottom: 4px;
      }
    }
  }
}

.dark .notice-unified-content {
  color: white;
}

.notice-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 16px;
}

.notice-badge-row {
  display: flex;
  align-items: center;
  gap: 12px;
  flex: 1;
}

button.notice-close-btn {
  position: absolute !important;
  font-size: 20px !important;
  top: 12px;
  right: 12px;
  background: var(--background-secondary);
  border: none;
  width: 32px;
  height: 32px;
  border-radius: 50% !important;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: var(--text-primary);
  transition: all 0.2s ease !important;
  flex-shrink: 0;
  opacity: 0;

  &:hover {
    background: var(--background-tertiary);
    transform: scale(1.1);
  }
}

.notice-modal-badge-row {
  display: flex;
  align-items: center;
  gap: 12px;
  flex: 1;
}

.notice-modal-badge {
  padding: 6px 12px;
  border-radius: 20px;
  font-size: 13px;
  font-weight: 500;
  white-space: nowrap;
}

.notice-modal-staff {
  font-size: 14px;
  color: var(--text-secondary);
  opacity: 0.8;
}

.notice-modal-close {
  background: var(--background-secondary);
  border: none;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: 18px;
  color: var(--text-primary);
  transition: all 0.2s ease;
  flex-shrink: 0;

  &:hover {
    background: var(--background-tertiary);
    transform: scale(1.1);
  }
}

.notice-modal-title {
  font-size: 24px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 16px 20px 20px;
  line-height: 1.3;
  flex-shrink: 0;
}

.notice-modal-body {
  padding: 0 20px 20px;
  font-size: 15px;
  line-height: 1.6;
  color: var(--text-secondary);
  flex: 1;
  overflow-y: auto;

  &::-webkit-scrollbar {
    width: 6px;
  }

  &::-webkit-scrollbar-track {
    background: transparent;
  }

  &::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 3px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.3);
  }

  p {
    margin-bottom: 12px;

    &:last-child {
      margin-bottom: 0;
    }
  }

  a {
    color: var(--theme-primary);
    text-decoration: none;

    &:hover {
      text-decoration: underline;
    }
  }

  ul,
  ol {
    margin: 12px 0;
    padding-left: 20px;
  }

  li {
    margin-bottom: 4px;
  }
}

.dark {
  .notice-card {
    border-color: rgba(255, 255, 255, 0.05);

    &:hover {
      border-color: rgba(255, 255, 255, 0.1);
    }
  }

  .notice-modal-content {
    border-color: rgba(255, 255, 255, 0.05);
  }
}

@media (max-width: 768px) {
  .notice-modal-overlay {
    padding: 10px;
  }

  .notice-modal-content {
    max-height: 90vh;
  }

  .notice-modal-title {
    font-size: 20px;
    margin: 12px 16px 16px;
  }

  .notice-modal-body {
    padding: 0 16px 16px;
  }

  .notice-card {
    padding: 12px;
  }

  .notice-preview {
    font-size: 13px;
  }
}

h2.home-subtitle {
  margin: 20px;
  font-size: 20px;
  font-weight: 400;
  color: var(--text-primary) !important;
}

/* ========================================
   SEQTA TEACH SPECIFIC STYLES
   ======================================== */

// SEQTA Teach main layout improvements
body[data-seqta-platform="teach"] {
  
  // Target main section div container (AssessmentManager and other pages)
  // This ensures styles apply to the direct path: #root > div.Chrome__Chrome___AyWT1 > main > section > div
  main > section > div {
    background: transparent !important;
    color: var(--text-primary) !important;
    
    // AssessmentManager component - direct targeting
    [class*="AssessmentManager__AssessmentManager"] {
      background: transparent !important;
      color: var(--text-primary) !important;
    }
    
    // SidebarPage component - direct targeting  
    [class*="SidebarPage__SidebarPage"] {
      background: transparent !important;
      color: var(--text-primary) !important;
      
      // Sidebar content
      [class*="SidebarPage__sidebar"] {
        background: var(--background-secondary) !important;
        color: var(--text-primary) !important;
        
        // Apply blur only when transparency effects are enabled
        html.transparencyEffects & {
          backdrop-filter: blur(10px) !important;
        }
      }
      
      // Main content area
      [class*="SidebarPage__main"] {
        background: transparent !important;
        color: var(--text-primary) !important;
        padding: 24px !important;
        
        // Direct child div (AssessmentManager container) - specific path targeting
        > div {
          background: transparent !important;
          color: var(--text-primary) !important;
          width: 100% !important;
          
          // AssessmentManager container
          [class*="AssessmentManager__container"] {
            background: transparent !important;
            color: var(--text-primary) !important;
            width: 100% !important;
            
            // Main content wrapper
            [class*="AssessmentManager__main"] {
              background: transparent !important;
              color: var(--text-primary) !important;
              display: flex !important;
              flex-direction: column !important;
              gap: 24px !important;
              width: 100% !important;
            }
          }
          
          // Also target any direct children that might be AssessmentManager components
          &[class*="AssessmentManager__container"],
          &[class*="AssessmentManager__main"] {
            background: transparent !important;
            color: var(--text-primary) !important;
          }
        }
      }
    }
    
    // Additional specific targeting for the exact path structure
    // Targets: main > section > div > div.SidebarPage__SidebarPage > div.SidebarPage__main > div
    [class*="SidebarPage__SidebarPage"][class*="SidebarPage__sidebar-left"] {
      [class*="SidebarPage__main"] {
        > div {
          background: transparent !important;
          color: var(--text-primary) !important;
          width: 100% !important;
          
          // Ensure all nested AssessmentManager components are styled
          [class*="AssessmentManager__container"],
          [class*="AssessmentManager__main"] {
            background: transparent !important;
            color: var(--text-primary) !important;
            width: 100% !important;
          }
          
          // Ensure BasicPanel components get styled
          [class*="BasicPanel__BasicPanel"] {
            background: var(--card-bg) !important;
            border: 1px solid var(--card-border) !important;
            border-radius: 12px !important;
            padding: 24px !important;
            color: var(--text-primary) !important;
            box-shadow: var(--shadow-sm) !important;
            transition: all 0.2s ease !important;
            
            // Apply blur only when transparency effects are enabled
            html.transparencyEffects & {
              backdrop-filter: blur(10px) !important;
            }
            
            &:hover {
              box-shadow: var(--shadow-md) !important;
            }
            
            // Headers
            header {
              display: flex !important;
              align-items: center !important;
              justify-content: space-between !important;
              margin-bottom: 20px !important;
              padding-bottom: 12px !important;
              border-bottom: 1px solid var(--border-secondary) !important;
              
              h2 {
                color: var(--text-primary) !important;
                font-family: Rubik, sans-serif !important;
                font-size: 18px !important;
                font-weight: 600 !important;
                margin: 0 !important;
              }
            }
          }
        }
      }
    }
    }
    
    // Toolbar - can appear directly in AssessmentManager
    [class*="Toolbar__Toolbar"] {
      background: var(--theme-offset-bg) !important;
      border-bottom: 1px solid var(--border-secondary) !important;
      padding: 12px 16px !important;
      display: flex !important;
      align-items: center !important;
      gap: 12px !important;
      color: var(--text-primary) !important;
      
      // Apply blur only when transparency effects are enabled
      html.transparencyEffects & {
        backdrop-filter: blur(10px) !important;
      }
      
      button {
        background: var(--button-bg) !important;
        border: 1px solid var(--border-primary) !important;
        border-radius: 6px !important;
        color: var(--text-primary) !important;
        padding: 8px 16px !important;
        font-family: Rubik, sans-serif !important;
        font-weight: 500 !important;
        transition: all 0.2s ease !important;
        
        &:hover:not(:disabled) {
          background: var(--button-hover) !important;
          border-color: var(--accent-bg) !important;
          transform: translateY(-1px) !important;
        }
        
        &:disabled {
          opacity: 0.5 !important;
          cursor: not-allowed !important;
        }
        
        svg {
          fill: currentColor !important;
        }
      }
    }
  }
  
  // Remove all backdrop-filter blur effects when transparency effects are disabled
  html:not(.transparencyEffects) {
    * {
      backdrop-filter: none !important;
      -webkit-backdrop-filter: none !important;
    }
  }
  
  // Make semi-transparent backgrounds fully solid when transparency effects are disabled
  html:not(.transparencyEffects) {
    [style*="backdrop-filter"],
    [style*="backdropFilter"] {
      backdrop-filter: none !important;
      -webkit-backdrop-filter: none !important;
    }
    
    // Make rgba backgrounds fully solid
    [style*="rgba(255, 255, 255, 0.05)"],
    [style*="rgba(255,255,255,0.05)"],
    [style*="rgba(255, 255, 255, 0.08)"],
    [style*="rgba(255,255,255,0.08)"],
    [style*="rgba(255, 255, 255, 0.1)"],
    [style*="rgba(255,255,255,0.1)"],
    [style*="rgba(255, 255, 255, 0.15)"],
    [style*="rgba(255,255,255,0.15)"] {
      background: var(--background-primary) !important;
    }
  }
  
  // Global button SVG sizing fix
  button,
  [class*="Button__Button"] {
    svg {
      width: 20px !important;
      height: 20px !important;
      min-width: 20px !important;
      min-height: 20px !important;
      fill: currentColor !important;
    }
  }
  
  // Override SEQTA Teach CSS variables to use BetterSEQTA theming
  :root,
  html {
    --theme-bg-parts: var(--better-main-rgb, 22, 22, 22) !important;
    --theme-fg-parts: 255, 255, 255 !important;
    --theme-bg-alt-parts: var(--background-secondary-rgb, 30, 30, 30) !important;
    
    // Navigation colors integration
    --nav-level-zero: var(--theme-primary) !important;
    --nav-level-zero-fg: var(--text-primary) !important;
    --nav-level-one: var(--theme-offset-bg) !important;
    --nav-level-one-fg: var(--text-primary) !important;
    --nav-level-two: var(--theme-offset-bg) !important;
    --nav-level-two-fg: var(--text-primary) !important;
    --nav-level-three: var(--theme-offset-bg-more) !important;
    --nav-level-three-opaque: var(--theme-offset-bg-more) !important;
    --nav-level-three-fg: var(--text-primary) !important;
    
    // Button theming
    --theme-button-bg: var(--button-bg) !important;
    --theme-button-fg: var(--text-primary) !important;
    --theme-button-border: var(--border-primary) !important;
    
    // Offset backgrounds
    --theme-offset-bg: var(--theme-offset-bg) !important;
    --theme-offset-bg-more: var(--theme-offset-bg-more) !important;
    --theme-table-headers: var(--theme-table-headers) !important;
  }
  
  // Welcome page specific styling
  .defaultWelcomeWrapper {
    background: var(--better-main) !important;
    
    .defaultWelcome {
      background: var(--card-bg) !important;
      border: 1px solid var(--card-border) !important;
      border-radius: 12px !important;
      color: var(--text-primary) !important;
      box-shadow: var(--shadow-lg) !important;
      
      // Apply blur only when transparency effects are enabled
      html.transparencyEffects & {
        backdrop-filter: blur(10px) !important;
      }
      
      // Override the complex clip-path with simple rounded corners
      clip-path: none !important;
      
      > header {
        background: var(--accent-bg) !important;
        background-image: none !important;
        border-radius: 12px 12px 0 0 !important;
        clip-path: none !important;
        color: var(--text-on-accent) !important;
        padding: 3rem 2rem !important;
        
        h1 {
          color: var(--text-on-accent) !important;
          font-family: Rubik, sans-serif !important;
          font-weight: 700 !important;
          text-shadow: var(--shadow-sm) !important;
        }
        
        p.byline {
          color: var(--text-on-accent) !important;
          opacity: 0.9 !important;
          font-family: Rubik, sans-serif !important;
        }
      }
      
      > section {
        background: transparent !important;
        color: var(--text-primary) !important;
        
        &.sip,
        &.help {
          background: var(--theme-offset-bg) !important;
          border-radius: 8px !important;
          margin: 1rem !important;
          border: 1px solid var(--border-tertiary) !important;
        }
        
        > header > h2 {
          color: var(--text-primary) !important;
          font-family: Rubik, sans-serif !important;
          font-weight: 600 !important;
        }
      }
      
      ul {
        li {
          border-bottom: 1px solid var(--border-secondary) !important;
          
          &:last-child {
            border-bottom: none !important;
          }
          
          > p {
            color: var(--text-primary) !important;
            font-family: Rubik, sans-serif !important;
            
            &.detail {
              color: var(--text-muted) !important;
            }
          }
        }
      }
    }
  }
  
  // General content area styling
  main,
  .main-content,
  .content-area {
    background: transparent !important;
    color: var(--text-primary) !important;
  }
  
  // Form elements integration
  input,
  textarea,
  select {
    background: var(--button-bg) !important;
    border: 1px solid var(--border-primary) !important;
    color: var(--text-primary) !important;
    border-radius: 6px !important;
    
    &::placeholder {
      color: var(--text-muted) !important;
    }
    
    &:focus {
      border-color: var(--accent-bg) !important;
      box-shadow: 0 0 0 2px var(--accent-ring) !important;
      outline: none !important;
    }
  }
  
  // Table styling
  table {
    background: var(--theme-offset-bg) !important;
    border-radius: 8px !important;
    overflow: hidden !important;
    
    thead {
      background: var(--theme-table-headers) !important;
      
      th {
        color: var(--text-primary) !important;
        font-family: Rubik, sans-serif !important;
        border-bottom: 1px solid var(--border-secondary) !important;
      }
    }
    
    tbody {
      tr {
        border-bottom: 1px solid var(--border-tertiary) !important;
        
        &:hover {
          background: var(--button-bg) !important;
        }
        
        td {
          color: var(--text-primary) !important;
          font-family: Rubik, sans-serif !important;
        }
      }
    }
  }
  
  // Card/Panel styling
  .card,
  .panel,
  .widget {
    background: var(--card-bg) !important;
    border: 1px solid var(--card-border) !important;
    border-radius: 8px !important;
    color: var(--text-primary) !important;
    backdrop-filter: blur(10px) !important;
  }

  // Report Assets window styling
  [class*="ReportAssets__ReportAssets___"] {
    background: var(--background-primary) !important;
    color: var(--text-primary) !important;
  }

  [class*="ReportAssets__sidebar___"] {
    background: var(--background-secondary) !important;
    color: var(--text-primary) !important;
    border-right: 1px solid var(--border-primary) !important;
  }

  [class*="ReportAssets__content___"] {
    background: var(--background-primary) !important;
    color: var(--text-primary) !important;
  }

  [class*="ReportAssets__item___"] {
    color: var(--text-primary) !important;
    
    &:hover {
      background: var(--button-bg) !important;
    }
  }

  [class*="ReportAssets__code___"] {
    color: var(--text-muted) !important;
  }

  [class*="ReportAssets__search___"] {
    input {
      background: var(--button-bg) !important;
      border: 1px solid var(--border-primary) !important;
      color: var(--text-primary) !important;
      
      &::placeholder {
        color: var(--text-muted) !important;
      }
    }
  }

  // Direqt Messages styling
  [class*="Viewer__sidebar___"] {
    // Fix white "add folder" button - specific targeting
    [class*="LabelList__LabelMaker___"] button[class*="Button__Button___"] {
      background: var(--button-bg) !important;
      color: var(--text-primary) !important;
      border: 1px solid var(--border-primary) !important;
    }
    
    // Fix non-selected inbox tab text (black text should be white/light)
    // Tabs are list items inside ol, non-selected ones don't have LabelList__selected___ class
    ol > li:not([class*="LabelList__selected___"]) {
      color: var(--text-primary) !important;
    }
  }
  
  // Also target Viewer components more broadly
  [class*="Viewer__"] {
    // Fix any white buttons
    button[class*="Button__Button___"] {
      &[style*="background-color: rgb(255, 255, 255)"],
      &[style*="background-color:rgb(255,255,255)"] {
        background: var(--button-bg) !important;
        color: var(--text-primary) !important;
        border-color: var(--border-primary) !important;
      }
    }
  }

  // Programme List / List of programmes light mode fixes
  .programmeListFilters.filterBox,
  [class*="programmeListFilters"] {
    background: var(--background-secondary) !important;
    color: var(--text-primary) !important;
  }

  // Programme card elements with very light backgrounds
  .title,
  [class*="programme"] .title {
    background: var(--background-secondary) !important;
    color: var(--text-primary) !important;
  }

  .owner,
  [class*="programme"] .owner {
    background: var(--background-secondary) !important;
    color: var(--text-primary) !important;
  }

  .course,
  [class*="programme"] .course {
    background: var(--background-secondary) !important;
    color: var(--text-primary) !important;
  }

  .actions,
  [class*="programme"] .actions {
    background: var(--background-secondary) !important;
    color: var(--text-primary) !important;
  }

  // Toolbar with light background
  [class*="Toolbar__Toolbar___"],
  [class*="LegacyPage__toolbar___"] {
    background: var(--background-secondary) !important;
    color: var(--text-primary) !important;
  }

  // Iframe wrapper with light background
  .iframeWrapper.outline,
  [class*="iframeWrapper"] {
    background: var(--background-secondary) !important;
    color: var(--text-primary) !important;
  }

  // Buttons with light backgrounds and dark text
  button.uiButton.select.person,
  button[class*="uiButton"][class*="select"][class*="person"] {
    background: var(--button-bg) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-primary) !important;
  }

  // Input fields with light backgrounds
  input.uiShortText,
  input[class*="uiShortText"] {
    background: var(--button-bg) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-primary) !important;
    
    &::placeholder {
      color: var(--text-muted) !important;
    }
  }

  // Checkboxes with light backgrounds
  input.uiCheckbox,
  input[class*="uiCheckbox"] {
    background: var(--button-bg) !important;
    border-color: var(--border-primary) !important;
  }

  // Table footer (tfoot) styling for programme list
  [class*="programmeListWrapper"] table tfoot,
  [class*="tableContainer"] table tfoot {
    background: var(--background-secondary) !important;
    color: var(--text-primary) !important;
    
    tr {
      background: var(--background-secondary) !important;
      color: var(--text-primary) !important;
    }
    
    td,
    th {
      background: var(--background-secondary) !important;
      color: var(--text-primary) !important;
      border-color: var(--border-primary) !important;
      
      &.selection {
        background: var(--background-secondary) !important;
        color: var(--text-primary) !important;
      }
    }
  }

  // Header button fixes - icon centering and spacing
  #root > div > main > header {
    // Ensure proper flexbox layout with space-between to push buttons to right
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    gap: 0 !important; // Remove gap, use margins instead
    
    // Spacer should push content to right
    .spacer {
      display: block !important;
      flex: 1 1 auto !important;
      min-width: 0 !important;
    }
    
    // Create a container for all right-side buttons (BetterSEQTA + SEQTA)
    // Group BetterSEQTA and SEQTA buttons together on the right
    .spacer ~ button,
    .spacer ~ [class*="ProfileMenu__"] {
      // All buttons after spacer should be grouped together
      margin-left: 8px !important;
    }
    
    // First button after spacer should have no left margin
    .spacer ~ button:first-of-type,
    .spacer ~ [class*="ProfileMenu__"]:first-of-type {
      margin-left: 0 !important;
    }
    
    // Fix button icon centering
    button.addedButton,
    button[class*="addedButton"] {
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      position: relative !important; // Change from fixed to relative
      margin: 0 !important;
      
      svg,
      img {
        display: block !important;
        margin: 0 !important;
        vertical-align: middle !important;
      }
    }
    
    // SEQTA buttons should maintain their styling
    button[class*="Chrome__actionButton___"],
    [class*="ProfileMenu__"] {
      margin-left: 8px !important;
    }
  }

  // Dashboard specific styling
  .dashboard {
    background: transparent !important;
    color: white !important;
    
    .dashlet {
      background: rgba(255, 255, 255, 0.05) !important;
      border: 1px solid rgba(255, 255, 255, 0.1) !important;
      border-radius: 12px !important;
      color: white !important;
      backdrop-filter: blur(10px) !important;
      margin: 16px !important;
      overflow: hidden !important;
      
      .header {
        background: var(--theme-primary) !important;
        color: white !important;
        padding: 16px 20px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: space-between !important;
        
        .title {
          color: white !important;
          font-family: Rubik, sans-serif !important;
          font-size: 16px !important;
          font-weight: 600 !important;
          margin: 0 !important;
        }
        
        .actions {
          display: flex !important;
          gap: 8px !important;
          align-items: center !important;
          
          .uiButton,
          button {
            background: rgba(255, 255, 255, 0.2) !important;
            color: white !important;
            border: 1px solid rgba(255, 255, 255, 0.3) !important;
            border-radius: 6px !important;
            padding: 8px !important;
            transition: all 0.2s ease !important;
            
            &:hover {
              background: rgba(255, 255, 255, 0.3) !important;
              transform: scale(1.05) !important;
            }
            
            svg {
              fill: white !important;
              width: 16px !important;
              height: 16px !important;
            }
          }
          
          // Pillbox button groups
          .pillbox {
            display: flex !important;
            background: rgba(255, 255, 255, 0.1) !important;
            border-radius: 6px !important;
            overflow: hidden !important;
            
            button {
              background: transparent !important;
              border: none !important;
              border-radius: 0 !important;
              color: rgba(255, 255, 255, 0.8) !important;
              padding: 6px 12px !important;
              font-size: 12px !important;
              font-family: Rubik, sans-serif !important;
              
              &.depressed {
                background: rgba(255, 255, 255, 0.2) !important;
                color: white !important;
              }
              
              &:hover {
                background: rgba(255, 255, 255, 0.15) !important;
                color: white !important;
                transform: none !important;
              }
              
              &.first {
                border-radius: 6px 0 0 6px !important;
              }
              
              &.last {
                border-radius: 0 6px 6px 0 !important;
              }
            }
          }
        }
      }
      
      .content {
        background: transparent !important;
        color: white !important;
        padding: 20px !important;
        
        .message {
          color: white !important;
          font-family: Rubik, sans-serif !important;
          line-height: 1.6 !important;
          
          h1, h2, h3, h4, h5, h6 {
            color: white !important;
            font-family: Rubik, sans-serif !important;
            margin: 16px 0 8px !important;
          }
          
          p {
            color: white !important;
            margin: 8px 0 !important;
          }
          
          strong, b {
            color: white !important;
            font-weight: 600 !important;
          }
          
          em, i {
            color: rgba(255, 255, 255, 0.9) !important;
          }
          
          u {
            color: white !important;
            text-decoration: underline !important;
          }
          
          sub, sup {
            color: rgba(255, 255, 255, 0.8) !important;
          }
          
          pre {
            background: rgba(255, 255, 255, 0.08) !important;
            border: 1px solid rgba(255, 255, 255, 0.15) !important;
            border-radius: 4px !important;
            color: white !important;
            font-family: 'Courier New', monospace !important;
            padding: 12px !important;
          }
          
          table {
            background: rgba(255, 255, 255, 0.03) !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
            border-radius: 6px !important;
            width: 100% !important;
          }
        }
        
        // Notes and tasks specific
        .dashlet-notes,
        .dashlet-tasks {
          ul.magicDelete {
            background: transparent !important;
            
            li {
              background: rgba(255, 255, 255, 0.05) !important;
              border: 1px solid rgba(255, 255, 255, 0.1) !important;
              border-radius: 6px !important;
              color: white !important;
              margin: 8px 0 !important;
              padding: 12px !important;
            }
          }
          
          .editor {
            background: rgba(255, 255, 255, 0.05) !important;
            border: 1px solid rgba(255, 255, 255, 0.15) !important;
            border-radius: 6px !important;
            color: white !important;
            min-height: 100px !important;
            padding: 12px !important;
          }
        }
        
        // Message of the day specific
        .dashlet-motd {
          .message {
            background: rgba(255, 255, 255, 0.03) !important;
            border-radius: 8px !important;
            padding: 20px !important;
            margin-bottom: 16px !important;
            text-align: center !important;
          }
          
          .favour {
            display: flex !important;
            align-items: center !important;
            gap: 12px !important;
            justify-content: center !important;
            
            .uiButton {
              background: rgba(255, 255, 255, 0.1) !important;
              border: 1px solid rgba(255, 255, 255, 0.2) !important;
              border-radius: 50% !important;
              color: rgba(255, 255, 255, 0.7) !important;
              padding: 8px !important;
              
              &.unfavourable:hover {
                background: rgba(255, 59, 48, 0.2) !important;
                color: #ff3b30 !important;
              }
              
              &.favourable:hover {
                background: rgba(40, 167, 69, 0.2) !important;
                color: #28a745 !important;
              }
              
              svg {
                fill: currentColor !important;
                width: 20px !important;
                height: 20px !important;
              }
            }
            
            .graph {
              background: rgba(255, 255, 255, 0.1) !important;
              border-radius: 4px !important;
              height: 8px !important;
              overflow: hidden !important;
              position: relative !important;
              width: 100px !important;
              
              .unfavourable {
                background: #ff3b30 !important;
                height: 100% !important;
              }
            }
          }
        }
        
        // Profile preferences specific
        .dashlet-profile {
          .details {
            background: rgba(255, 255, 255, 0.03) !important;
            border-radius: 8px !important;
            margin-bottom: 16px !important;
            padding: 20px !important;
            
            h2 {
              color: white !important;
              font-family: Rubik, sans-serif !important;
              font-size: 18px !important;
              font-weight: 600 !important;
              margin: 0 0 16px !important;
            }
            
            .field {
              display: flex !important;
              align-items: center !important;
              justify-content: space-between !important;
              margin-bottom: 12px !important;
              
              label {
                color: white !important;
                font-family: Rubik, sans-serif !important;
                font-weight: 500 !important;
              }
              
              .value {
                color: rgba(255, 255, 255, 0.8) !important;
                font-family: Rubik, sans-serif !important;
              }
              
              .uiShortText,
              input {
                background: rgba(255, 255, 255, 0.1) !important;
                border: 1px solid rgba(255, 255, 255, 0.2) !important;
                color: white !important;
                
                &::placeholder {
                  color: rgba(255, 255, 255, 0.5) !important;
                }
              }
              
              .colourButton {
                background: rgba(255, 255, 255, 0.1) !important;
                border: 1px solid rgba(255, 255, 255, 0.2) !important;
                color: white !important;
                
                .preview {
                  border-radius: 3px !important;
                  width: 20px !important;
                  height: 20px !important;
                }
              }
            }
            
            .passwordContainer {
              .uiButton {
                background: var(--theme-primary) !important;
                color: white !important;
                border: none !important;
                border-radius: 6px !important;
                padding: 8px 16px !important;
                
                &:hover {
                  background: var(--theme-primary) !important;
                  filter: brightness(1.1) !important;
                }
              }
            }
            
            .InlineHelp__InlineHelp___NTYcB {
              .Button__Button___kQRWg {
                background: rgba(255, 193, 7, 0.2) !important;
                color: #ffc107 !important;
                border: 1px solid rgba(255, 193, 7, 0.3) !important;
                
                svg {
                  fill: currentColor !important;
                }
              }
            }
          }
        }
        
        // Sentence generator specific
        .dashlet-sentence {
          background: rgba(255, 255, 255, 0.03) !important;
          border-radius: 8px !important;
          color: white !important;
          font-family: Rubik, sans-serif !important;
          padding: 20px !important;
          text-align: center !important;
        }
      }
      
      // Help page improvements
      button:has-text("Knowledge base"),
      button:has-text("Nerdy stuff") {
        background: rgba(255, 255, 255, 0.1) !important;
        border: 1px solid rgba(255, 255, 255, 0.2) !important;
        border-radius: 8px !important;
        color: white !important;
        font-family: Rubik, sans-serif !important;
        padding: 10px 20px !important;
        transition: all 0.2s ease !important;
        
        &:hover {
          background: rgba(255, 255, 255, 0.15) !important;
          transform: scale(1.02) !important;
        }
      }
      
      // Release history links styling
      a[href*="release"] {
        color: var(--theme-primary) !important;
        text-decoration: none !important;
        transition: color 0.2s ease !important;
        
        &:hover {
          color: var(--theme-primary) !important;
          text-decoration: underline !important;
        }
      }
      
      // Table improvements for My Classes and other table views
      table {
        border-collapse: separate !important;
        border-spacing: 0 !important;
        width: 100% !important;
        
        thead,
        tbody {
          tr {
            th,
            td {
              padding: 12px 16px !important;
              text-align: left !important;
              border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
              color: white !important;
              font-family: Rubik, sans-serif !important;
            }
            
            th {
              background: rgba(255, 255, 255, 0.05) !important;
              font-weight: 600 !important;
              font-size: 14px !important;
              text-transform: uppercase !important;
              letter-spacing: 0.5px !important;
              position: sticky !important;
              top: 0 !important;
              z-index: 10 !important;
            }
            
            td {
              background: transparent !important;
              font-size: 14px !important;
            }
            
            &:hover td {
              background: rgba(255, 255, 255, 0.03) !important;
            }
          }
        }
      }
      
      // "New untimetabled class" and similar action buttons
      button:has-text("New untimetabled class"),
      button:has-text("New") {
        background: var(--theme-primary) !important;
        color: white !important;
        border: none !important;
        border-radius: 8px !important;
        padding: 10px 16px !important;
        font-family: Rubik, sans-serif !important;
        font-weight: 500 !important;
        transition: all 0.2s ease !important;
        display: flex !important;
        align-items: center !important;
        gap: 8px !important;
        
        &:hover {
          filter: brightness(1.1) !important;
          transform: scale(1.02) !important;
        }
        
        &:disabled {
          opacity: 0.5 !important;
          cursor: not-allowed !important;
        }
      }
      
      // Traditional grid timetable view improvements
      table[class*="grid"],
      table:has(th:contains("Mon")),
      table:has(th:contains("Tue")) {
        th {
          background: rgba(255, 255, 255, 0.08) !important;
          color: white !important;
          font-weight: 600 !important;
          padding: 12px !important;
          text-align: center !important;
          border: 1px solid rgba(255, 255, 255, 0.1) !important;
        }
        
        td {
          background: rgba(255, 255, 255, 0.03) !important;
          border: 1px solid rgba(255, 255, 255, 0.1) !important;
          padding: 16px !important;
          min-height: 100px !important;
          vertical-align: top !important;
          
          &:hover {
            background: rgba(255, 255, 255, 0.05) !important;
          }
        }
        
        // Empty state message styling
        td:has-text("no timetabled classes"),
        td:has-text("Try changing") {
          text-align: center !important;
          color: rgba(255, 255, 255, 0.6) !important;
          font-style: italic !important;
          padding: 40px !important;
        }
      }
      
      // Info/tooltip boxes (like "Untimetabled classes" info)
      [class*="info"],
      [class*="tooltip"],
      div:has(img[alt*="💡"]) {
        background: rgba(255, 255, 255, 0.05) !important;
        border: 1px solid rgba(255, 255, 255, 0.1) !important;
        border-radius: 8px !important;
        padding: 12px 16px !important;
        color: rgba(255, 255, 255, 0.9) !important;
        font-family: Rubik, sans-serif !important;
        font-size: 14px !important;
        line-height: 1.5 !important;
      }
      
      // Calendar view time slots styling
      div:has-text("0:00"),
      div:has-text("1:00"),
      div:has-text(":00") {
        color: rgba(255, 255, 255, 0.7) !important;
        font-family: Rubik, sans-serif !important;
        font-size: 12px !important;
        font-weight: 500 !important;
        padding: 4px 8px !important;
      }
      
      // Student Summary page improvements
      iframe[src*="studentSummary"],
      iframe:has([class*="student"]) {
        border: none !important;
        border-radius: 8px !important;
        background: transparent !important;
      }
      
      // Print button consistency
      button:has-text("Print"),
      button[aria-label*="Print"] {
        background: rgba(255, 255, 255, 0.1) !important;
        border: 1px solid rgba(255, 255, 255, 0.2) !important;
        border-radius: 8px !important;
        color: white !important;
        font-family: Rubik, sans-serif !important;
        padding: 8px 16px !important;
        transition: all 0.2s ease !important;
        
        &:hover {
          background: rgba(255, 255, 255, 0.15) !important;
          transform: scale(1.02) !important;
        }
      }
      
      // Dropdown buttons consistency
      button:has-text("▾"),
      button:has-text("selected") {
        background: rgba(255, 255, 255, 0.1) !important;
        border: 1px solid rgba(255, 255, 255, 0.2) !important;
        border-radius: 8px !important;
        color: white !important;
        font-family: Rubik, sans-serif !important;
        padding: 8px 16px !important;
        transition: all 0.2s ease !important;
        
        &:hover {
          background: rgba(255, 255, 255, 0.15) !important;
        }
      }
      
      // Message outside content (for sentence generator)
      > .message {
        background: rgba(255, 255, 255, 0.03) !important;
        color: white !important;
        font-family: Rubik, sans-serif !important;
        font-weight: 500 !important;
        padding: 16px 20px !important;
      }
    }
  }

  // Programme cover page styling
  // Main content area accordion items
  [class*="Accordion__item"] {
    background: transparent !important;
    border: none !important;
    margin-bottom: 12px !important;
    
    [class*="Accordion__header"] {
      background: rgba(255, 255, 255, 0.05) !important;
      border: 1px solid rgba(255, 255, 255, 0.1) !important;
      border-radius: 8px !important;
      color: white !important;
      font-family: Rubik, sans-serif !important;
      padding: 16px 20px !important;
      transition: all 0.2s ease !important;
      
      &:hover:not([class*="disabled"]) {
        background: rgba(255, 255, 255, 0.08) !important;
        border-color: var(--theme-primary) !important;
      }
      
      &[class*="disabled"] {
        opacity: 0.6 !important;
        cursor: not-allowed !important;
      }
      
      // Titles and descriptions within header
      > div {
        color: white !important;
        
        &:first-child {
          font-weight: 600 !important;
          text-transform: uppercase !important;
          letter-spacing: 0.5px !important;
          margin-bottom: 4px !important;
        }
        
        &:nth-child(2) {
          font-size: 13px !important;
          color: rgba(255, 255, 255, 0.7) !important;
        }
      }
      
      // Action buttons in header (Create quests, Unlink, Link, etc)
      button,
      a {
        background: var(--theme-primary) !important;
        border: none !important;
        border-radius: 6px !important;
        color: white !important;
        font-family: Rubik, sans-serif !important;
        font-weight: 500 !important;
        padding: 8px 16px !important;
        transition: all 0.2s ease !important;
        margin-left: 8px !important;
        
        &:hover {
          background: var(--theme-primary) !important;
          opacity: 0.9 !important;
          transform: translateY(-1px) !important;
        }
        
        svg {
          fill: currentColor !important;
        }
      }
      
      // Toggle/expand buttons
      button[class*="toggle"] {
        background: rgba(255, 255, 255, 0.1) !important;
        border: 1px solid rgba(255, 255, 255, 0.2) !important;
        border-radius: 50% !important;
        padding: 8px !important;
        
        &:hover {
          background: rgba(255, 255, 255, 0.15) !important;
          transform: scale(1.1) !important;
        }
      }
    }
    
    [class*="Accordion__content"] {
      background: rgba(255, 255, 255, 0.02) !important;
      border: 1px solid rgba(255, 255, 255, 0.1) !important;
      border-top: none !important;
      border-radius: 0 0 8px 8px !important;
      color: white !important;
      padding: 20px !important;
      
      * {
        color: white !important;
        font-family: Rubik, sans-serif !important;
      }
    }
  }
  
  // Rich text editor styling (SEQTA Editor & CKEditor)
  [class*="SEQTAEditor__SEQTAEditor"] {
    background: transparent !important;
    color: white !important;
    
    // Toolbar styling
    [class*="Toolbar__Toolbar"] {
      background: rgba(255, 255, 255, 0.05) !important;
      border: 1px solid rgba(255, 255, 255, 0.1) !important;
      border-radius: 8px 8px 0 0 !important;
      padding: 8px !important;
      
      // Dropdown buttons (Normal, Heading 1, etc)
      [class*="ToolbarDropdownButton"],
      [class*="BlockStyleDropdown"] {
        background: rgba(255, 255, 255, 0.08) !important;
        border: 1px solid rgba(255, 255, 255, 0.15) !important;
        border-radius: 6px !important;
        color: white !important;
        font-family: Rubik, sans-serif !important;
        padding: 6px 12px !important;
        transition: all 0.2s ease !important;
        
        &:hover {
          background: rgba(255, 255, 255, 0.12) !important;
          border-color: var(--theme-primary) !important;
        }
        
        [class*="echelon"] {
          border-left: 1px solid rgba(255, 255, 255, 0.2) !important;
        }
      }
      
      // Style buttons (Bold, Italic, etc)
      [class*="StyleButton"] {
        background: rgba(255, 255, 255, 0.05) !important;
        border: 1px solid rgba(255, 255, 255, 0.1) !important;
        border-radius: 6px !important;
        color: white !important;
        padding: 8px !important;
        transition: all 0.2s ease !important;
        margin: 0 2px !important;
        
        &:hover {
          background: rgba(255, 255, 255, 0.1) !important;
          border-color: var(--theme-primary) !important;
        }
        
        &[class*="active"] {
          background: var(--theme-primary) !important;
          border-color: var(--theme-primary) !important;
          color: white !important;
        }
        
        svg {
          fill: currentColor !important;
        }
      }
      
      // Color button
      [class*="ColourButton"] {
        background: rgba(255, 255, 255, 0.08) !important;
        border: 1px solid rgba(255, 255, 255, 0.15) !important;
        border-radius: 6px !important;
        color: white !important;
        padding: 6px 12px !important;
        transition: all 0.2s ease !important;
        
        &:hover {
          background: rgba(255, 255, 255, 0.12) !important;
          border-color: var(--theme-primary) !important;
        }
      }
    }
    
    // Editor content area
    [class*="editor-content"],
    [class*="EditorContent"] {
      background: rgba(255, 255, 255, 0.03) !important;
      border: 1px solid rgba(255, 255, 255, 0.1) !important;
      border-top: none !important;
      border-radius: 0 0 8px 8px !important;
      color: white !important;
      padding: 16px !important;
      min-height: 200px !important;
      
      * {
        color: white !important;
      }
    }
  }
  
  // CKEditor styling (Legacy editor)
  .cke {
    background: transparent !important;
    border: none !important;
    
    .cke_top {
      background: rgba(255, 255, 255, 0.05) !important;
      border: 1px solid rgba(255, 255, 255, 0.1) !important;
      border-bottom: none !important;
      border-radius: 8px 8px 0 0 !important;
      padding: 8px !important;
      
      .cke_toolbar {
        background: transparent !important;
        border: none !important;
        margin: 2px !important;
        
        .cke_toolgroup {
          background: rgba(255, 255, 255, 0.05) !important;
          border: 1px solid rgba(255, 255, 255, 0.1) !important;
          border-radius: 6px !important;
          margin: 0 4px !important;
          padding: 2px !important;
          
          .cke_button {
            background: transparent !important;
            border: none !important;
            border-radius: 4px !important;
            transition: all 0.2s ease !important;
            
            &:hover {
              background: rgba(255, 255, 255, 0.1) !important;
            }
            
            &.cke_button_on {
              background: var(--theme-primary) !important;
              
              .cke_button_icon {
                filter: brightness(0) invert(1) !important;
              }
            }
            
            .cke_button_icon {
              filter: brightness(0) invert(1) opacity(0.8) !important;
            }
            
            .cke_button_label {
              color: white !important;
              font-family: Rubik, sans-serif !important;
            }
          }
          
          .cke_combo {
            background: rgba(255, 255, 255, 0.08) !important;
            border: 1px solid rgba(255, 255, 255, 0.15) !important;
            border-radius: 6px !important;
            
            &:hover {
              background: rgba(255, 255, 255, 0.12) !important;
              border-color: var(--theme-primary) !important;
            }
            
            .cke_combo_text {
              color: white !important;
              font-family: Rubik, sans-serif !important;
            }
            
            .cke_combo_arrow {
              border-top-color: white !important;
            }
          }
        }
      }
    }
    
    .cke_contents {
      background: rgba(255, 255, 255, 0.03) !important;
      border: 1px solid rgba(255, 255, 255, 0.1) !important;
      border-top: none !important;
      
      iframe {
        background: rgba(255, 255, 255, 0.03) !important;
      }
    }
    
    .cke_bottom {
      background: rgba(255, 255, 255, 0.05) !important;
      border: 1px solid rgba(255, 255, 255, 0.1) !important;
      border-top: none !important;
      border-radius: 0 0 8px 8px !important;
      padding: 8px !important;
      
      .cke_path_item,
      .cke_path_empty {
        color: rgba(255, 255, 255, 0.7) !important;
        font-family: Rubik, sans-serif !important;
      }
    }
  }
  
  // Module controls in accordion content
  [class*="Module__header"],
  [class*="module-header"] {
    background: rgba(255, 255, 255, 0.05) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    border-radius: 6px !important;
    color: white !important;
    padding: 12px !important;
    margin-bottom: 8px !important;
    
    button {
      background: rgba(255, 255, 255, 0.08) !important;
      border: 1px solid rgba(255, 255, 255, 0.15) !important;
      border-radius: 4px !important;
      color: white !important;
      padding: 6px !important;
      transition: all 0.2s ease !important;
      
      &:hover:not(:disabled) {
        background: rgba(255, 255, 255, 0.12) !important;
        border-color: var(--theme-primary) !important;
      }
      
      &:disabled {
        opacity: 0.4 !important;
      }
      
      svg {
        fill: currentColor !important;
      }
    }
  }
  
  [class*="ProgrammeCoverPage__aside"] {
    background: rgba(255, 255, 255, 0.05) !important;
    border-right: 1px solid rgba(255, 255, 255, 0.1) !important;
    backdrop-filter: blur(10px) !important;
    color: white !important;
    
    // Toggle button
    button[class*="ProgrammeCoverPage__toggle"] {
      background: #2a2a2a !important;
      border: 1px solid rgba(255, 255, 255, 0.3) !important;
      color: white !important;
      border-radius: 50% !important;
      transition: all 0.2s ease !important;
      
      &:hover {
        background: var(--theme-primary) !important;
        transform: scale(1.1) !important;
      }
      
      svg {
        fill: currentColor !important;
      }
    }
    
    // Form sections
    [class*="ProgrammeCoverPage__section"] {
      background: transparent !important;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
      padding: 20px !important;
      
      label {
        color: rgba(255, 255, 255, 0.8) !important;
        font-family: Rubik, sans-serif !important;
        font-size: 12px !important;
        font-weight: 600 !important;
        text-transform: uppercase !important;
        letter-spacing: 0.5px !important;
        margin-bottom: 8px !important;
      }
      
      input[type="text"],
      input[type="email"],
      textarea,
      .singleSelect,
      .undefined {
        background: rgba(255, 255, 255, 0.1) !important;
        border: 1px solid rgba(255, 255, 255, 0.2) !important;
        border-radius: 8px !important;
        color: white !important;
        font-family: Rubik, sans-serif !important;
        padding: 12px 16px !important;
        
        &:focus {
          border-color: var(--theme-primary) !important;
          outline: none !important;
          box-shadow: 0 0 0 2px rgba(var(--theme-primary-rgb), 0.3) !important;
        }
        
        &::placeholder {
          color: rgba(255, 255, 255, 0.5) !important;
        }
      }
      
      // Radio and checkbox lists
      ul {
        li {
          color: white !important;
          font-family: Rubik, sans-serif !important;
          padding: 8px 0 !important;
          
          input[type="checkbox"],
          input[type="radio"] {
            accent-color: var(--theme-primary) !important;
            margin-right: 8px !important;
          }
          
          label {
            color: white !important;
            font-size: 14px !important;
            font-weight: 400 !important;
            text-transform: none !important;
            letter-spacing: normal !important;
          }
        }
      }
    }
    
    // Accordion headers
    [class*="Accordion__header"] {
      background: rgba(255, 255, 255, 0.08) !important;
      border: 1px solid rgba(255, 255, 255, 0.15) !important;
      border-radius: 8px !important;
      color: white !important;
      font-family: Rubik, sans-serif !important;
      font-weight: 600 !important;
      padding: 12px 16px !important;
      margin-bottom: 8px !important;
      transition: all 0.2s ease !important;
      
      &:hover {
        background: rgba(255, 255, 255, 0.12) !important;
        border-color: var(--theme-primary) !important;
      }
      
      svg {
        fill: currentColor !important;
      }
    }
    
    // Action buttons in aside
    .uiButton,
    button:not([class*="toggle"]) {
      background: rgba(255, 255, 255, 0.1) !important;
      border: 1px solid rgba(255, 255, 255, 0.2) !important;
      border-radius: 8px !important;
      color: white !important;
      font-family: Rubik, sans-serif !important;
      padding: 12px 16px !important;
      transition: all 0.2s ease !important;
      
      &:hover:not(:disabled) {
        background: rgba(255, 255, 255, 0.15) !important;
        border-color: var(--theme-primary) !important;
        transform: translateY(-1px) !important;
      }
      
      &:disabled {
        opacity: 0.5 !important;
        cursor: not-allowed !important;
      }
    }
  }

  // Timetable page styling
  .legacy-root,
  .LegacyPage__LegacyPage___t2gIt {
    background: transparent !important;
    color: var(--text-primary) !important;
    
    .LegacyPage__toolbar___xRVAN,
    .Toolbar__Toolbar___ecArT {
      background: var(--theme-offset-bg) !important;
      backdrop-filter: blur(10px) !important;
      border-bottom: 1px solid var(--border-secondary) !important;
      color: var(--text-primary) !important;
      padding: 16px 20px !important;
      
      .Button__Button___kQRWg,
      .uiButton,
      button {
        background: var(--button-bg) !important;
        border: 1px solid var(--border-primary) !important;
        color: var(--text-primary) !important;
        border-radius: 6px !important;
        padding: 8px 16px !important;
        font-family: Rubik, sans-serif !important;
        transition: all 0.2s ease !important;
        
        &:hover:not(:disabled) {
          background: var(--button-hover) !important;
          transform: translateY(-1px) !important;
        }
        
        &:disabled {
          background: var(--theme-offset-bg) !important;
          color: var(--text-muted) !important;
          cursor: not-allowed !important;
        }
        
        &.myTT {
          background: var(--accent-bg) !important;
          border-color: var(--accent-bg) !important;
          color: var(--text-on-accent) !important;
          
          &:disabled {
            background: var(--button-bg) !important;
            border-color: var(--border-primary) !important;
            color: var(--text-muted) !important;
          }
        }
      }
      
      .singleSelect,
      .uiShortText,
      input {
        background: var(--button-bg) !important;
        border: 1px solid var(--border-primary) !important;
        color: var(--text-primary) !important;
        border-radius: 6px !important;
        padding: 8px 12px !important;
        font-family: Rubik, sans-serif !important;
        
        &::placeholder {
          color: var(--text-muted) !important;
        }
        
        &:focus {
          border-color: var(--accent-bg) !important;
          box-shadow: 0 0 0 2px var(--accent-ring) !important;
          outline: none !important;
        }
      }
      
      .spacer {
        flex: 1 !important;
      }
    }
    
    .LegacyPage__body___IxT9e {
      background: transparent !important;
      color: var(--text-primary) !important;
      padding: 20px !important;
      
      // Forums page layout fix - ensure proper flex layout for list and view container
      // Target the direct child div that contains both listContainer and viewContainer
      > div:has(.viewContainer),
      > div:has(.listContainer) {
        display: flex !important;
        flex-direction: row !important;
        gap: 0 !important;
        width: 100% !important;
        height: 100% !important;
        overflow: hidden !important;
        align-items: stretch !important;
        
        // Forum list container (left side) - first child div or .listContainer
        > div:first-child:not(.viewContainer),
        > .listContainer,
        .listContainer {
          display: flex !important;
          flex-direction: column !important;
          width: 350px !important;
          min-width: 350px !important;
          max-width: 350px !important;
          flex-shrink: 0 !important;
          overflow-y: auto !important;
          overflow-x: hidden !important;
          background: transparent !important;
          border-right: 1px solid var(--border-secondary) !important;
          padding-right: 16px !important;
          margin-right: 16px !important;
          
          // Apply backdrop blur when transparency effects are enabled
          html.transparencyEffects & {
            backdrop-filter: blur(10px) !important;
          }
        }
        
        // Message viewing container (right side)
        > div.viewContainer,
        > .viewContainer,
        .viewContainer {
          display: flex !important;
          flex-direction: column !important;
          flex: 1 !important;
          flex-grow: 1 !important;
          min-width: 0 !important;
          width: auto !important;
          overflow: hidden !important;
          background: transparent !important;
          
          // Apply backdrop blur when transparency effects are enabled
          html.transparencyEffects & {
            backdrop-filter: blur(10px) !important;
          }
        }
      }
      
      // Fix attendance table day headers being too tall
      table {
        thead {
          tr {
            td {
              div.day {
                height: auto !important;
                min-height: auto !important;
                max-height: none !important;
                display: block !important;
                flex-direction: unset !important;
                box-shadow: none !important;
                background: transparent !important;
                padding: 0 !important;
                line-height: 1.2 !important;
              }
            }
          }
        }
      }
      
      // Ensure attendance table container allows horizontal scrolling
      > div > div > div > div > table.attendance.students,
      table.attendance.students {
        // Parent containers should allow horizontal scroll
        + *,
        ~ * {
          overflow-x: auto !important;
        }
      }
      
      // Make sure parent divs allow scrolling
      div:has(table.attendance.students) {
        overflow-x: auto !important;
        overflow-y: visible !important;
      }
      
      // Improve scalability for options in first child div (PREFERENCES section)
      > div > div:nth-child(1) {
        overflow-x: visible !important;
        overflow-y: visible !important;
        width: 100% !important;
        max-width: 100% !important;
        min-width: 0 !important;
        
        // Make pillbox/option containers wrap and scale better
        [class*="PillBox"],
        .pillbox,
        [class*="pillbox"],
        [class*="Pillbox"] {
          display: flex !important;
          flex-wrap: wrap !important;
          gap: 8px !important;
          min-width: 0 !important;
          width: 100% !important;
          max-width: 100% !important;
          overflow-x: visible !important;
          
          button,
          [class*="Button"],
          [class*="PillboxButton"],
          [class*="PillboxButton__"] {
            flex: 0 1 auto !important;
            min-width: fit-content !important;
            max-width: 100% !important;
            white-space: nowrap !important;
            padding: 6px 12px !important;
            font-size: 13px !important;
            overflow: visible !important;
          }
        }
        
        // Target specific preference option containers
        > div,
        > section,
        [class*="dashlet"] {
          max-width: 100% !important;
          overflow-x: visible !important;
          min-width: 0 !important;
          
          // Ensure nested option containers also wrap
          [class*="PillBox"],
          .pillbox,
          [class*="pillbox"],
          [class*="Pillbox"] {
            flex-wrap: wrap !important;
            width: 100% !important;
            max-width: 100% !important;
          }
        }
      }
      
      // Improve student selection and filter controls
      input[type="text"][placeholder*="Select student"],
      input[type="text"][placeholder*="student"] {
        background: rgba(255, 255, 255, 0.1) !important;
        border: 1px solid rgba(255, 255, 255, 0.2) !important;
        border-radius: 8px !important;
        color: white !important;
        font-family: Rubik, sans-serif !important;
        padding: 10px 16px !important;
        transition: all 0.2s ease !important;
        
        &:focus {
          background: rgba(255, 255, 255, 0.15) !important;
          border-color: var(--theme-primary) !important;
          outline: none !important;
          box-shadow: 0 0 0 2px rgba(var(--theme-primary-rgb), 0.3) !important;
        }
        
        &::placeholder {
          color: rgba(255, 255, 255, 0.5) !important;
        }
      }
      
      // Fix programmeListByStaff popup - size it like body > ul dropdown menus
      .programmeListByStaff.popup {
        position: absolute !important; // Keep absolute like dropdown menus
        width: auto !important; // Auto width based on content
        min-width: 300px !important; // Minimum width for readability
        max-width: 600px !important; // Maximum width to prevent it being too wide
        left: auto !important;
        right: auto !important;
        top: auto !important;
        bottom: auto !important;
        margin: 0 !important;
        background: var(--background-primary) !important;
        border: 1px solid var(--border-primary) !important;
        border-radius: 12px !important;
        padding: 20px !important;
        color: var(--text-primary) !important;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3) !important;
        overflow: visible !important;
        z-index: 1000 !important;
        
        // Apply blur only when transparency effects are enabled
        html.transparencyEffects & {
          backdrop-filter: blur(10px) !important;
          background: rgba(255, 255, 255, 0.05) !important;
        }
        
        // Ensure fully solid when transparency effects are disabled
        html:not(.transparencyEffects) & {
          background: var(--background-primary) !important;
          backdrop-filter: none !important;
        }
        
        // Ensure child elements are visible
        * {
          color: var(--text-primary) !important;
        }
        
        // Programme list table inside popup
        .programmeList {
          background: transparent !important;
          width: 100% !important;
          
          thead tr {
            html:not(.transparencyEffects) & {
              background: var(--background-secondary) !important;
            }
          }
          
          tbody tr {
            html:not(.transparencyEffects) & {
              background: var(--background-primary) !important;
              
              &:hover {
                background: var(--background-secondary) !important;
              }
            }
          }
        }
      }
      
      // Improve filter checkbox styling
      label[for*="Roll"],
      label[for*="House"],
      label[for*="Year"],
      label:has(+ input[type="checkbox"]) {
        color: white !important;
        font-family: Rubik, sans-serif !important;
        font-size: 14px !important;
        font-weight: 500 !important;
        cursor: pointer !important;
        display: flex !important;
        align-items: center !important;
        gap: 8px !important;
        padding: 8px 12px !important;
        border-radius: 6px !important;
        transition: all 0.2s ease !important;
        
        &:hover {
          background: rgba(255, 255, 255, 0.05) !important;
        }
        
        input[type="checkbox"] {
          width: 18px !important;
          height: 18px !important;
          accent-color: var(--theme-primary) !important;
          cursor: pointer !important;
        }
      }
      
      // Improve navigation buttons (prev/next)
      button:has(svg[viewBox*="24"]):not([class*="Button__"]) {
        background: rgba(255, 255, 255, 0.1) !important;
        border: 1px solid rgba(255, 255, 255, 0.2) !important;
        border-radius: 8px !important;
        color: white !important;
        padding: 10px !important;
        transition: all 0.2s ease !important;
        
        &:hover {
          background: rgba(255, 255, 255, 0.15) !important;
          transform: scale(1.05) !important;
        }
        
        svg {
          fill: currentColor !important;
          width: 20px !important;
          height: 20px !important;
        }
      }
      
      .timetable {
        background: transparent !important;
        
        .tabPage {
          background: transparent !important;
          
          .ptMyDay {
            background: transparent !important;
            
            .Myday__Myday___WuhC_ {
              background: transparent !important;
              display: flex !important;
              gap: 20px !important;
              
              // Left sidebar menu
              .MydayMenu__MydayMenu___T5I1E {
                background: var(--card-bg) !important;
                border: 1px solid var(--card-border) !important;
                border-radius: 12px !important;
                backdrop-filter: blur(10px) !important;
                overflow: hidden !important;
                
                .MydayMenu__header___UWKQp {
                  background: var(--accent-bg) !important;
                  color: white !important;
                  padding: 16px !important;
                  position: relative !important;
                  
                  .DayNavigator__DayNavigator___G4kt7,
                  .MydayMenu__navigator___rV3nZ {
                    margin-right: 50px !important; // Make space for toggle button
                    
                    .DayNavigator__row___faS_z {
                      display: flex !important;
                      align-items: center !important;
                      justify-content: space-between !important;
                      margin-bottom: 12px !important;
                      
                      &:last-child {
                        margin-bottom: 0 !important;
                        justify-content: center !important;
                        gap: 4px !important;
                      }
                      
                      button {
                        background: rgba(255, 255, 255, 0.2) !important;
                        border: 1px solid rgba(255, 255, 255, 0.3) !important;
                        border-radius: 6px !important;
                        color: white !important;
                        padding: 6px !important;
                        transition: all 0.2s ease !important;
                        
                        &:hover {
                          background: rgba(255, 255, 255, 0.3) !important;
                          transform: scale(1.05) !important;
                        }
                        
                        svg {
                          fill: white !important;
                          width: 16px !important;
                          height: 16px !important;
                        }
                        
                        &.DayNavigator__dayButton___Hdq8G {
                          background: rgba(255, 255, 255, 0.1) !important;
                          border-radius: 50% !important;
                          color: rgba(255, 255, 255, 0.8) !important;
                          font-family: Rubik, sans-serif !important;
                          font-size: 12px !important;
                          font-weight: 500 !important;
                          height: 32px !important;
                          padding: 0 !important;
                          width: 32px !important;
                          
                          &.DayNavigator__selected___Iatdm {
                            background: rgba(255, 255, 255, 0.3) !important;
                            color: white !important;
                            font-weight: 600 !important;
                          }
                        }
                      }
                      
                      input {
                        background: rgba(255, 255, 255, 0.2) !important;
                        border: 1px solid rgba(255, 255, 255, 0.3) !important;
                        border-radius: 6px !important;
                        color: white !important;
                        font-family: Rubik, sans-serif !important;
                        padding: 6px 8px !important;
                        text-align: center !important;
                        
                        &:focus {
                          background: rgba(255, 255, 255, 0.3) !important;
                          outline: none !important;
                        }
                      }
                    }
                  }
                  
                  .MydayMenu__toggle___gsNsa {
                    background: rgba(255, 255, 255, 0.2) !important;
                    border: 1px solid rgba(255, 255, 255, 0.3) !important;
                    border-radius: 6px !important;
                    color: white !important;
                    padding: 8px !important;
                    position: absolute !important;
                    right: 16px !important;
                    top: 50% !important;
                    transform: translateY(-50%) !important;
                    
                    &:hover {
                      background: rgba(255, 255, 255, 0.3) !important;
                    }
                    
                    svg,
                    div svg {
                      fill: white !important;
                      width: 16px !important;
                      height: 16px !important;
                    }
                    
                    div {
                      display: flex !important;
                      align-items: center !important;
                      justify-content: center !important;
                    }
                  }
                }
                
                .MydayMenu__list___wlbW_ {
                  background: transparent !important;
                  color: white !important;
                  padding: 20px !important;
                  
                  .MydayMenu__noClasses___JKqLK {
                    color: rgba(255, 255, 255, 0.7) !important;
                    font-family: Rubik, sans-serif !important;
                    font-style: italic !important;
                    text-align: center !important;
                  }
                }
                
                .MydayMenu__buttons___ET0LY {
                  background: rgba(255, 255, 255, 0.03) !important;
                  border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
                  display: flex !important;
                  flex-direction: column !important;
                  gap: 8px !important;
                  padding: 16px !important;
                  
                  button {
                    background: rgba(255, 255, 255, 0.1) !important;
                    border: 1px solid rgba(255, 255, 255, 0.2) !important;
                    border-radius: 6px !important;
                    color: white !important;
                    display: flex !important;
                    align-items: center !important;
                    gap: 8px !important;
                    font-family: Rubik, sans-serif !important;
                    padding: 12px 16px !important;
                    text-align: left !important;
                    transition: all 0.2s ease !important;
                    width: 100% !important;
                    
                    &:hover {
                      background: rgba(255, 255, 255, 0.15) !important;
                      transform: translateY(-1px) !important;
                    }
                    
                    svg {
                      fill: white !important;
                      width: 16px !important;
                      height: 16px !important;
                    }
                    
                    &.MydayMenu__notes___sdb3O {
                      &:hover {
                        border-color: #007AFF !important;
                      }
                    }
                    
                    &.MydayMenu__tasks___U1AOT {
                      &:hover {
                        border-color: #28a745 !important;
                      }
                    }
                  }
                }
              }
              
              // Main content area
              .MydayContent__noClasses___LJ3Hr {
                background: rgba(255, 255, 255, 0.05) !important;
                border: 1px solid rgba(255, 255, 255, 0.1) !important;
                border-radius: 12px !important;
                color: rgba(255, 255, 255, 0.7) !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                font-family: Rubik, sans-serif !important;
                font-size: 16px !important;
                font-style: italic !important;
                flex: 1 !important;
                min-height: 400px !important;
                padding: 40px !important;
                text-align: center !important;
              }
              
              // Saved indicator
              .Myday__saved___kvTsO {
                background: rgba(40, 167, 69, 0.2) !important;
                border: 1px solid rgba(40, 167, 69, 0.4) !important;
                border-radius: 6px !important;
                color: #28a745 !important;
                font-family: Rubik, sans-serif !important;
                font-weight: 500 !important;
                padding: 8px 16px !important;
                position: fixed !important;
                right: 20px !important;
                top: 80px !important;
                z-index: 1000 !important;
              }
            }
          }
        }
      }
      
      // Counter Bullying List styling
      .counterBullyingList {
        background: rgba(255, 255, 255, 0.05) !important;
        background-color: rgba(255, 255, 255, 0.05) !important;
        border: 1px solid rgba(255, 255, 255, 0.1) !important;
        border-radius: 12px !important;
        padding: 16px !important;
        color: white !important;
        
        .add {
          display: flex !important;
          align-items: center !important;
          gap: 12px !important;
          flex-wrap: wrap !important;
          margin-bottom: 16px !important;
          
          .container {
            position: relative !important;
            
            input.singleSelect {
              background: rgba(255, 255, 255, 0.1) !important;
              background-color: rgba(255, 255, 255, 0.1) !important;
              border: 1px solid rgba(255, 255, 255, 0.2) !important;
              border-radius: 8px !important;
              color: white !important;
              padding: 10px 12px !important;
              font-family: Rubik, sans-serif !important;
              font-size: 14px !important;
              
              &::placeholder {
                color: rgba(255, 255, 255, 0.5) !important;
              }
            }
            
            .singleSelect.overlay {
              background: transparent !important;
              background-color: transparent !important;
              border: none !important;
            }
          }
          
          input.singleSelect {
            background: rgba(255, 255, 255, 0.1) !important;
            background-color: rgba(255, 255, 255, 0.1) !important;
            border: 1px solid rgba(255, 255, 255, 0.2) !important;
            border-radius: 8px !important;
            color: white !important;
            padding: 10px 12px !important;
            font-family: Rubik, sans-serif !important;
            font-size: 14px !important;
            
            &::placeholder {
              color: rgba(255, 255, 255, 0.5) !important;
            }
          }
          
          select.uiCombobox {
            background: rgba(255, 255, 255, 0.1) !important;
            background-color: rgba(255, 255, 255, 0.1) !important;
            border: 1px solid rgba(255, 255, 255, 0.2) !important;
            border-radius: 8px !important;
            color: white !important;
            padding: 10px 12px !important;
            font-family: Rubik, sans-serif !important;
            font-size: 14px !important;
            
            option {
              background: rgba(31, 41, 55, 0.95) !important;
              background-color: rgba(31, 41, 55, 0.95) !important;
              color: white !important;
            }
          }
          
          button.uiButton {
            background: rgba(255, 255, 255, 0.08) !important;
            background-color: rgba(255, 255, 255, 0.08) !important;
            border: 1px solid rgba(255, 255, 255, 0.2) !important;
            border-radius: 8px !important;
            color: white !important;
            padding: 10px 16px !important;
            font-family: Rubik, sans-serif !important;
            font-size: 14px !important;
            cursor: pointer !important;
            transition: all 0.2s ease !important;
            
            &:hover {
              background: rgba(255, 255, 255, 0.12) !important;
              background-color: rgba(255, 255, 255, 0.12) !important;
              border-color: var(--accent-bg) !important;
              transform: translateY(-1px) !important;
            }
            
            &:active {
              transform: translateY(0) !important;
            }
          }
        }
        
        .list {
          background: transparent !important;
          color: white !important;
        }
      }
      
      // Notices grid styling
      .notices.grid {
        background: transparent !important;
        display: grid !important;
        gap: 20px !important;
        color: white !important;
        
        .notice {
          background: rgba(255, 255, 255, 0.05) !important;
          background-color: rgba(255, 255, 255, 0.05) !important;
          border: 1px solid rgba(255, 255, 255, 0.1) !important;
          border-radius: 12px !important;
          backdrop-filter: blur(10px) !important;
          padding: 20px !important;
          color: white !important;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2) !important;
          transition: all 0.2s ease !important;
          
          &:hover {
            background: rgba(255, 255, 255, 0.08) !important;
            background-color: rgba(255, 255, 255, 0.08) !important;
            transform: translateY(-2px) !important;
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3) !important;
          }
          
          // Notice title
          h2 {
            color: white !important;
            font-family: Rubik, sans-serif !important;
            font-weight: 600 !important;
            font-size: 20px !important;
            margin-bottom: 12px !important;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;
          }
          
          // Meta information (labels, visibility)
          .meta {
            background: transparent !important;
            color: rgba(255, 255, 255, 0.8) !important;
            font-family: Rubik, sans-serif !important;
            font-size: 13px !important;
            margin-bottom: 12px !important;
            
            &.student {
              .vis {
                background: rgba(255, 255, 255, 0.15) !important;
                border-radius: 6px !important;
                padding: 4px 8px !important;
                display: inline-block !important;
                margin-right: 8px !important;
                color: white !important;
                font-weight: 500 !important;
              }
              
              .label {
                color: rgba(255, 255, 255, 0.7) !important;
                display: inline-block !important;
              }
            }
          }
          
          // Staff name
          .staff {
            color: rgba(255, 255, 255, 0.7) !important;
            font-family: Rubik, sans-serif !important;
            font-size: 13px !important;
            margin-bottom: 12px !important;
          }
          
          // Iframe wrapper (notice content)
          .iframeWrapper.contents {
            background: rgba(0, 0, 0, 0.3) !important;
            background-color: rgba(0, 0, 0, 0.3) !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
            border-radius: 8px !important;
            padding: 12px !important;
            margin-bottom: 12px !important;
            color: white !important;
            
            iframe.userHTML {
              background: transparent !important;
              border: none !important;
            }
          }
          
          // Action buttons (edit, delete)
          .actions {
            display: flex !important;
            gap: 8px !important;
            margin-top: 12px !important;
            
            button.uiButton {
              background: rgba(255, 255, 255, 0.1) !important;
              background-color: rgba(255, 255, 255, 0.1) !important;
              border: 1px solid rgba(255, 255, 255, 0.2) !important;
              border-radius: 6px !important;
              color: white !important;
              padding: 8px !important;
              cursor: pointer !important;
              transition: all 0.2s ease !important;
              
              &:hover {
                background: rgba(255, 255, 255, 0.2) !important;
                transform: scale(1.1) !important;
              }
              
              svg {
                fill: currentColor !important;
                width: 20px !important;
                height: 20px !important;
              }
            }
          }
        }
      }
      
      // Programme Cover Page Accordion styling
      .programmeWrapper {
        .ProgrammeCoverPage__wrapper___DaWdf {
          .ProgrammeCoverPage__body____SjuK {
            .Accordion__Accordion___DVllU {
              .Accordion__item___EVqcR {
                background: transparent !important;
                border: none !important;
                margin-bottom: 12px !important;
                
                .Accordion__header___tx7qC {
                  background: rgba(255, 255, 255, 0.05) !important;
                  border: 1px solid rgba(255, 255, 255, 0.1) !important;
                  border-radius: 8px !important;
                  padding: 16px !important;
                  color: white !important;
                  
                  .Accordion__label___SH_Bj {
                    color: white !important;
                    font-family: Rubik, sans-serif !important;
                    font-weight: 600 !important;
                    font-size: 16px !important;
                  }
                  
                  .Accordion__caption___eJU7p {
                    color: rgba(255, 255, 255, 0.7) !important;
                    font-family: Rubik, sans-serif !important;
                    font-size: 13px !important;
                  }
                  
                  .Accordion__actions___pzQ1h {
                    button.Accordion__expand___rR2vm {
                      background: rgba(255, 255, 255, 0.1) !important;
                      border: 1px solid rgba(255, 255, 255, 0.2) !important;
                      border-radius: 6px !important;
                      color: white !important;
                      transition: all 0.2s ease !important;
                      
                      &:hover {
                        background: rgba(255, 255, 255, 0.2) !important;
                        transform: scale(1.1) !important;
                      }
                      
                      svg {
                        fill: currentColor !important;
                      }
                    }
                  }
                }
                
                .Accordion__body___Zvir8 {
                  background: transparent !important;
                  padding: 20px 0 !important;
                  
                  .Body__body___LzxsL {
                    background: transparent !important;
                    
                    .Container__container___Ob9l6 {
                      background: transparent !important;
                      
                      .Document__document___ipJah {
                        background: transparent !important;
                        
                        // Canvas styling - override inline styles
                        .Canvas__canvas___dqrem {
                          background-color: rgba(0, 0, 0, 0.3) !important;
                          background: rgba(0, 0, 0, 0.3) !important;
                          color: white !important;
                          border: 1px solid rgba(255, 255, 255, 0.1) !important;
                          border-radius: 12px !important;
                          padding: 20px !important;
                          
                          // Empty canvas hint
                          .EmptyCanvasHint__no-module___J2tA2 {
                            .EmptyCanvasHint__heading___zPvNn {
                              color: white !important;
                              font-family: Rubik, sans-serif !important;
                              font-weight: 600 !important;
                            }
                            
                            .EmptyCanvasHint__message___Q8b51 {
                              color: rgba(255, 255, 255, 0.8) !important;
                              font-family: Rubik, sans-serif !important;
                              
                              strong {
                                color: white !important;
                                font-weight: 600 !important;
                              }
                            }
                          }
                        }
                        
                        // Palette styling
                        .Palette__palette___mixtX {
                          background: rgba(255, 255, 255, 0.05) !important;
                          background-color: rgba(255, 255, 255, 0.05) !important;
                          border: 1px solid rgba(255, 255, 255, 0.1) !important;
                          border-radius: 12px !important;
                          backdrop-filter: blur(10px) !important;
                          color: white !important;
                          
                          &.Palette__open___xlWHY {
                            background: rgba(255, 255, 255, 0.08) !important;
                            background-color: rgba(255, 255, 255, 0.08) !important;
                          }
                          
                          .Palette__palette__toggle___xdHCT {
                            background: rgba(255, 255, 255, 0.1) !important;
                            background-color: rgba(255, 255, 255, 0.1) !important;
                            border: 1px solid rgba(255, 255, 255, 0.2) !important;
                            border-radius: 6px !important;
                            color: white !important;
                            transition: all 0.2s ease !important;
                            
                            &:hover {
                              background: rgba(255, 255, 255, 0.2) !important;
                              background-color: rgba(255, 255, 255, 0.2) !important;
                              transform: scale(1.1) !important;
                            }
                            
                            svg {
                              fill: currentColor !important;
                            }
                          }
                          
                          .Palette__palette__menu___plWW7 {
                            background: transparent !important;
                            color: white !important;
                            
                            .SearchBar__SearchBar___xLyRx {
                              button {
                                background: rgba(0, 0, 0, 0.3) !important;
                                background-color: rgba(0, 0, 0, 0.3) !important;
                                border: 1px solid rgba(255, 255, 255, 0.2) !important;
                                border-radius: 6px !important;
                                color: white !important;
                                font-family: Rubik, sans-serif !important;
                                padding: 8px 16px !important;
                                transition: all 0.2s ease !important;
                                
                                &:hover {
                                  background: rgba(255, 255, 255, 0.1) !important;
                                  background-color: rgba(255, 255, 255, 0.1) !important;
                                  transform: translateY(-1px) !important;
                                }
                              }
                            }
                            
                            .Palette__hint___mRmtw {
                              color: rgba(255, 255, 255, 0.7) !important;
                              font-family: Rubik, sans-serif !important;
                              
                              a {
                                color: var(--theme-primary) !important;
                                text-decoration: none !important;
                                
                                &:hover {
                                  text-decoration: underline !important;
                                }
                              }
                            }
                            
                            // Palette sections (General, Structure, Media, etc.)
                            > div {
                              color: white !important;
                              
                              h2 {
                                color: white !important;
                                font-family: Rubik, sans-serif !important;
                                font-weight: 600 !important;
                                font-size: 14px !important;
                                text-transform: uppercase !important;
                                letter-spacing: 0.5px !important;
                                margin-bottom: 8px !important;
                              }
                              
                              ul {
                                li {
                                  background: rgba(255, 255, 255, 0.05) !important;
                                  border: 1px solid rgba(255, 255, 255, 0.1) !important;
                                  border-radius: 8px !important;
                                  color: white !important;
                                  transition: all 0.2s ease !important;
                                  
                                  &:hover {
                                    background: rgba(255, 255, 255, 0.1) !important;
                                    transform: translateY(-1px) !important;
                                  }
                                  
                                  div {
                                    color: white !important;
                                    font-family: Rubik, sans-serif !important;
                                  }
                                }
                              }
                            }
                          }
                        }
                        
                        // Module wrapper styling - override inline styles
                        .Module__wrapper___mC00E {
                          background: rgba(255, 255, 255, 0.05) !important;
                          background-color: rgba(255, 255, 255, 0.05) !important;
                          border: 1px solid rgba(255, 255, 255, 0.1) !important;
                          border-radius: 16px !important;
                          backdrop-filter: blur(10px) !important;
                          padding: 0 !important;
                          margin-bottom: 16px !important;
                          color: white !important;
                          
                          // Module title bar
                          .ModuleTitle__ModuleTitle___bZIue {
                            background: rgba(255, 255, 255, 0.08) !important;
                            background-color: rgba(255, 255, 255, 0.08) !important;
                            border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
                            padding: 12px 16px !important;
                            display: flex !important;
                            align-items: center !important;
                            justify-content: space-between !important;
                            color: white !important;
                            
                            .ModuleTitle__title___W7l4S {
                              color: white !important;
                              font-family: Rubik, sans-serif !important;
                              font-weight: 600 !important;
                              font-size: 14px !important;
                            }
                            
                            .ModuleTitle__buttons___qTLIh {
                              display: flex !important;
                              gap: 4px !important;
                              
                              button {
                                background: rgba(255, 255, 255, 0.1) !important;
                                background-color: rgba(255, 255, 255, 0.1) !important;
                                border: 1px solid rgba(255, 255, 255, 0.2) !important;
                                border-radius: 50% !important;
                                color: white !important;
                                padding: 4px !important;
                                width: 28px !important;
                                height: 28px !important;
                                display: flex !important;
                                align-items: center !important;
                                justify-content: center !important;
                                transition: all 0.2s ease !important;
                                cursor: pointer !important;
                                
                                &:hover:not(:disabled) {
                                  background: rgba(255, 255, 255, 0.2) !important;
                                  background-color: rgba(255, 255, 255, 0.2) !important;
                                  transform: scale(1.1) !important;
                                }
                                
                                &:disabled {
                                  opacity: 0.5 !important;
                                  cursor: not-allowed !important;
                                }
                                
                                svg {
                                  fill: currentColor !important;
                                  width: 16px !important;
                                  height: 16px !important;
                                }
                                
                                &.ModuleTitle__delete___thPvS {
                                  &:hover:not(:disabled) {
                                    background: rgba(255, 59, 48, 0.3) !important;
                                    background-color: rgba(255, 59, 48, 0.3) !important;
                                    border-color: rgba(255, 59, 48, 0.5) !important;
                                  }
                                }
                              }
                            }
                          }
                          
                          // Module content
                          .Module__content___sbur8 {
                            background: transparent !important;
                            color: white !important;
                            padding: 16px !important;
                          }
                          
                          // HTML Module specific styling
                          .HtmlModule__htmlModuleContainer___Tn6vi {
                            background: transparent !important;
                            color: white !important;
                            
                            .HtmlModule__pillboxContainer___FoIW2 {
                              background: rgba(255, 255, 255, 0.05) !important;
                              background-color: rgba(255, 255, 255, 0.05) !important;
                              border: 1px solid rgba(255, 255, 255, 0.1) !important;
                              border-radius: 8px !important;
                              padding: 8px !important;
                              margin-bottom: 12px !important;
                              
                              .wxPillbox__Pillbox___ta4lp {
                                background: transparent !important;
                                color: white !important;
                                
                                .wxPillboxButton__PillboxButton___LUbyH {
                                  background: rgba(255, 255, 255, 0.1) !important;
                                  background-color: rgba(255, 255, 255, 0.1) !important;
                                  border: 1px solid rgba(255, 255, 255, 0.2) !important;
                                  border-radius: 6px !important;
                                  color: white !important;
                                  font-family: Rubik, sans-serif !important;
                                  font-size: 13px !important;
                                  padding: 6px 12px !important;
                                  transition: all 0.2s ease !important;
                                  
                                  &:hover {
                                    background: rgba(255, 255, 255, 0.2) !important;
                                    background-color: rgba(255, 255, 255, 0.2) !important;
                                  }
                                  
                                  &.wxPillboxButton__depressed___lV4lI {
                                    background: var(--theme-primary) !important;
                                    background-color: var(--theme-primary) !important;
                                    border-color: var(--theme-primary) !important;
                                    color: white !important;
                                  }
                                }
                              }
                            }
                            
                            .HtmlModule__htmlWrapper___TUFr2 {
                              background: transparent !important;
                              color: white !important;
                              
                              .HtmlEditor__htmlEditorWrapper___HS2mV {
                                background: rgba(0, 0, 0, 0.3) !important;
                                background-color: rgba(0, 0, 0, 0.3) !important;
                                border: 1px solid rgba(255, 255, 255, 0.1) !important;
                                border-radius: 8px !important;
                                overflow: hidden !important;
                                
                                .ace_editor {
                                  background: rgba(0, 0, 0, 0.5) !important;
                                  color: white !important;
                                  
                                  .ace_gutter {
                                    background: rgba(0, 0, 0, 0.3) !important;
                                    color: rgba(255, 255, 255, 0.6) !important;
                                  }
                                  
                                  .ace_content {
                                    color: white !important;
                                  }
                                }
                              }
                              
                              .HtmlModule__viewWrapper___seRhH {
                                background: rgba(0, 0, 0, 0.2) !important;
                                border: 1px solid rgba(255, 255, 255, 0.1) !important;
                                border-radius: 8px !important;
                                
                                .HtmlModule__iframeContainer___Zb0CW {
                                  background: white !important;
                                  border-radius: 8px !important;
                                  overflow: hidden !important;
                                  
                                  iframe {
                                    background: white !important;
                                  }
                                }
                              }
                            }
                          }
                          
                          // Text Module styling
                          .TextModule__textModuleContainer___,
                          [class*="TextModule"] {
                            background: transparent !important;
                            color: white !important;
                            
                            // Text editor toolbar
                            [class*="Toolbar"],
                            [class*="toolbar"] {
                              background: rgba(255, 255, 255, 0.05) !important;
                              border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
                              padding: 8px !important;
                              display: flex !important;
                              gap: 4px !important;
                              flex-wrap: wrap !important;
                              
                              button,
                              [class*="Button"] {
                                background: rgba(255, 255, 255, 0.1) !important;
                                border: 1px solid rgba(255, 255, 255, 0.2) !important;
                                border-radius: 4px !important;
                                color: white !important;
                                padding: 6px !important;
                                transition: all 0.2s ease !important;
                                
                                &:hover:not(:disabled) {
                                  background: rgba(255, 255, 255, 0.2) !important;
                                  transform: scale(1.05) !important;
                                }
                                
                                svg {
                                  fill: currentColor !important;
                                }
                              }
                            }
                            
                            // Text editor content area
                            textarea,
                            [class*="Editor"],
                            [class*="editor"],
                            [contenteditable="true"] {
                              background: rgba(0, 0, 0, 0.3) !important;
                              border: 1px solid rgba(255, 255, 255, 0.1) !important;
                              border-radius: 8px !important;
                              color: white !important;
                              padding: 12px !important;
                              font-family: Rubik, sans-serif !important;
                              
                              &::placeholder {
                                color: rgba(255, 255, 255, 0.5) !important;
                              }
                            }
                          }
                          
                          // Assessment Module styling
                          [class*="AssessmentModule"] {
                            background: transparent !important;
                            color: white !important;
                            
                            [class*="AssessmentModule__noAssessment"] {
                              color: rgba(255, 255, 255, 0.7) !important;
                              font-family: Rubik, sans-serif !important;
                              font-style: italic !important;
                            }
                            
                            [class*="AssessmentModule__list"] {
                              background: rgba(255, 255, 255, 0.05) !important;
                              border: 1px solid rgba(255, 255, 255, 0.1) !important;
                              border-radius: 8px !important;
                              padding: 12px !important;
                              
                              li {
                                background: rgba(255, 255, 255, 0.05) !important;
                                border: 1px solid rgba(255, 255, 255, 0.1) !important;
                                border-radius: 6px !important;
                                padding: 12px !important;
                                margin-bottom: 8px !important;
                                color: white !important;
                                cursor: pointer !important;
                                transition: all 0.2s ease !important;
                                
                                &:hover {
                                  background: rgba(255, 255, 255, 0.1) !important;
                                  transform: translateY(-1px) !important;
                                }
                                
                                h2 {
                                  color: white !important;
                                  font-family: Rubik, sans-serif !important;
                                  font-weight: 600 !important;
                                }
                                
                                div {
                                  color: rgba(255, 255, 255, 0.7) !important;
                                  font-family: Rubik, sans-serif !important;
                                }
                              }
                            }
                            
                            button {
                              background: rgba(255, 255, 255, 0.1) !important;
                              border: 1px solid rgba(255, 255, 255, 0.2) !important;
                              border-radius: 6px !important;
                              color: white !important;
                              padding: 8px 16px !important;
                              font-family: Rubik, sans-serif !important;
                              transition: all 0.2s ease !important;
                              
                              &:hover {
                                background: rgba(255, 255, 255, 0.2) !important;
                                transform: translateY(-1px) !important;
                              }
                            }
                          }
                          
                          // Title Module styling
                          [class*="TitleModule"] {
                            background: transparent !important;
                            color: white !important;
                            
                            input {
                              background: rgba(255, 255, 255, 0.1) !important;
                              border: 1px solid rgba(255, 255, 255, 0.2) !important;
                              border-radius: 6px !important;
                              color: white !important;
                              padding: 8px 12px !important;
                              font-family: Rubik, sans-serif !important;
                              
                              &::placeholder {
                                color: rgba(255, 255, 255, 0.5) !important;
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
      
      // Unit Planner styling
      .programmeWrapper {
        background: transparent !important;
        color: white !important;
        
        .programme.tabPage {
          background: transparent !important;
          color: white !important;
          
          .ptUnitPlanner {
            background: transparent !important;
            color: white !important;
            
            .unitPlanner__unitplanner___a4O8_ {
              background: transparent !important;
              color: white !important;
              display: flex !important;
              gap: 20px !important;
              
              // Side pane (unit list)
              .unitPlanner__sidePane___Gyo6k {
                background: rgba(255, 255, 255, 0.05) !important;
                background-color: rgba(255, 255, 255, 0.05) !important;
                border: 1px solid rgba(255, 255, 255, 0.1) !important;
                border-radius: 12px !important;
                backdrop-filter: blur(10px) !important;
                padding: 16px !important;
                color: white !important;
                min-width: 200px !important;
                
                .ItemList__ItemList___h6ECV {
                  background: transparent !important;
                  color: white !important;
                  
                  .list {
                    background: transparent !important;
                    
                    .ItemList__Item___EXrYD {
                      background: rgba(255, 255, 255, 0.05) !important;
                      border: 1px solid rgba(255, 255, 255, 0.1) !important;
                      border-radius: 8px !important;
                      padding: 12px !important;
                      margin-bottom: 8px !important;
                      color: white !important;
                      cursor: pointer !important;
                      transition: all 0.2s ease !important;
                      
                      &:hover {
                        background: rgba(255, 255, 255, 0.1) !important;
                        transform: translateY(-1px) !important;
                      }
                      
                      &.ItemList__selected___DudiO {
                        background: rgba(255, 255, 255, 0.15) !important;
                        border-color: var(--theme-primary) !important;
                        box-shadow: 0 0 0 2px rgba(var(--theme-primary-rgb), 0.3) !important;
                      }
                      
                      .ItemList__column___Jp5hg {
                        .ItemList__label___deRjp {
                          color: white !important;
                          font-family: Rubik, sans-serif !important;
                          font-weight: 500 !important;
                        }
                      }
                    }
                  }
                }
                
                // Minimap
                .unitPlanner__minimap___Geou3 {
                  background: rgba(255, 255, 255, 0.03) !important;
                  border-radius: 8px !important;
                  padding: 8px !important;
                  margin-top: 16px !important;
                  
                  .unitPlanner__row___kF3N7 {
                    .unitPlanner__item___CKP1e {
                      border-radius: 4px !important;
                      margin-bottom: 4px !important;
                      
                      .unitPlanner__title___lgBP1 {
                        color: white !important;
                        font-family: Rubik, sans-serif !important;
                        font-weight: 500 !important;
                      }
                    }
                  }
                }
              }
              
              // Content area
              .unitPlanner__content___PLcHE {
                background: transparent !important;
                color: white !important;
                flex: 1 !important;
                
                // Meta section (title, pathway, template, etc.)
                .unitPlanner__meta___Lni21 {
                  background: rgba(255, 255, 255, 0.05) !important;
                  background-color: rgba(255, 255, 255, 0.05) !important;
                  border: 1px solid rgba(255, 255, 255, 0.1) !important;
                  border-radius: 12px !important;
                  backdrop-filter: blur(10px) !important;
                  padding: 20px !important;
                  margin-bottom: 20px !important;
                  color: white !important;
                  
                  .unitPlanner__alpha___uNcX_ {
                    background: transparent !important;
                    color: white !important;
                    
                    .unitPlanner__title___lgBP1 {
                      background: transparent !important;
                      color: white !important;
                      
                      .unitPlanner__label___IRyst {
                        color: rgba(255, 255, 255, 0.8) !important;
                        font-family: Rubik, sans-serif !important;
                        font-size: 12px !important;
                        font-weight: 600 !important;
                        text-transform: uppercase !important;
                        letter-spacing: 0.5px !important;
                        margin-bottom: 8px !important;
                      }
                      
                      input.unitPlanner__uiShortText___Ebb3k,
                      .uiShortText {
                        background: rgba(255, 255, 255, 0.1) !important;
                        border: 1px solid rgba(255, 255, 255, 0.2) !important;
                        border-radius: 6px !important;
                        color: white !important;
                        padding: 8px 12px !important;
                        font-family: Rubik, sans-serif !important;
                        
                        &::placeholder {
                          color: rgba(255, 255, 255, 0.5) !important;
                        }
                        
                        &:focus {
                          border-color: var(--theme-primary) !important;
                          box-shadow: 0 0 0 2px rgba(var(--theme-primary-rgb), 0.3) !important;
                          outline: none !important;
                        }
                      }
                    }
                    
                    // Form fields
                    > div {
                      margin-bottom: 16px !important;
                      
                      label,
                      .unitPlanner__label___IRyst {
                        color: rgba(255, 255, 255, 0.8) !important;
                        font-family: Rubik, sans-serif !important;
                        font-size: 12px !important;
                        font-weight: 600 !important;
                        text-transform: uppercase !important;
                        letter-spacing: 0.5px !important;
                        margin-bottom: 8px !important;
                      }
                      
                      button,
                      .uiButton,
                      .uiCombobox {
                        background: rgba(255, 255, 255, 0.1) !important;
                        border: 1px solid rgba(255, 255, 255, 0.2) !important;
                        border-radius: 6px !important;
                        color: white !important;
                        padding: 8px 12px !important;
                        font-family: Rubik, sans-serif !important;
                        transition: all 0.2s ease !important;
                        
                        &:hover {
                          background: rgba(255, 255, 255, 0.2) !important;
                          transform: translateY(-1px) !important;
                        }
                      }
                      
                      input[type="text"],
                      input[type="number"] {
                        background: rgba(255, 255, 255, 0.1) !important;
                        border: 1px solid rgba(255, 255, 255, 0.2) !important;
                        border-radius: 6px !important;
                        color: white !important;
                        padding: 8px 12px !important;
                        font-family: Rubik, sans-serif !important;
                        
                        &::placeholder {
                          color: rgba(255, 255, 255, 0.5) !important;
                        }
                      }
                      
                      button[class*="button"] {
                        background: rgba(255, 255, 255, 0.1) !important;
                        border: 1px solid rgba(255, 255, 255, 0.2) !important;
                        border-radius: 6px !important;
                        color: white !important;
                        padding: 6px 10px !important;
                        min-width: 32px !important;
                        
                        &:hover {
                          background: rgba(255, 255, 255, 0.2) !important;
                        }
                      }
                    }
                  }
                }
                
                // Sections (Concepts, Objectives, Statement of inquiry, etc.)
                > div {
                  background: rgba(255, 255, 255, 0.05) !important;
                  border: 1px solid rgba(255, 255, 255, 0.1) !important;
                  border-radius: 12px !important;
                  padding: 20px !important;
                  margin-bottom: 20px !important;
                  color: white !important;
                  
                  // Make fully solid when transparency effects are disabled
                  html:not(.transparencyEffects) & {
                    background: var(--background-primary) !important;
                  }
                  
                  // Apply blur only when transparency effects are enabled
                  html.transparencyEffects & {
                    backdrop-filter: blur(10px) !important;
                  }
                  
                  // Section headers
                  > div:first-child {
                    display: flex !important;
                    align-items: center !important;
                    justify-content: space-between !important;
                    margin-bottom: 16px !important;
                    
                    h3,
                    div[class*="title"],
                    div[class*="header"] {
                      color: white !important;
                      font-family: Rubik, sans-serif !important;
                      font-weight: 600 !important;
                      font-size: 16px !important;
                    }
                    
                    button {
                      background: rgba(255, 255, 255, 0.1) !important;
                      border: 1px solid rgba(255, 255, 255, 0.2) !important;
                      border-radius: 6px !important;
                      color: white !important;
                      padding: 6px !important;
                      transition: all 0.2s ease !important;
                      
                      &:hover {
                        background: rgba(255, 255, 255, 0.2) !important;
                        transform: scale(1.1) !important;
                      }
                      
                      svg {
                        fill: currentColor !important;
                      }
                    }
                  }
                  
                  // Text editor toolbars
                  [class*="toolbar"],
                  [class*="Toolbar"] {
                    background: rgba(255, 255, 255, 0.05) !important;
                    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
                    padding: 8px !important;
                    display: flex !important;
                    gap: 4px !important;
                    flex-wrap: wrap !important;
                    margin-bottom: 12px !important;
                    
                    button {
                      background: rgba(255, 255, 255, 0.1) !important;
                      border: 1px solid rgba(255, 255, 255, 0.2) !important;
                      border-radius: 4px !important;
                      color: white !important;
                      padding: 6px !important;
                      transition: all 0.2s ease !important;
                      
                      &:hover:not(:disabled) {
                        background: rgba(255, 255, 255, 0.2) !important;
                        transform: scale(1.05) !important;
                      }
                      
                      svg {
                        fill: currentColor !important;
                      }
                    }
                  }
                  
                  // Text editor content areas
                  textarea,
                  [class*="Editor"],
                  [class*="editor"],
                  [contenteditable="true"],
                  iframe {
                    background: rgba(0, 0, 0, 0.3) !important;
                    border: 1px solid rgba(255, 255, 255, 0.1) !important;
                    border-radius: 8px !important;
                    color: white !important;
                    padding: 12px !important;
                    font-family: Rubik, sans-serif !important;
                    
                    &::placeholder {
                      color: rgba(255, 255, 255, 0.5) !important;
                    }
                  }
                  
                  // Lists
                  ul,
                  ol {
                    background: transparent !important;
                    color: white !important;
                    
                    li {
                      background: rgba(255, 255, 255, 0.05) !important;
                      border: 1px solid rgba(255, 255, 255, 0.1) !important;
                      border-radius: 6px !important;
                      padding: 12px !important;
                      margin-bottom: 8px !important;
                      color: white !important;
                      
                      button {
                        background: rgba(255, 255, 255, 0.1) !important;
                        border: 1px solid rgba(255, 255, 255, 0.2) !important;
                        border-radius: 6px !important;
                        color: white !important;
                        padding: 6px !important;
                        
                        &:hover {
                          background: rgba(255, 255, 255, 0.2) !important;
                        }
                      }
                    }
                  }
                  
                  // Components section
                  [class*="component"] {
                    background: rgba(255, 255, 255, 0.05) !important;
                    border: 1px solid rgba(255, 255, 255, 0.1) !important;
                    border-radius: 8px !important;
                    padding: 16px !important;
                    margin-bottom: 12px !important;
                    color: white !important;
                    
                    // CKEditor iframe
                    iframe {
                      background: white !important;
                      border-radius: 8px !important;
                    }
                  }
                  
                  // File upload area
                  [class*="upload"],
                  [class*="drop"] {
                    background: rgba(255, 255, 255, 0.05) !important;
                    border: 2px dashed rgba(255, 255, 255, 0.3) !important;
                    border-radius: 8px !important;
                    padding: 40px 20px !important;
                    text-align: center !important;
                    color: rgba(255, 255, 255, 0.7) !important;
                    font-family: Rubik, sans-serif !important;
                    
                    button {
                      background: rgba(255, 255, 255, 0.1) !important;
                      border: 1px solid rgba(255, 255, 255, 0.2) !important;
                      border-radius: 6px !important;
                      color: white !important;
                      padding: 8px 16px !important;
                      margin-top: 12px !important;
                      transition: all 0.2s ease !important;
                      
                      &:hover {
                        background: rgba(255, 255, 255, 0.2) !important;
                        transform: translateY(-1px) !important;
                      }
                    }
                  }
                }
              }
            }
          }
          
          // Planner page styling (weekly lesson planner)
          .programmeEditWrapper {
            background: transparent !important;
            color: white !important;
            
            .weeks {
              background: transparent !important;
              display: flex !important;
              flex-direction: column !important;
              gap: 16px !important;
              
              .week {
                background: rgba(255, 255, 255, 0.05) !important;
                background-color: rgba(255, 255, 255, 0.05) !important;
                border: 1px solid rgba(255, 255, 255, 0.1) !important;
                border-radius: 12px !important;
                backdrop-filter: blur(10px) !important;
                padding: 16px !important;
                color: white !important;
                transition: all 0.2s ease !important;
                
                &:hover {
                  background: rgba(255, 255, 255, 0.08) !important;
                  background-color: rgba(255, 255, 255, 0.08) !important;
                  transform: translateY(-1px) !important;
                  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;
                }
                
                // Week meta header (number, term, week)
                .meta {
                  background: rgba(255, 255, 255, 0.08) !important;
                  background-color: rgba(255, 255, 255, 0.08) !important;
                  border: 1px solid rgba(255, 255, 255, 0.1) !important;
                  border-radius: 8px !important;
                  padding: 12px 16px !important;
                  margin-bottom: 12px !important;
                  display: flex !important;
                  align-items: center !important;
                  gap: 12px !important;
                  color: white !important;
                  
                  .number,
                  .term,
                  .week {
                    color: white !important;
                    font-family: Rubik, sans-serif !important;
                    font-weight: 600 !important;
                    font-size: 14px !important;
                  }
                  
                  button.uiButton.collapse {
                    background: rgba(255, 255, 255, 0.1) !important;
                    border: 1px solid rgba(255, 255, 255, 0.2) !important;
                    border-radius: 6px !important;
                    color: white !important;
                    padding: 6px !important;
                    margin-left: auto !important;
                    transition: all 0.2s ease !important;
                    
                    &:hover {
                      background: rgba(255, 255, 255, 0.2) !important;
                      transform: scale(1.1) !important;
                    }
                    
                    svg {
                      fill: currentColor !important;
                    }
                  }
                }
                
                // Lessons container
                .lessons {
                  background: transparent !important;
                  display: flex !important;
                  flex-direction: column !important;
                  gap: 12px !important;
                  
                  // Individual lesson
                  .programmeEdit.lesson {
                    background: rgba(255, 255, 255, 0.03) !important;
                    border: 1px solid rgba(255, 255, 255, 0.1) !important;
                    border-radius: 8px !important;
                    padding: 16px !important;
                    color: white !important;
                    transition: all 0.2s ease !important;
                    
                    &:hover {
                      background: rgba(255, 255, 255, 0.06) !important;
                      border-color: rgba(255, 255, 255, 0.2) !important;
                    }
                    
                    // Lesson header
                    .head {
                      background: transparent !important;
                      display: flex !important;
                      align-items: center !important;
                      gap: 12px !important;
                      margin-bottom: 12px !important;
                      flex-wrap: wrap !important;
                      
                      .number,
                      .period,
                      .date {
                        color: white !important;
                        font-family: Rubik, sans-serif !important;
                        font-weight: 500 !important;
                        font-size: 13px !important;
                      }
                      
                      .topic {
                        display: flex !important;
                        align-items: center !important;
                        gap: 8px !important;
                        
                        label {
                          color: rgba(255, 255, 255, 0.8) !important;
                          font-family: Rubik, sans-serif !important;
                          font-size: 12px !important;
                          font-weight: 600 !important;
                        }
                        
                        input.uiShortText {
                          background: rgba(255, 255, 255, 0.1) !important;
                          border: 1px solid rgba(255, 255, 255, 0.2) !important;
                          border-radius: 6px !important;
                          color: white !important;
                          padding: 6px 10px !important;
                          font-family: Rubik, sans-serif !important;
                          
                          &::placeholder {
                            color: rgba(255, 255, 255, 0.5) !important;
                          }
                          
                          &:focus {
                            border-color: var(--theme-primary) !important;
                            box-shadow: 0 0 0 2px rgba(var(--theme-primary-rgb), 0.3) !important;
                            outline: none !important;
                          }
                        }
                      }
                      
                      .pathways {
                        background: rgba(255, 255, 255, 0.1) !important;
                        border: 1px solid rgba(255, 255, 255, 0.2) !important;
                        border-radius: 6px !important;
                        padding: 4px 8px !important;
                        color: white !important;
                        display: flex !important;
                        align-items: center !important;
                        gap: 4px !important;
                        
                        svg {
                          fill: currentColor !important;
                        }
                        
                        span {
                          color: white !important;
                          font-family: Rubik, sans-serif !important;
                          font-size: 12px !important;
                          font-weight: 500 !important;
                        }
                      }
                      
                      .actions {
                        display: flex !important;
                        gap: 4px !important;
                        margin-left: auto !important;
                        
                        button.uiButton {
                          background: rgba(255, 255, 255, 0.1) !important;
                          border: 1px solid rgba(255, 255, 255, 0.2) !important;
                          border-radius: 6px !important;
                          color: white !important;
                          padding: 6px !important;
                          transition: all 0.2s ease !important;
                          
                          &:hover:not(:disabled) {
                            background: rgba(255, 255, 255, 0.2) !important;
                            transform: scale(1.1) !important;
                          }
                          
                          &:disabled {
                            opacity: 0.5 !important;
                            cursor: not-allowed !important;
                          }
                          
                          svg {
                            fill: currentColor !important;
                          }
                          
                          &.assessments {
                            &.assessed {
                              background: rgba(40, 167, 69, 0.2) !important;
                              border-color: rgba(40, 167, 69, 0.4) !important;
                              
                              &:hover {
                                background: rgba(40, 167, 69, 0.3) !important;
                              }
                            }
                          }
                        }
                      }
                    }
                    
                    // Lesson content sections
                    > div {
                      background: transparent !important;
                      color: white !important;
                      margin-bottom: 12px !important;
                      
                      h1 {
                        color: white !important;
                        font-family: Rubik, sans-serif !important;
                        font-weight: 600 !important;
                        font-size: 14px !important;
                        margin-bottom: 8px !important;
                      }
                      
                      input.uiShortText {
                        background: rgba(255, 255, 255, 0.1) !important;
                        border: 1px solid rgba(255, 255, 255, 0.2) !important;
                        border-radius: 6px !important;
                        color: white !important;
                        padding: 8px 12px !important;
                        font-family: Rubik, sans-serif !important;
                        width: 100% !important;
                        
                        &::placeholder {
                          color: rgba(255, 255, 255, 0.5) !important;
                        }
                        
                        &:focus {
                          border-color: var(--theme-primary) !important;
                          box-shadow: 0 0 0 2px rgba(var(--theme-primary-rgb), 0.3) !important;
                          outline: none !important;
                        }
                      }
                      
                      // Text editor toolbars
                      [class*="toolbar"],
                      [class*="Toolbar"] {
                        background: rgba(255, 255, 255, 0.05) !important;
                        border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
                        padding: 8px !important;
                        display: flex !important;
                        gap: 4px !important;
                        flex-wrap: wrap !important;
                        margin-bottom: 12px !important;
                        
                        button {
                          background: rgba(255, 255, 255, 0.1) !important;
                          border: 1px solid rgba(255, 255, 255, 0.2) !important;
                          border-radius: 4px !important;
                          color: white !important;
                          padding: 6px !important;
                          transition: all 0.2s ease !important;
                          
                          &:hover:not(:disabled) {
                            background: rgba(255, 255, 255, 0.2) !important;
                            transform: scale(1.05) !important;
                          }
                          
                          svg {
                            fill: currentColor !important;
                          }
                        }
                      }
                      
                      // Text editor content areas
                      textarea,
                      [class*="Editor"],
                      [class*="editor"],
                      [contenteditable="true"],
                      iframe {
                        background: rgba(0, 0, 0, 0.3) !important;
                        border: 1px solid rgba(255, 255, 255, 0.1) !important;
                        border-radius: 8px !important;
                        color: white !important;
                        padding: 12px !important;
                        font-family: Rubik, sans-serif !important;
                        
                        &::placeholder {
                          color: rgba(255, 255, 255, 0.5) !important;
                        }
                      }
                      
                      // Checkbox styling
                      input[type="checkbox"] {
                        background: rgba(255, 255, 255, 0.1) !important;
                        border: 1px solid rgba(255, 255, 255, 0.2) !important;
                        border-radius: 4px !important;
                        
                        &:checked {
                          background: var(--theme-primary) !important;
                          border-color: var(--theme-primary) !important;
                        }
                      }
                      
                      label {
                        color: white !important;
                        font-family: Rubik, sans-serif !important;
                        font-size: 13px !important;
                      }
                      
                      // Buttons
                      button {
                        background: rgba(255, 255, 255, 0.1) !important;
                        border: 1px solid rgba(255, 255, 255, 0.2) !important;
                        border-radius: 6px !important;
                        color: white !important;
                        padding: 8px 16px !important;
                        font-family: Rubik, sans-serif !important;
                        transition: all 0.2s ease !important;
                        
                        &:hover:not(:disabled) {
                          background: rgba(255, 255, 255, 0.2) !important;
                          transform: translateY(-1px) !important;
                        }
                        
                        svg {
                          fill: currentColor !important;
                        }
                      }
                    }
                  }
                  
                  // Add lesson button
                  button[type="button"] {
                    background: rgba(255, 255, 255, 0.1) !important;
                    border: 1px solid rgba(255, 255, 255, 0.2) !important;
                    border-radius: 8px !important;
                    color: white !important;
                    padding: 12px 20px !important;
                    font-family: Rubik, sans-serif !important;
                    font-weight: 500 !important;
                    transition: all 0.2s ease !important;
                    width: 100% !important;
                    margin-top: 8px !important;
                    
                    &:hover {
                      background: rgba(255, 255, 255, 0.2) !important;
                      transform: translateY(-1px) !important;
                    }
                  }
                }
              }
            }
          }
          
          // Lesson Organiser page styling (shuffle board)
          .shuffle.shuffleBoard {
            background: transparent !important;
            color: white !important;
            
            .programmeShuffle {
              background: transparent !important;
              list-style: none !important;
              padding: 0 !important;
              margin: 0 !important;
              
              // Week items
              li.programmeShuffle.week {
                background: rgba(255, 255, 255, 0.05) !important;
                background-color: rgba(255, 255, 255, 0.05) !important;
                border: 1px solid rgba(255, 255, 255, 0.1) !important;
                border-radius: 12px !important;
                backdrop-filter: blur(10px) !important;
                padding: 16px !important;
                margin-bottom: 16px !important;
                color: white !important;
                transition: all 0.2s ease !important;
                
                &:hover {
                  background: rgba(255, 255, 255, 0.08) !important;
                  background-color: rgba(255, 255, 255, 0.08) !important;
                  transform: translateY(-1px) !important;
                  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;
                }
                
                // Week meta header (handle)
                .meta.handle {
                  background: rgba(255, 255, 255, 0.08) !important;
                  background-color: rgba(255, 255, 255, 0.08) !important;
                  border: 1px solid rgba(255, 255, 255, 0.1) !important;
                  border-radius: 8px !important;
                  padding: 12px 16px !important;
                  margin-bottom: 12px !important;
                  display: flex !important;
                  align-items: center !important;
                  gap: 12px !important;
                  color: white !important;
                  cursor: move !important;
                  
                  .number,
                  .term,
                  .week {
                    color: white !important;
                    font-family: Rubik, sans-serif !important;
                    font-weight: 600 !important;
                    font-size: 14px !important;
                  }
                }
                
                // Lessons list within week
                ul.lessons {
                  background: transparent !important;
                  list-style: none !important;
                  padding: 0 !important;
                  margin: 0 !important;
                  
                  // Individual lesson items
                  li.programmeShuffle.lesson {
                    background: rgba(255, 255, 255, 0.03) !important;
                    background-color: rgba(255, 255, 255, 0.03) !important;
                    border: 1px solid rgba(255, 255, 255, 0.1) !important;
                    border-radius: 8px !important;
                    padding: 12px 16px !important;
                    margin-bottom: 8px !important;
                    color: white !important;
                    transition: all 0.2s ease !important;
                    cursor: move !important;
                    
                    &:hover {
                      background: rgba(255, 255, 255, 0.06) !important;
                      background-color: rgba(255, 255, 255, 0.06) !important;
                      border-color: rgba(255, 255, 255, 0.2) !important;
                      transform: translateX(4px) !important;
                    }
                    
                    // Lesson meta
                    .meta {
                      background: transparent !important;
                      display: flex !important;
                      align-items: center !important;
                      gap: 12px !important;
                      color: white !important;
                      
                      .sequence {
                        display: flex !important;
                        align-items: center !important;
                        gap: 8px !important;
                        
                        .number,
                        .period,
                        .date {
                          color: white !important;
                          font-family: Rubik, sans-serif !important;
                          font-weight: 500 !important;
                          font-size: 13px !important;
                        }
                      }
                      
                      .topic {
                        color: rgba(255, 255, 255, 0.8) !important;
                        font-family: Rubik, sans-serif !important;
                        font-size: 13px !important;
                        flex: 1 !important;
                      }
                    }
                  }
                }
              }
            }
            
            // Unused lessons section
            > div {
              background: rgba(255, 255, 255, 0.05) !important;
              border: 1px solid rgba(255, 255, 255, 0.1) !important;
              border-radius: 12px !important;
              padding: 16px !important;
              margin-top: 20px !important;
              color: white !important;
              
              button {
                background: rgba(255, 255, 255, 0.1) !important;
                border: 1px solid rgba(255, 255, 255, 0.2) !important;
                border-radius: 6px !important;
                color: white !important;
                padding: 8px 16px !important;
                font-family: Rubik, sans-serif !important;
                transition: all 0.2s ease !important;
                
                &:hover {
                  background: rgba(255, 255, 255, 0.2) !important;
                  transform: translateY(-1px) !important;
                }
                
                svg {
                  fill: currentColor !important;
                }
              }
              
              // Search input
              input[type="text"] {
                background: rgba(255, 255, 255, 0.1) !important;
                border: 1px solid rgba(255, 255, 255, 0.2) !important;
                border-radius: 6px !important;
                color: white !important;
                padding: 8px 12px !important;
                font-family: Rubik, sans-serif !important;
                width: 100% !important;
                margin-top: 12px !important;
                
                &::placeholder {
                  color: rgba(255, 255, 255, 0.5) !important;
                }
                
                &:focus {
                  border-color: var(--theme-primary) !important;
                  box-shadow: 0 0 0 2px rgba(var(--theme-primary-rgb), 0.3) !important;
                  outline: none !important;
                }
              }
              
              // Unused lessons list
              ul {
                background: transparent !important;
                list-style: none !important;
                padding: 0 !important;
                margin-top: 12px !important;
                
                li {
                  background: rgba(255, 255, 255, 0.03) !important;
                  border: 1px solid rgba(255, 255, 255, 0.1) !important;
                  border-radius: 8px !important;
                  padding: 12px 16px !important;
                  margin-bottom: 8px !important;
                  color: white !important;
                  cursor: move !important;
                  transition: all 0.2s ease !important;
                  
                  &:hover {
                    background: rgba(255, 255, 255, 0.06) !important;
                    border-color: rgba(255, 255, 255, 0.2) !important;
                    transform: translateX(4px) !important;
                  }
                }
              }
            }
          }
        }
      }
      
      // Essential Learning and Homework sections (.foot)
      .programmeWrapper {
        .editArea {
          .foot {
            display: grid !important;
            grid-template-columns: 1fr 1fr !important;
            gap: 20px !important;
            margin-top: 24px !important;
            padding-top: 24px !important;
            border-top: 1px solid var(--border-secondary) !important;
            background: transparent !important;
            background-color: transparent !important;
            background-image: none !important;
            
            // Override any inline styles or blue backgrounds - use attribute selector with !important
            &[style] {
              background: transparent !important;
              background-color: transparent !important;
              background-image: none !important;
            }
            
            .essential,
            .homework {
              background: transparent !important;
              background-color: transparent !important;
              border: 1px solid var(--border-secondary) !important;
              border-radius: 12px !important;
              padding: 20px !important;
              display: flex !important;
              flex-direction: column !important;
              gap: 12px !important;
              
              // Override any inline styles
              &[style*="background"],
              &[style*="background-color"] {
                background: transparent !important;
                background-color: transparent !important;
              }
          
          h2 {
            color: var(--text-primary) !important;
            font-family: Rubik, sans-serif !important;
            font-size: 18px !important;
            font-weight: 600 !important;
            margin: 0 !important;
            padding: 0 !important;
            text-transform: uppercase !important;
            letter-spacing: 0.5px !important;
            
            .sequence {
              color: var(--accent-bg) !important;
              font-weight: 700 !important;
            }
          }
          
          textarea {
            background: var(--input-bg) !important;
            border: 1px solid var(--border-primary) !important;
            border-radius: 8px !important;
            color: var(--text-primary) !important;
            font-family: Rubik, sans-serif !important;
            font-size: 14px !important;
            padding: 12px !important;
            min-height: 150px !important;
            resize: vertical !important;
            transition: all 0.2s ease !important;
            width: 100% !important;
            box-sizing: border-box !important;
            
            &:focus {
              border-color: var(--accent-bg) !important;
              outline: none !important;
              box-shadow: 0 0 0 3px var(--accent-ring) !important;
            }
            
            &::placeholder {
              color: var(--text-muted) !important;
            }
          }
        }
        
        // Responsive: stack on smaller screens
        @media (max-width: 768px) {
          grid-template-columns: 1fr !important;
        }
          }
        }
      }
      
      // Online lesson editor - Palette styling (for editArea context)
      .editArea {
        .editorContainer {
          .Body__body___LzxsL {
            .Container__container___Ob9l6 {
              .Palette__palette___mixtX {
                background: rgba(255, 255, 255, 0.05) !important;
                background-color: rgba(255, 255, 255, 0.05) !important;
                border: 1px solid rgba(255, 255, 255, 0.1) !important;
                border-radius: 12px !important;
                backdrop-filter: blur(10px) !important;
                color: white !important;
                
                &.Palette__open___xlWHY {
                  background: rgba(255, 255, 255, 0.08) !important;
                  background-color: rgba(255, 255, 255, 0.08) !important;
                }
                
                .Palette__palette__toggle___xdHCT {
                  background: rgba(255, 255, 255, 0.1) !important;
                  background-color: rgba(255, 255, 255, 0.1) !important;
                  border: 1px solid rgba(255, 255, 255, 0.2) !important;
                  border-radius: 6px !important;
                  color: white !important;
                  transition: all 0.2s ease !important;
                  
                  &:hover {
                    background: rgba(255, 255, 255, 0.2) !important;
                    background-color: rgba(255, 255, 255, 0.2) !important;
                    transform: scale(1.1) !important;
                  }
                  
                  svg {
                    fill: currentColor !important;
                  }
                }
                
                .Palette__palette__menu___plWW7 {
                  background: transparent !important;
                  color: white !important;
                  
                  .SearchBar__SearchBar___xLyRx {
                    button {
                      background: rgba(0, 0, 0, 0.3) !important;
                      background-color: rgba(0, 0, 0, 0.3) !important;
                      border: 1px solid rgba(255, 255, 255, 0.2) !important;
                      border-radius: 6px !important;
                      color: white !important;
                      font-family: Rubik, sans-serif !important;
                      padding: 8px 16px !important;
                      transition: all 0.2s ease !important;
                      
                      &:hover {
                        background: rgba(255, 255, 255, 0.1) !important;
                        background-color: rgba(255, 255, 255, 0.1) !important;
                        transform: translateY(-1px) !important;
                      }
                    }
                  }
                  
                  .Palette__hint___mRmtw {
                    color: rgba(255, 255, 255, 0.7) !important;
                    font-family: Rubik, sans-serif !important;
                    
                    a {
                      color: var(--theme-primary) !important;
                      text-decoration: none !important;
                      
                      &:hover {
                        text-decoration: underline !important;
                      }
                    }
                  }
                  
                  // AdvancedOptions (Themes section)
                  .AdvancedOptions__AdvancedOptions___vePhG {
                    background: transparent !important;
                    color: white !important;
                    
                    .AdvancedOptions__title___r91sB {
                      color: white !important;
                      font-family: Rubik, sans-serif !important;
                      font-weight: 600 !important;
                      font-size: 14px !important;
                      padding: 12px !important;
                      cursor: pointer !important;
                      border-radius: 6px !important;
                      transition: all 0.2s ease !important;
                      
                      &:hover {
                        background: rgba(255, 255, 255, 0.05) !important;
                      }
                      
                      .AdvancedOptions__arrow___o4kON {
                        color: white !important;
                        margin-right: 8px !important;
                      }
                    }
                    
                    .AdvancedOptions__body___DYrdW {
                      background: transparent !important;
                      padding: 8px 0 !important;
                      
                      .ThemeBrowser__ThemeBrowser___q95Ye {
                        background: transparent !important;
                        
                        .ThemeBrowser__toolbar___GMybb {
                          background: rgba(255, 255, 255, 0.05) !important;
                          border: 1px solid rgba(255, 255, 255, 0.1) !important;
                          border-radius: 8px !important;
                          padding: 12px !important;
                          margin-bottom: 12px !important;
                          
                          input[type="text"] {
                            background: rgba(255, 255, 255, 0.1) !important;
                            border: 1px solid rgba(255, 255, 255, 0.2) !important;
                            border-radius: 6px !important;
                            color: white !important;
                            padding: 8px 12px !important;
                            font-family: Rubik, sans-serif !important;
                            
                            &::placeholder {
                              color: rgba(255, 255, 255, 0.5) !important;
                            }
                            
                            &:focus {
                              border-color: var(--theme-primary) !important;
                              box-shadow: 0 0 0 2px rgba(var(--theme-primary-rgb), 0.3) !important;
                              outline: none !important;
                            }
                          }
                          
                          .ThemeBrowser__filters___SkJCG {
                            display: flex !important;
                            gap: 8px !important;
                            
                            button {
                              background: rgba(255, 255, 255, 0.1) !important;
                              border: 1px solid rgba(255, 255, 255, 0.2) !important;
                              border-radius: 6px !important;
                              color: white !important;
                              padding: 6px 12px !important;
                              font-family: Rubik, sans-serif !important;
                              transition: all 0.2s ease !important;
                              
                              &.ThemeBrowser__selected___EF9Qj {
                                background: var(--theme-primary) !important;
                                border-color: var(--theme-primary) !important;
                                color: white !important;
                              }
                              
                              &:hover:not(.ThemeBrowser__selected___EF9Qj) {
                                background: rgba(255, 255, 255, 0.15) !important;
                              }
                              
                              svg {
                                fill: currentColor !important;
                              }
                            }
                          }
                        }
                        
                        .ThemeBrowser__body___CHk7h {
                          background: transparent !important;
                          
                          .ThemeCard__ThemeCard___le8Yv {
                            background: rgba(255, 255, 255, 0.05) !important;
                            border: 1px solid rgba(255, 255, 255, 0.1) !important;
                            border-radius: 8px !important;
                            padding: 12px !important;
                            margin-bottom: 12px !important;
                            transition: all 0.2s ease !important;
                            
                            &:hover {
                              background: rgba(255, 255, 255, 0.08) !important;
                              border-color: rgba(255, 255, 255, 0.2) !important;
                              transform: translateY(-2px) !important;
                            }
                            
                            .ThemeCard__miniPreview___AncqW {
                              background-color: rgba(0, 0, 0, 0.3) !important;
                              color: white !important;
                              border-radius: 6px !important;
                              
                              .ThemeCard__alpha___PGc4h {
                                background: rgba(255, 255, 255, 0.1) !important;
                                color: white !important;
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                  
                  // Palette sections (General, Structure, Media, etc.)
                  > div {
                    color: white !important;
                    
                    h2 {
                      color: white !important;
                      font-family: Rubik, sans-serif !important;
                      font-weight: 600 !important;
                      font-size: 14px !important;
                      text-transform: uppercase !important;
                      letter-spacing: 0.5px !important;
                      margin-bottom: 8px !important;
                    }
                    
                    ul {
                      li {
                        background: rgba(255, 255, 255, 0.05) !important;
                        border: 1px solid rgba(255, 255, 255, 0.1) !important;
                        border-radius: 8px !important;
                        color: white !important;
                        transition: all 0.2s ease !important;
                        
                        &:hover {
                          background: rgba(255, 255, 255, 0.1) !important;
                          transform: translateY(-1px) !important;
                        }
                        
                        div {
                          color: white !important;
                          font-family: Rubik, sans-serif !important;
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    
    // Assessment Manager (Overview of assessments page)
    // Target via main > section > div path for better specificity
    main > section > div [class*="AssessmentManager__AssessmentManager"],
    .AssessmentManager__AssessmentManager___F_zDS {
      background: transparent !important;
      color: var(--text-primary) !important;
      
      // Toolbar
      .Toolbar__Toolbar___ecArT {
        background: var(--theme-offset-bg) !important;
        border-bottom: 1px solid var(--border-secondary) !important;
        padding: 12px 16px !important;
        display: flex !important;
        align-items: center !important;
        gap: 12px !important;
        color: var(--text-primary) !important;
        
        // Apply blur only when transparency effects are enabled
        html.transparencyEffects & {
          backdrop-filter: blur(10px) !important;
        }
        
        button {
          background: var(--button-bg) !important;
          border: 1px solid var(--border-primary) !important;
          border-radius: 6px !important;
          color: var(--text-primary) !important;
          padding: 8px 16px !important;
          font-family: Rubik, sans-serif !important;
          font-weight: 500 !important;
          transition: all 0.2s ease !important;
          
          &:hover:not(:disabled) {
            background: var(--button-hover) !important;
            border-color: var(--accent-bg) !important;
            transform: translateY(-1px) !important;
          }
          
          &:disabled {
            opacity: 0.5 !important;
            cursor: not-allowed !important;
          }
          
          svg {
            fill: currentColor !important;
          }
        }
      }
      
      // SidebarPage layout
      // Target via main > section > div path for better specificity
      main > section > div [class*="SidebarPage__SidebarPage"],
      .SidebarPage__SidebarPage___HEWl3 {
        background: transparent !important;
        color: var(--text-primary) !important;
        
        // Left sidebar
        &.SidebarPage__sidebar-left___QVo3S {
          .SidebarPage__sidebar___fG08i {
            background: var(--background-secondary) !important;
            background-color: var(--background-secondary) !important;
            border-right: 1px solid var(--border-secondary) !important;
            color: var(--text-primary) !important;
            padding: 0 !important;
            
            // Apply blur only when transparency effects are enabled
            html.transparencyEffects & {
              backdrop-filter: blur(10px) !important;
            }
            
            // Ensure all child divs inherit dark backgrounds
            > div {
              background: var(--background-primary) !important;
              background-color: var(--background-primary) !important;
            }
            
            // SelectionList (assessment list)
            .SelectionList__SelectionList___oaomc,
            div.SelectionList__SelectionList___oaomc {
              background: var(--background-primary) !important;
              background-color: var(--background-primary) !important;
              color: var(--text-primary) !important;
              border-radius: 8px !important;
              overflow: hidden !important;
              box-shadow: none !important;
              
              // Header with search
              .SelectionList__header___jwVkB {
                background: var(--background-secondary) !important;
                padding: 16px !important;
                border-bottom: 1px solid var(--border-secondary) !important;
                
                // Search input
                label.Input__Input___KL0p5 {
                  background: var(--button-bg) !important;
                  border: 1px solid var(--border-primary) !important;
                  border-radius: 8px !important;
                  padding: 8px 12px !important;
                  color: var(--text-primary) !important;
                  font-family: Rubik, sans-serif !important;
                  width: 100% !important;
                  margin-bottom: 12px !important;
                  
                  input {
                    background: transparent !important;
                    border: none !important;
                    color: var(--text-primary) !important;
                    font-family: Rubik, sans-serif !important;
                    width: 100% !important;
                    
                    &::placeholder {
                      color: var(--text-muted) !important;
                    }
                    
                    &:focus {
                      outline: none !important;
                    }
                    
                    // Ensure text selection is visible
                    &::selection {
                      background-color: var(--accent-ring) !important;
                      color: var(--text-on-accent) !important;
                    }
                    
                    &::-moz-selection {
                      background-color: var(--accent-ring) !important;
                      color: var(--text-on-accent) !important;
                    }
                  }
                }
                
                // Add button
                button.AssessmentManagerMenu__add___kikNU {
                  background: var(--accent-bg) !important;
                  border: none !important;
                  border-radius: 50% !important;
                  color: var(--text-on-accent) !important;
                  width: 40px !important;
                  height: 40px !important;
                  display: flex !important;
                  align-items: center !important;
                  justify-content: center !important;
                  transition: all 0.2s ease !important;
                  
                  &:hover {
                    background: var(--accent-hover) !important;
                    transform: scale(1.1) !important;
                  }
                  
                  svg {
                    fill: currentColor !important;
                  }
                }
              }
              
              // Assessment list
              .SelectionList__list___QE5YK,
              ol.SelectionList__list___QE5YK {
                background: var(--background-primary) !important;
                background-color: var(--background-primary) !important;
                list-style: none !important;
                padding: 8px 0 !important;
                margin: 0 !important;
                
                // Individual assessment items
                li.SelectionList__SelectionListItem___D5Tzw {
                  background: var(--button-bg) !important;
                  border: 1px solid var(--border-secondary) !important;
                  border-radius: 8px !important;
                  padding: 12px 16px !important;
                  margin: 8px 16px !important;
                  color: var(--text-primary) !important;
                  cursor: pointer !important;
                  transition: all 0.2s ease !important;
                  
                  &:hover {
                    background: var(--button-hover) !important;
                    border-color: var(--border-primary) !important;
                    transform: translateX(4px) !important;
                  }
                  
                  // Selected state
                  &.SelectionList__selected___D5Tzw {
                    background: var(--accent-ring) !important;
                    border-color: var(--accent-bg) !important;
                  }
                  
                  // Assessment title
                  .SelectionList__title___pg0Uj {
                    color: var(--text-primary) !important;
                    font-family: Rubik, sans-serif !important;
                    font-weight: 600 !important;
                    font-size: 14px !important;
                    margin-bottom: 4px !important;
                  }
                  
                  // Assessment details (due date, weight)
                  > div:not(.SelectionList__title___pg0Uj) {
                    color: var(--text-muted) !important;
                    font-family: Rubik, sans-serif !important;
                    font-size: 12px !important;
                    margin-top: 4px !important;
                  }
                  
                  // Delete button
                  button {
                    background: transparent !important;
                    border: none !important;
                    color: var(--text-muted) !important;
                    transition: all 0.2s ease !important;
                    
                    &:hover:not(:disabled) {
                      color: rgba(255, 0, 0, 0.8) !important;
                      transform: scale(1.1) !important;
                    }
                    
                    &:disabled {
                      opacity: 0.3 !important;
                      cursor: not-allowed !important;
                    }
                    
                    svg {
                      fill: currentColor !important;
                    }
                  }
                  
                  // Selection marker (colored indicator)
                  .SelectionList__marker___KylpB {
                    border-top-color: inherit !important;
                    border-left-color: inherit !important;
                    opacity: 0.8 !important;
                  }
                }
              }
              
              // Footer (Marks book settings button)
              .SelectionList__footer___JKarl,
              footer.SelectionList__footer___JKarl {
                background: var(--background-secondary) !important;
                background-color: var(--background-secondary) !important;
                padding: 16px !important;
                border-top: 1px solid var(--border-secondary) !important;
                
                button {
                  background: var(--button-bg) !important;
                  border: 1px solid var(--border-secondary) !important;
                  border-radius: 8px !important;
                  color: var(--text-primary) !important;
                  padding: 12px 16px !important;
                  margin: 0 !important;
                  font-family: Rubik, sans-serif !important;
                  font-weight: 500 !important;
                  transition: all 0.2s ease !important;
                  width: 100% !important;
                  display: flex !important;
                  align-items: center !important;
                  justify-content: center !important;
                  gap: 8px !important;
                  
                  &:hover {
                    background: var(--button-hover) !important;
                    border-color: var(--border-primary) !important;
                    transform: translateY(-1px) !important;
                  }
                  
                  svg {
                    fill: currentColor !important;
                  }
                }
              }
              
              // Marks book settings button (alternative selector)
              button[aria-label*="settings"] {
                background: var(--button-bg) !important;
                border: 1px solid var(--border-secondary) !important;
                border-radius: 8px !important;
                color: var(--text-primary) !important;
                padding: 12px 16px !important;
                margin: 16px !important;
                font-family: Rubik, sans-serif !important;
                font-weight: 500 !important;
                transition: all 0.2s ease !important;
                width: calc(100% - 32px) !important;
                
                &:hover {
                  background: var(--button-hover) !important;
                  border-color: var(--border-primary) !important;
                  transform: translateY(-1px) !important;
                }
                
                svg {
                  fill: currentColor !important;
                }
              }
            }
          }
        }
        
        // Main content area
        .SidebarPage__content___fG08i {
          background: transparent !important;
          color: var(--text-primary) !important;
          
          // Empty state
          > div {
            background: transparent !important;
            color: var(--text-primary) !important;
            display: flex !important;
            flex-direction: column !important;
            align-items: center !important;
            justify-content: center !important;
            padding: 60px 20px !important;
            text-align: center !important;
            
            img {
              opacity: 0.5 !important;
              margin-bottom: 20px !important;
            }
            
            > div {
              color: white !important;
              font-family: Rubik, sans-serif !important;
              
              &:first-of-type {
                font-size: 18px !important;
                font-weight: 600 !important;
                margin-bottom: 8px !important;
              }
              
              &:last-of-type {
                font-size: 14px !important;
                color: rgba(255, 255, 255, 0.7) !important;
              }
            }
          }
        }
        
        // Main content area (right side)
        .SidebarPage__main___h9E40 {
          background: transparent !important;
          color: var(--text-primary) !important;
          padding: 24px !important;
          
          // AssessmentManager container
          .AssessmentManager__container___SNwet {
            background: transparent !important;
            
            // Main content wrapper
            .AssessmentManager__main___jtnog {
              background: transparent !important;
              display: flex !important;
              flex-direction: column !important;
              gap: 24px !important;
            }
          }
        }
        
        // Separator between sidebar and main content
        .SidebarPage__separator___hJYxU {
          background: var(--border-secondary) !important;
          width: 1px !important;
        }
      }
      
      // BasicPanel styling (used throughout AssessmentManager)
      [class*="BasicPanel__BasicPanel"] {
        background: var(--card-bg) !important;
        border: 1px solid var(--card-border) !important;
        border-radius: 12px !important;
        padding: 24px !important;
        color: var(--text-primary) !important;
        box-shadow: var(--shadow-sm) !important;
        transition: all 0.2s ease !important;
        
        // Apply blur only when transparency effects are enabled
        html.transparencyEffects & {
          backdrop-filter: blur(10px) !important;
        }
        
        &:hover {
          box-shadow: var(--shadow-md) !important;
        }
        
        // Headers
        header {
        display: flex !important;
        align-items: center !important;
        justify-content: space-between !important;
        margin-bottom: 20px !important;
        padding-bottom: 12px !important;
        border-bottom: 1px solid var(--border-secondary) !important;
        
        h2 {
          color: var(--text-primary) !important;
          font-family: Rubik, sans-serif !important;
          font-size: 18px !important;
          font-weight: 600 !important;
          margin: 0 !important;
        }
        
        // InlineHelp buttons
        [class*="InlineHelp__InlineHelp"] {
          button {
            background: transparent !important;
            border: none !important;
            color: var(--text-muted) !important;
            padding: 4px !important;
            cursor: pointer !important;
            transition: all 0.2s ease !important;
            
            &:hover {
              color: var(--text-primary) !important;
              transform: scale(1.1) !important;
            }
            
            svg {
              fill: currentColor !important;
              width: 20px !important;
              height: 20px !important;
            }
          }
        }
        
        // InfoPill badges
        [class*="InfoPill__InfoPill"] {
          background: var(--accent-bg) !important;
          color: var(--text-on-accent) !important;
          padding: 4px 8px !important;
          border-radius: 4px !important;
          font-size: 11px !important;
          font-weight: 600 !important;
          text-transform: uppercase !important;
          letter-spacing: 0.5px !important;
        }
        }
      }
      
      // Ordered lists (form fields)
      ol {
        list-style: none !important;
        padding: 0 !important;
        margin: 0 !important;
        
        li {
          margin-bottom: 16px !important;
          
          &:last-child {
            margin-bottom: 0 !important;
          }
          
          // Label styling
          label[class*="Label__Label"] {
            display: flex !important;
            flex-direction: column !important;
            gap: 8px !important;
            color: var(--text-primary) !important;
            font-family: Rubik, sans-serif !important;
            
            .Label__innerText___HVhy6 {
              color: var(--text-secondary) !important;
              font-size: 13px !important;
              font-weight: 500 !important;
              text-transform: uppercase !important;
              letter-spacing: 0.5px !important;
            }
            
            // Input fields
            &[class*="Input__Input"] {
              background: var(--input-bg) !important;
              border: 1px solid var(--border-primary) !important;
              border-radius: 8px !important;
              padding: 10px 12px !important;
              color: var(--text-primary) !important;
              font-family: Rubik, sans-serif !important;
              font-size: 14px !important;
              transition: all 0.2s ease !important;
              
              &:focus-within {
                border-color: var(--accent-bg) !important;
                box-shadow: 0 0 0 3px var(--accent-ring) !important;
                outline: none !important;
              }
              
              input {
                background: transparent !important;
                border: none !important;
                color: var(--text-primary) !important;
                font-family: Rubik, sans-serif !important;
                font-size: 14px !important;
                width: 100% !important;
                
                &::placeholder {
                  color: var(--text-muted) !important;
                }
                
                &:focus {
                  outline: none !important;
                }
              }
            }
            
            // Textarea
            &[class*="Textarea__Textarea"] {
              background: var(--input-bg) !important;
              border: 1px solid var(--border-primary) !important;
              border-radius: 8px !important;
              padding: 10px 12px !important;
              color: var(--text-primary) !important;
              font-family: Rubik, sans-serif !important;
              font-size: 14px !important;
              transition: all 0.2s ease !important;
              width: 100% !important;
              
              &:focus-within {
                border-color: var(--accent-bg) !important;
                box-shadow: 0 0 0 3px var(--accent-ring) !important;
                outline: none !important;
              }
              
              textarea {
                background: transparent !important;
                border: none !important;
                color: var(--text-primary) !important;
                font-family: Rubik, sans-serif !important;
                font-size: 14px !important;
                width: 100% !important;
                resize: vertical !important;
                
                &::placeholder {
                  color: var(--text-muted) !important;
                }
                
                &:focus {
                  outline: none !important;
                }
              }
            }
          }
        }
        
        // Add buttons
        li.add {
          display: flex !important;
          align-items: center !important;
          justify-content: space-between !important;
          padding: 12px !important;
          background: var(--button-bg) !important;
          border: 1px dashed var(--border-primary) !important;
          border-radius: 8px !important;
          color: var(--text-secondary) !important;
          cursor: pointer !important;
          transition: all 0.2s ease !important;
          
          &:hover {
            background: var(--button-hover) !important;
            border-color: var(--accent-bg) !important;
            color: var(--text-primary) !important;
          }
          
          > div {
            font-family: Rubik, sans-serif !important;
            font-size: 14px !important;
            font-weight: 500 !important;
          }
          
          button {
            background: transparent !important;
            border: none !important;
            color: var(--text-secondary) !important;
            padding: 4px !important;
            transition: all 0.2s ease !important;
            
            &:hover {
              color: var(--accent-bg) !important;
              transform: scale(1.1) !important;
            }
            
            svg {
              fill: currentColor !important;
            }
          }
        }
      }
      
      // FancyNumberInput styling
      [class*="FancyNumberInput__FancyNumberInput"] {
      display: flex !important;
      align-items: center !important;
      gap: 8px !important;
      
      label[class*="FancyNumberInput__label"] {
        display: flex !important;
        flex-direction: column !important;
        gap: 8px !important;
        
        .Label__innerText___HVhy6 {
          color: var(--text-secondary) !important;
          font-size: 13px !important;
          font-weight: 500 !important;
          text-transform: uppercase !important;
          letter-spacing: 0.5px !important;
        }
      }
      
      button {
        background: var(--button-bg) !important;
        border: 1px solid var(--border-primary) !important;
        border-radius: 6px !important;
        color: var(--text-secondary) !important;
        width: 32px !important;
        height: 32px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        padding: 0 !important;
        transition: all 0.2s ease !important;
        
        &:hover:not(:disabled) {
          background: var(--button-hover) !important;
          color: var(--text-primary) !important;
          border-color: var(--accent-bg) !important;
          transform: scale(1.05) !important;
        }
        
        &:disabled {
          opacity: 0.5 !important;
          cursor: not-allowed !important;
        }
        
        svg {
          fill: currentColor !important;
          width: 16px !important;
          height: 16px !important;
        }
      }
      
      input {
        background: var(--input-bg) !important;
        border: 1px solid var(--border-primary) !important;
        border-radius: 6px !important;
        padding: 6px 8px !important;
        color: var(--text-primary) !important;
        font-family: Rubik, sans-serif !important;
        font-size: 14px !important;
        text-align: center !important;
        transition: all 0.2s ease !important;
        
        &:focus {
          border-color: var(--accent-bg) !important;
          box-shadow: 0 0 0 3px var(--accent-ring) !important;
          outline: none !important;
        }
      }
      }
      
      // FancyCheckbox styling
      [class*="FancyCheckbox__FancyCheckbox"] {
      display: flex !important;
      align-items: center !important;
      justify-content: space-between !important;
      
      label[class*="FancyCheckbox__label"] {
        display: flex !important;
        flex-direction: column !important;
        gap: 4px !important;
        
        .Label__innerText___HVhy6 {
          color: var(--text-primary) !important;
          font-family: Rubik, sans-serif !important;
          font-size: 14px !important;
          font-weight: 500 !important;
        }
      }
      
      .FancyCheckbox__wrapper___doLbf {
        display: flex !important;
        align-items: center !important;
        gap: 8px !important;
        
        input[type="checkbox"] {
          width: 20px !important;
          height: 20px !important;
          cursor: pointer !important;
          accent-color: var(--accent-bg) !important;
        }
        
        .FancyCheckbox__activeText___eri8w {
          color: var(--text-muted) !important;
          font-family: Rubik, sans-serif !important;
          font-size: 12px !important;
          font-weight: 500 !important;
        }
      }
      
      // Checked state
      &.FancyCheckbox__checked___ykkiZ {
        .FancyCheckbox__wrapper___doLbf {
          .FancyCheckbox__activeText___eri8w {
            color: var(--accent-bg) !important;
          }
        }
      }
      }
      
      // MenuButton (dropdown) styling
      [class*="MenuButton__Menu"] {
      position: relative !important;
      
      button[class*="Button__dropdown"] {
        background: var(--button-bg) !important;
        border: 1px solid var(--border-primary) !important;
        border-radius: 8px !important;
        padding: 10px 12px !important;
        color: var(--text-primary) !important;
        font-family: Rubik, sans-serif !important;
        font-size: 14px !important;
        font-weight: 500 !important;
        display: flex !important;
        align-items: center !important;
        gap: 8px !important;
        transition: all 0.2s ease !important;
        width: 100% !important;
        
        &:hover:not(:disabled) {
          background: var(--button-hover) !important;
          border-color: var(--accent-bg) !important;
        }
        
        &:disabled {
          opacity: 0.5 !important;
          cursor: not-allowed !important;
        }
        
        // Color swatch in Group dropdown
        [class*="BasicDetails__swatch"] {
          width: 16px !important;
          height: 16px !important;
          border-radius: 4px !important;
          border: 1px solid var(--border-primary) !important;
        }
        
        svg {
          fill: currentColor !important;
          width: 16px !important;
          height: 16px !important;
          margin-left: auto !important;
        }
      }
      }
      
      // DatePicker styling
      [class*="DatePicker__DatePicker"] {
      button[class*="DatePicker__button"] {
        background: var(--button-bg) !important;
        border: 1px solid var(--border-primary) !important;
        border-radius: 8px !important;
        padding: 10px 12px !important;
        color: var(--text-primary) !important;
        font-family: Rubik, sans-serif !important;
        font-size: 14px !important;
        font-weight: 500 !important;
        display: flex !important;
        align-items: center !important;
        gap: 8px !important;
        transition: all 0.2s ease !important;
        
        &:hover {
          background: var(--button-hover) !important;
          border-color: var(--accent-bg) !important;
        }
        
        svg {
          fill: currentColor !important;
          width: 16px !important;
          height: 16px !important;
          margin-left: auto !important;
        }
      }
      }
      
      // AvailabilitySlider styling
      [class*="AvailabilitySlider__AvailabilitySlider"] {
      display: flex !important;
      align-items: center !important;
      gap: 8px !important;
      padding: 12px 0 !important;
      
      [class*="AvailabilitySlider__travelled"],
      [class*="AvailabilitySlider__untravelled"] {
        height: 4px !important;
        border-radius: 2px !important;
        transition: all 0.2s ease !important;
      }
      
      [class*="AvailabilitySlider__travelled"] {
        background: var(--accent-bg) !important;
      }
      
      [class*="AvailabilitySlider__untravelled"] {
        background: var(--border-secondary) !important;
      }
      
      label {
        display: flex !important;
        align-items: center !important;
        gap: 8px !important;
        padding: 8px 12px !important;
        border-radius: 6px !important;
        cursor: pointer !important;
        transition: all 0.2s ease !important;
        color: var(--text-secondary) !important;
        font-family: Rubik, sans-serif !important;
        font-size: 13px !important;
        
        input[type="radio"] {
          accent-color: var(--accent-bg) !important;
          cursor: pointer !important;
        }
        
        &[class*="AvailabilitySlider__active"] {
          background: var(--button-bg) !important;
          color: var(--text-primary) !important;
        }
        
        &:hover {
          background: var(--button-hover) !important;
          color: var(--text-primary) !important;
        }
      }
      }
      
      // AssessableCriteria specific styling
      [class*="AssessableCriteria__criterion"] {
      padding: 16px !important;
      background: var(--background-secondary) !important;
      border: 1px solid var(--border-secondary) !important;
      border-radius: 8px !important;
      margin-bottom: 12px !important;
      
      // Criterion number badge
      div.open {
        position: absolute !important;
        background: var(--accent-bg) !important;
        color: var(--text-on-accent) !important;
        width: 24px !important;
        height: 24px !important;
        border-radius: 50% !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        font-family: Rubik, sans-serif !important;
        font-size: 12px !important;
        font-weight: 600 !important;
        margin-right: 12px !important;
      }
      
      // Remove button
      button.remove {
        background: transparent !important;
        border: none !important;
        color: var(--text-muted) !important;
        padding: 4px !important;
        transition: all 0.2s ease !important;
        
        &:hover {
          color: #ef4444 !important;
          transform: scale(1.1) !important;
        }
        
        svg {
          fill: currentColor !important;
        }
      }
      }
      
      // Empty state styling
      [class*="Empty__Empty"] {
      display: flex !important;
      flex-direction: column !important;
      align-items: center !important;
      justify-content: center !important;
      padding: 40px 20px !important;
      text-align: center !important;
      
      svg {
        fill: var(--text-muted) !important;
        width: 48px !important;
        height: 48px !important;
        margin-bottom: 16px !important;
        opacity: 0.5 !important;
      }
      
      [class*="Empty__title"] {
        color: var(--text-primary) !important;
        font-family: Rubik, sans-serif !important;
        font-size: 16px !important;
        font-weight: 600 !important;
        margin-bottom: 8px !important;
      }
      
      [class*="Empty__message"] {
        color: var(--text-muted) !important;
        font-family: Rubik, sans-serif !important;
        font-size: 14px !important;
      }
      }
      
      // CKEditor (rich text editor) styling
      [class*="cke_editor"] {
      border-radius: 8px !important;
      overflow: hidden !important;
      
      [class*="cke_top"] {
        background: var(--background-secondary) !important;
        border-bottom: 1px solid var(--border-secondary) !important;
        padding: 8px !important;
      }
      
      [class*="cke_contents"] {
        background: var(--input-bg) !important;
        border: 1px solid var(--border-primary) !important;
        border-radius: 0 0 8px 8px !important;
        
        iframe {
          background: var(--input-bg) !important;
          color: var(--text-primary) !important;
        }
      }
      
      // Toolbar buttons
      [class*="cke_button"] {
        color: var(--text-secondary) !important;
        
        &:hover {
          color: var(--text-primary) !important;
          background: var(--button-hover) !important;
        }
      }
      }
      
      // Word count footer
      .wordCount {
      color: var(--text-muted) !important;
      font-family: Rubik, sans-serif !important;
      font-size: 12px !important;
      margin-top: 8px !important;
      }
      
      // File handler/upload area
      [class*="uiFileHandler"] {
      background: var(--background-secondary) !important;
      border: 2px dashed var(--border-primary) !important;
      border-radius: 8px !important;
      padding: 24px !important;
      text-align: center !important;
      transition: all 0.2s ease !important;
      
      &.droppable {
        border-color: var(--accent-bg) !important;
        background: var(--accent-ring) !important;
      }
      
      .note {
        color: var(--text-muted) !important;
        font-family: Rubik, sans-serif !important;
        font-size: 14px !important;
        margin-bottom: 12px !important;
      }
      
      button[class*="uiButton"] {
        background: var(--accent-bg) !important;
        border: none !important;
        border-radius: 6px !important;
        color: var(--text-on-accent) !important;
        padding: 8px 16px !important;
        font-family: Rubik, sans-serif !important;
        font-size: 14px !important;
        font-weight: 500 !important;
        transition: all 0.2s ease !important;
        
        &:hover {
          background: var(--accent-hover) !important;
          transform: translateY(-1px) !important;
        }
      }
      }
      
      // AssessmentManager specific blocks
      [class*="AssessmentManager__Block"] {
        // Span two columns
        &.AssessmentManager__spanTwoColumns___ITyGi {
          grid-column: 1 / -1 !important;
        }
      }
      
      // BasicDetails border styling
      [class*="BasicDetails__border"] {
        border-bottom: 1px solid var(--border-secondary) !important;
        padding-bottom: 20px !important;
        margin-bottom: 20px !important;
      }
      
      // ResourceList styling
      [class*="ResourceList__ResourceList"] {
        background: transparent !important;
        
        [class*="ResourceList__ResourceItem"] {
          background: var(--button-bg) !important;
          border: 1px solid var(--border-secondary) !important;
          border-radius: 8px !important;
          padding: 12px 16px !important;
          margin-bottom: 8px !important;
          display: flex !important;
          align-items: center !important;
          justify-content: space-between !important;
          transition: all 0.2s ease !important;
          
          &:hover {
            background: var(--button-hover) !important;
            border-color: var(--border-primary) !important;
          }
          
          [class*="ResourceList__name"] {
            color: var(--text-primary) !important;
            font-family: Rubik, sans-serif !important;
            font-size: 14px !important;
            font-weight: 500 !important;
          }
          
          button.remove {
            background: transparent !important;
            border: none !important;
            color: var(--text-muted) !important;
            padding: 4px !important;
            transition: all 0.2s ease !important;
            
            &:hover {
              color: #ef4444 !important;
              transform: scale(1.1) !important;
            }
            
            svg {
              fill: currentColor !important;
            }
          }
        }
      }
      
      // Reflection component styling
      [class*="Reflection__Reflection"] {
        background: transparent !important;
        
        [class*="Reflection__headerRow"] {
          background: var(--background-secondary) !important;
          padding: 12px 16px !important;
          border-radius: 8px !important;
          margin-bottom: 12px !important;
          border-bottom: 1px solid var(--border-secondary) !important;
          
          label {
            color: var(--text-primary) !important;
            font-family: Rubik, sans-serif !important;
            font-weight: 600 !important;
            font-size: 14px !important;
          }
        }
        
        [class*="Reflection__noBorder"] {
          border-bottom: none !important;
        }
      }
      
      // ChecklistItems styling
      [class*="ChecklistItems__ChecklistItems"] {
        background: transparent !important;
        
        [class*="AssessmentManager__item"] {
          color: var(--text-primary) !important;
          font-family: Rubik, sans-serif !important;
          font-size: 14px !important;
          font-weight: 500 !important;
        }
      }
      
      // SubmissionSettings styling
      [class*="SubmissionSettings__lateSubmissionDaysInputWrapper"] {
        display: flex !important;
        align-items: center !important;
        gap: 8px !important;
      }
      
      // Availability component styling
      [class*="Availability__Availability"] {
        background: transparent !important;
        
        [class*="Availability__metaclass"] {
          display: flex !important;
          flex-direction: column !important;
          gap: 12px !important;
          padding: 16px !important;
          background: var(--background-secondary) !important;
          border-radius: 8px !important;
          margin-bottom: 12px !important;
        }
        
        [class*="Availability__label"] {
          color: var(--text-primary) !important;
          font-family: Rubik, sans-serif !important;
          font-weight: 500 !important;
        }
        
        [class*="Availability__currentClass"] {
          color: var(--accent-bg) !important;
        }
      }
    }
    
    // Timetable - My classes page styling
    .classlist {
      background: transparent !important;
      color: white !important;
      
      table {
        background: transparent !important;
        border-collapse: collapse !important;
        
        thead {
          tr {
            background: transparent !important;
            
            th.tableHeader {
              background: rgba(255, 255, 255, 0.08) !important;
              background-color: rgba(255, 255, 255, 0.08) !important;
              border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
              color: white !important;
              font-family: Rubik, sans-serif !important;
              font-size: 13px !important;
              font-weight: 600 !important;
              text-transform: uppercase !important;
              letter-spacing: 0.5px !important;
              padding: 12px 16px !important;
              text-align: left !important;
              
              &.classlist__colour___ISgK1 {
                background: transparent !important;
                background-color: transparent !important;
                width: 4px !important;
                padding: 0 !important;
                border: none !important;
              }
              
              &.scrollSpacer {
                background: transparent !important;
                background-color: transparent !important;
              }
            }
          }
        }
        
        tbody {
          tr {
            background: transparent !important;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05) !important;
            transition: background-color 0.2s ease !important;
            
            &:hover {
              background: rgba(255, 255, 255, 0.03) !important;
            }
            
            td {
              background: transparent !important;
              color: white !important;
              font-family: Rubik, sans-serif !important;
              padding: 12px 16px !important;
              border: none !important;
              
              // Section headers (like "Timetabled classes", "Other classes")
              &[colspan] {
                background: rgba(255, 255, 255, 0.05) !important;
                font-weight: 600 !important;
                font-size: 14px !important;
                color: white !important;
                padding: 16px !important;
              }
              
              // Action links and buttons
              a,
              button {
                background: rgba(255, 255, 255, 0.1) !important;
                border: 1px solid rgba(255, 255, 255, 0.2) !important;
                border-radius: 6px !important;
                color: white !important;
                padding: 8px 12px !important;
                font-family: Rubik, sans-serif !important;
                font-size: 13px !important;
                transition: all 0.2s ease !important;
                text-decoration: none !important;
                display: inline-flex !important;
                align-items: center !important;
                gap: 6px !important;
                
                &:hover:not(:disabled) {
                  background: rgba(255, 255, 255, 0.2) !important;
                  border-color: rgba(255, 255, 255, 0.3) !important;
                  transform: translateY(-1px) !important;
                }
                
                &:disabled {
                  opacity: 0.5 !important;
                  cursor: not-allowed !important;
                }
                
                svg {
                  fill: currentColor !important;
                  width: 16px !important;
                  height: 16px !important;
                }
              }
              
              // "New untimetabled class" button
              button:has(img + text) {
                background: var(--theme-primary) !important;
                border-color: var(--theme-primary) !important;
                
                &:hover {
                  background: color-mix(in srgb, var(--theme-primary) 90%, white 10%) !important;
                }
              }
            }
          }
        }
      }
    }
  }

  // Attendance page styling
  .attendance.container {
    background: transparent !important;
    color: white !important;
    
    .contentWrapper {
      background: transparent !important;
      
      .content {
        background: rgba(255, 255, 255, 0.05) !important;
        border: 1px solid rgba(255, 255, 255, 0.1) !important;
        border-radius: 12px !important;
        color: white !important;
        backdrop-filter: blur(10px) !important;
        padding: 20px !important;
        margin: 20px !important;
        
        .note.attendance {
          background: transparent !important;
          color: rgba(255, 255, 255, 0.8) !important;
          font-family: Rubik, sans-serif !important;
          font-size: 16px !important;
          text-align: center !important;
          padding: 40px 20px !important;
          border: 2px dashed rgba(255, 255, 255, 0.3) !important;
          border-radius: 8px !important;
          margin: 0 !important;
          
          &::before {
            content: "📋" !important;
            display: block !important;
            font-size: 48px !important;
            margin-bottom: 16px !important;
            opacity: 0.6 !important;
          }
        }
        
        // Attendance table styling
        table.attendance.students {
          background: rgba(255, 255, 255, 0.03) !important;
          border: 1px solid rgba(255, 255, 255, 0.1) !important;
          border-radius: 12px !important;
          color: white !important;
          overflow: visible !important;
          border-collapse: separate !important;
          border-spacing: 0 !important;
          width: 100% !important;
          
          // Header styling
          thead {
            tr {
              background: rgba(255, 255, 255, 0.05) !important;
              
              td, th {
                background: rgba(255, 255, 255, 0.05) !important;
                color: white !important;
                border: 1px solid rgba(255, 255, 255, 0.1) !important;
                padding: 12px 8px !important;
                font-weight: 600 !important;
                font-family: Rubik, sans-serif !important;
                
                // Meta column (class info) - Make sticky
                &.meta {
                  background: var(--theme-primary) !important;
                  position: sticky !important;
                  left: 0 !important;
                  z-index: 20 !important;
                  box-shadow: 2px 0 4px rgba(0, 0, 0, 0.2) !important;
                  
                  .wrap {
                    h2 {
                      color: white !important;
                      font-size: 18px !important;
                      margin: 0 0 8px !important;
                      font-weight: 700 !important;
                    }
                    
                    .details {
                      .count {
                        color: rgba(255, 255, 255, 0.9) !important;
                        font-size: 14px !important;
                        margin-bottom: 12px !important;
                      }
                    }
                    
                    .actions {
                      display: flex !important;
                      gap: 8px !important;
                      
                      .uiButton {
                        background: rgba(255, 255, 255, 0.2) !important;
                        border: 1px solid rgba(255, 255, 255, 0.3) !important;
                        color: white !important;
                        font-size: 12px !important;
                        padding: 6px 12px !important;
                        border-radius: 6px !important;
                        transition: all 0.2s ease !important;
                        
                        &:hover {
                          background: rgba(255, 255, 255, 0.3) !important;
                          transform: translateY(-1px) !important;
                        }
                      }
                    }
                  }
                }
                
                // Date columns
                &.fillDown {
                  background: rgba(255, 255, 255, 0.08) !important;
                  text-align: center !important;
                  min-width: 80px !important;
                  
                  .day {
                    font-weight: 700 !important;
                    font-size: 12px !important;
                    color: var(--theme-primary) !important;
                    margin-bottom: 4px !important;
                    height: auto !important;
                    min-height: auto !important;
                    display: block !important;
                    flex-direction: unset !important;
                    box-shadow: none !important;
                    background: transparent !important;
                    padding: 0 !important;
                  }
                  
                  .period {
                    font-size: 10px !important;
                    color: rgba(255, 255, 255, 0.7) !important;
                    margin-bottom: 4px !important;
                  }
                  
                  .date {
                    font-size: 11px !important;
                    color: white !important;
                    font-weight: 600 !important;
                    margin-bottom: 4px !important;
                  }
                  
                  .count {
                    background: rgba(255, 255, 255, 0.1) !important;
                    border-radius: 12px !important;
                    padding: 2px 8px !important;
                    font-size: 11px !important;
                    color: white !important;
                    display: inline-block !important;
                    min-width: 20px !important;
                  }
                }
                
                // Attendance header
                &.attendance.header {
                  background: rgba(255, 255, 255, 0.08) !important;
                  text-align: center !important;
                  
                  svg {
                    fill: var(--theme-primary) !important;
                    margin-bottom: 4px !important;
                  }
                  
                  .percent {
                    font-size: 11px !important;
                    color: white !important;
                    font-weight: 600 !important;
                  }
                }
                
                // Trait columns
                &.trait.summary {
                  background: rgba(255, 255, 255, 0.06) !important;
                  text-align: center !important;
                  
                  .title {
                    font-size: 11px !important;
                    color: white !important;
                    font-weight: 600 !important;
                    margin-bottom: 4px !important;
                  }
                  
                  .symbol {
                    font-size: 14px !important;
                    color: var(--theme-primary) !important;
                    font-weight: 700 !important;
                  }
                }
              }
            }
          }
          
          // Body styling
          tbody {
            tr {
              background: rgba(255, 255, 255, 0.02) !important;
              transition: background 0.2s ease !important;
              
              &:hover {
                background: rgba(255, 255, 255, 0.05) !important;
              }
              
              &:nth-child(even) {
                background: rgba(255, 255, 255, 0.01) !important;
                
                &:hover {
                  background: rgba(255, 255, 255, 0.05) !important;
                }
              }
              
              td {
                color: white !important;
                border: 1px solid rgba(255, 255, 255, 0.05) !important;
                padding: 8px !important;
                vertical-align: middle !important;
                
                // Student meta column - Make sticky
                &.meta {
                  background: rgba(255, 255, 255, 0.03) !important;
                  position: sticky !important;
                  left: 0 !important;
                  z-index: 10 !important;
                  box-shadow: 2px 0 4px rgba(0, 0, 0, 0.2) !important;
                  
                  .name {
                    display: flex !important;
                    align-items: center !important;
                    gap: 8px !important;
                    
                    .stdTest {
                      fill: #4CAF50 !important;
                      width: 16px !important;
                      height: 16px !important;
                    }
                    
                    .avatarWrapper {
                      .Avatar__Avatar___j4ZSp {
                        width: 32px !important;
                        height: 32px !important;
                        border-radius: 50% !important;
                        background: var(--theme-primary) !important;
                        
                        svg text {
                          fill: white !important;
                          font-size: 14px !important;
                          font-weight: 700 !important;
                        }
                      }
                    }
                    
                    .surname {
                      color: white !important;
                      font-weight: 600 !important;
                      font-size: 14px !important;
                    }
                    
                    .comma {
                      color: rgba(255, 255, 255, 0.7) !important;
                    }
                    
                    .firstname {
                      color: rgba(255, 255, 255, 0.9) !important;
                      font-size: 14px !important;
                    }
                    
                    .prefname {
                      color: rgba(255, 255, 255, 0.7) !important;
                      font-size: 12px !important;
                      font-style: italic !important;
                    }
                  }
                  
                  .lights {
                    display: flex !important;
                    gap: 4px !important;
                    margin-top: 4px !important;
                    
                    .light {
                      width: 16px !important;
                      height: 16px !important;
                      opacity: 0.8 !important;
                    }
                  }
                }
                
                // Demographics column
                &.demographics {
                  background: rgba(255, 255, 255, 0.02) !important;
                  text-align: center !important;
                  font-size: 12px !important;
                  color: rgba(255, 255, 255, 0.8) !important;
                }
                
                // Code column
                &.code {
                  background: rgba(255, 255, 255, 0.02) !important;
                  text-align: center !important;
                  font-size: 12px !important;
                  color: rgba(255, 255, 255, 0.8) !important;
                  font-family: monospace !important;
                }
                
                // Attendance columns
                &.attendance {
                  background: rgba(255, 255, 255, 0.01) !important;
                  text-align: center !important;
                  cursor: pointer !important;
                  transition: all 0.2s ease !important;
                  
                  &:hover {
                    background: rgba(255, 255, 255, 0.08) !important;
                    transform: scale(1.05) !important;
                  }
                  
                  svg {
                    width: 20px !important;
                    height: 20px !important;
                    
                    &:not(.printOnly) {
                      fill: rgba(255, 255, 255, 0.3) !important;
                    }
                    
                    // Checked attendance
                    path[fill="#25b3fd"] {
                      fill: #4CAF50 !important;
                    }
                  }
                  
                  // Fixed attendance summary
                  &.fixed {
                    background: rgba(255, 255, 255, 0.05) !important;
                    font-weight: 600 !important;
                    color: var(--theme-primary) !important;
                    font-size: 14px !important;
                  }
                }
                
                // Trait columns
                &.trait {
                  background: rgba(255, 255, 255, 0.01) !important;
                  text-align: center !important;
                  font-size: 12px !important;
                  color: rgba(255, 255, 255, 0.8) !important;
                  
                  &.fixed {
                    background: rgba(255, 255, 255, 0.05) !important;
                    font-weight: 600 !important;
                    color: var(--theme-primary) !important;
                  }
                }
              }
            }
          }
        }
        
        // General attendance components (fallback)
        .attendance-table,
        .attendance-list,
        .attendance-item {
          background: rgba(255, 255, 255, 0.03) !important;
          border: 1px solid rgba(255, 255, 255, 0.1) !important;
          border-radius: 8px !important;
          color: white !important;
          
          th, td {
            color: white !important;
            border-color: rgba(255, 255, 255, 0.1) !important;
          }
          
          th {
            background: rgba(255, 255, 255, 0.05) !important;
            font-weight: 600 !important;
          }
        }
        
        // Buttons and controls
        .uiButton,
        button {
          background: rgba(255, 255, 255, 0.1) !important;
          border: 1px solid rgba(255, 255, 255, 0.2) !important;
          color: white !important;
          border-radius: 6px !important;
          padding: 8px 16px !important;
          transition: all 0.2s ease !important;
          
          &:hover {
            background: rgba(255, 255, 255, 0.15) !important;
            border-color: var(--theme-primary) !important;
            transform: translateY(-1px) !important;
          }
          
          &:disabled {
            opacity: 0.5 !important;
            cursor: not-allowed !important;
            transform: none !important;
          }
        }
        
        // Form inputs
        input, select, textarea {
          background: rgba(255, 255, 255, 0.05) !important;
          border: 1px solid rgba(255, 255, 255, 0.2) !important;
          color: white !important;
          border-radius: 6px !important;
          padding: 8px 12px !important;
          
          &:focus {
            border-color: var(--theme-primary) !important;
            outline: none !important;
            box-shadow: 0 0 0 2px rgba(var(--theme-primary-rgb), 0.3) !important;
          }
          
          &::placeholder {
            color: rgba(255, 255, 255, 0.5) !important;
          }
        }
      }
    }
  }

  // Forums page styling
  .listContainer {
    background: transparent !important;
    color: white !important;
    
    .forum.forumList {
      background: transparent !important;
      
      .forums {
        background: transparent !important;
        
        .item {
          background: rgba(255, 255, 255, 0.05) !important;
          border: 1px solid rgba(255, 255, 255, 0.1) !important;
          border-radius: 8px !important;
          margin-bottom: 8px !important;
          padding: 16px !important;
          backdrop-filter: blur(5px) !important;
          transition: all 0.2s ease !important;
          
          &:hover {
            background: rgba(255, 255, 255, 0.08) !important;
            border-color: rgba(255, 255, 255, 0.2) !important;
            transform: translateY(-1px) !important;
          }
          
          &.selected {
            background: rgba(var(--theme-primary-rgb), 0.2) !important;
            border-color: var(--theme-primary) !important;
          }
          
          &.closed {
            opacity: 0.7 !important;
            
            .name {
              text-decoration: line-through !important;
              color: rgba(255, 255, 255, 0.6) !important;
            }
          }
          
          .name {
            color: white !important;
            font-family: Rubik, sans-serif !important;
            font-size: 16px !important;
            font-weight: 600 !important;
            margin-bottom: 8px !important;
          }
          
          .meta {
            display: flex !important;
            gap: 16px !important;
            margin-bottom: 8px !important;
            
            .stat {
              color: rgba(255, 255, 255, 0.7) !important;
              font-size: 14px !important;
              font-family: Rubik, sans-serif !important;
            }
          }
          
          .actions {
            display: flex !important;
            gap: 8px !important;
            
            .uiButton {
              background: rgba(255, 255, 255, 0.1) !important;
              border: 1px solid rgba(255, 255, 255, 0.2) !important;
              border-radius: 6px !important;
              color: white !important;
              padding: 8px !important;
              transition: all 0.2s ease !important;
              
              &:hover {
                background: rgba(255, 255, 255, 0.15) !important;
                border-color: rgba(255, 255, 255, 0.3) !important;
                transform: scale(1.05) !important;
              }
              
              &:active {
                transform: scale(0.95) !important;
              }
              
              svg {
                fill: white !important;
                width: 16px !important;
                height: 16px !important;
              }
              
              &.edit svg {
                fill: #60a5fa !important;
              }
              
              &.close svg {
                fill: #f87171 !important;
              }
              
              &.reopen svg {
                fill: #34d399 !important;
              }
            }
          }
        }
        
        .divider {
          margin: 24px 0 16px !important;
          
          .name {
            color: white !important;
            font-family: Rubik, sans-serif !important;
            font-size: 18px !important;
            font-weight: 700 !important;
            text-transform: uppercase !important;
            letter-spacing: 0.5px !important;
            padding: 12px 16px !important;
            background: rgba(255, 255, 255, 0.08) !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
            border-radius: 8px !important;
            backdrop-filter: blur(5px) !important;
          }
        }
        
        .closedToggle {
          background: rgba(255, 255, 255, 0.05) !important;
          border: 1px solid rgba(255, 255, 255, 0.1) !important;
          border-radius: 8px !important;
          color: white !important;
          font-family: Rubik, sans-serif !important;
          font-size: 14px !important;
          font-weight: 500 !important;
          padding: 12px 20px !important;
          margin-top: 16px !important;
          width: 100% !important;
          transition: all 0.2s ease !important;
          backdrop-filter: blur(5px) !important;
          
          &:hover {
            background: rgba(255, 255, 255, 0.08) !important;
            border-color: rgba(255, 255, 255, 0.2) !important;
            transform: translateY(-1px) !important;
          }
          
          &:active {
            transform: translateY(0) !important;
          }
        }
      }
    }
  }

  // Help page styling
  .Help__Help___rKTIu {
    background: transparent !important;
    color: white !important;
    
    .Help__helpInfoWrapper___p6oXa {
      background: transparent !important;
      
      .Help__HelpInfo___fmFwz {
        background: rgba(255, 255, 255, 0.05) !important;
        border: 1px solid rgba(255, 255, 255, 0.1) !important;
        border-radius: 12px !important;
        padding: 20px !important;
        backdrop-filter: blur(10px) !important;
        margin-bottom: 24px !important;
        
        button {
          background: rgba(255, 255, 255, 0.1) !important;
          border: 1px solid rgba(255, 255, 255, 0.2) !important;
          border-radius: 8px !important;
          color: white !important;
          font-family: Rubik, sans-serif !important;
          font-size: 14px !important;
          font-weight: 500 !important;
          padding: 12px 20px !important;
          margin-right: 12px !important;
          margin-bottom: 12px !important;
          transition: all 0.2s ease !important;
          cursor: pointer !important;
          
          &:hover {
            background: var(--theme-primary) !important;
            border-color: var(--theme-primary) !important;
            color: white !important;
            transform: translateY(-1px) !important;
          }
          
          &:active {
            transform: translateY(0) !important;
          }
        }
        
        .Help__details___l1eHz {
          margin-top: 20px !important;
          
          .Help__title___TpNqI {
            color: white !important;
            font-family: Rubik, sans-serif !important;
            font-size: 20px !important;
            font-weight: 700 !important;
            margin-bottom: 16px !important;
            text-transform: uppercase !important;
            letter-spacing: 0.5px !important;
          }
          
          .Help__field___Fyd52 {
            margin-bottom: 16px !important;
            
            .Help__content___ZEn4e {
              color: rgba(255, 255, 255, 0.9) !important;
              font-family: Rubik, sans-serif !important;
              font-size: 16px !important;
              font-weight: 500 !important;
              background: rgba(255, 255, 255, 0.05) !important;
              border: 1px solid rgba(255, 255, 255, 0.1) !important;
              border-radius: 8px !important;
              padding: 12px 16px !important;
            }
          }
          
          .Help__hours___et2Md {
            .Help__term___mbIny {
              color: rgba(255, 255, 255, 0.8) !important;
              font-family: Rubik, sans-serif !important;
              font-size: 14px !important;
              font-weight: 400 !important;
              line-height: 1.5 !important;
              margin-bottom: 8px !important;
              padding: 8px 12px !important;
              background: rgba(255, 255, 255, 0.03) !important;
              border-left: 3px solid var(--theme-primary) !important;
              border-radius: 0 6px 6px 0 !important;
            }
          }
        }
      }
    }
    
    .Help__release___nZoTv {
      background: transparent !important;
      
      .Help__title___TpNqI {
        color: white !important;
        font-family: Rubik, sans-serif !important;
        font-size: 24px !important;
        font-weight: 700 !important;
        margin-bottom: 24px !important;
        text-transform: uppercase !important;
        letter-spacing: 0.5px !important;
      }
      
      .releaseHistory__ReleaseHistory___xIgUo {
        background: transparent !important;
        
        .releaseHistory__alertList___jDwJv {
          background: transparent !important;
          
          .releaseHistory__alerts___DMsrh {
            margin-bottom: 32px !important;
            
            .releaseHistory__date___hVvLh {
              color: white !important;
              font-family: Rubik, sans-serif !important;
              font-size: 18px !important;
              font-weight: 700 !important;
              margin-bottom: 16px !important;
              padding: 12px 0 !important;
              border-bottom: 2px solid var(--theme-primary) !important;
              text-transform: uppercase !important;
              letter-spacing: 0.5px !important;
            }
            
            .releaseHistory__alertContainer___m5YWg {
              background: rgba(255, 255, 255, 0.05) !important;
              border: 1px solid rgba(255, 255, 255, 0.1) !important;
              border-radius: 12px !important;
              padding: 20px !important;
              margin-bottom: 16px !important;
              display: flex !important;
              gap: 16px !important;
              backdrop-filter: blur(10px) !important;
              transition: all 0.2s ease !important;
              
              &:hover {
                background: rgba(255, 255, 255, 0.08) !important;
                border-color: rgba(255, 255, 255, 0.2) !important;
                transform: translateY(-2px) !important;
                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3) !important;
              }
              
              .releaseHistory__imageWrapper___cGI3E {
                flex-shrink: 0 !important;
                
                .releaseHistory__image___RirCX {
                  width: 80px !important;
                  height: 80px !important;
                  border-radius: 8px !important;
                  border: 1px solid rgba(255, 255, 255, 0.1) !important;
                  background-size: cover !important;
                  background-position: center !important;
                  transition: all 0.2s ease !important;
                  
                  &:hover {
                    transform: scale(1.05) !important;
                    border-color: var(--theme-primary) !important;
                  }
                }
              }
              
              .releaseHistory__content___tqAch {
                flex: 1 !important;
                
                .releaseHistory__title___bG7HA {
                  color: white !important;
                  font-family: Rubik, sans-serif !important;
                  font-size: 18px !important;
                  font-weight: 600 !important;
                  margin-bottom: 12px !important;
                  text-decoration: none !important;
                  display: block !important;
                  transition: color 0.2s ease !important;
                  
                  &:hover {
                    color: var(--theme-primary) !important;
                  }
                }
                
                .releaseHistory__description___L5X5M {
                  color: rgba(255, 255, 255, 0.8) !important;
                  font-family: Rubik, sans-serif !important;
                  font-size: 14px !important;
                  font-weight: 400 !important;
                  line-height: 1.5 !important;
                  margin-bottom: 12px !important;
                }
                
                .releaseHistory__descriptionlink___M7oPm {
                  color: var(--theme-primary) !important;
                  font-family: Rubik, sans-serif !important;
                  font-size: 12px !important;
                  font-weight: 600 !important;
                  text-decoration: none !important;
                  text-transform: uppercase !important;
                  letter-spacing: 0.5px !important;
                  padding: 6px 12px !important;
                  background: rgba(var(--theme-primary-rgb), 0.1) !important;
                  border: 1px solid rgba(var(--theme-primary-rgb), 0.3) !important;
                  border-radius: 6px !important;
                  display: inline-block !important;
                  transition: all 0.2s ease !important;
                  
                  &:hover {
                    background: var(--theme-primary) !important;
                    color: white !important;
                    transform: translateY(-1px) !important;
                  }
                }
              }
            }
          }
        }
      }
    }
  }

  // Filter boxes and class lists styling
  .filterBox {
    background: rgba(255, 255, 255, 0.05) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    border-radius: 12px !important;
    padding: 16px !important;
    backdrop-filter: blur(10px) !important;
    margin-bottom: 16px !important;
    
    &.studentFilters {
      .filters {
        background: transparent !important;
        
        .filterItem {
          &.student {
            background: transparent !important;
            display: flex !important;
            align-items: center !important;
            gap: 12px !important;
            
            .uiButton {
              background: rgba(255, 255, 255, 0.1) !important;
              border: 1px solid rgba(255, 255, 255, 0.2) !important;
              border-radius: 8px !important;
              color: white !important;
              padding: 8px !important;
              transition: all 0.2s ease !important;
              
              &:hover {
                background: var(--theme-primary) !important;
                border-color: var(--theme-primary) !important;
                transform: scale(1.05) !important;
              }
              
              svg {
                fill: currentColor !important;
              }
            }
            
            .container {
              flex: 1 !important;
              position: relative !important;
              
              .singleSelect {
                background: rgba(255, 255, 255, 0.1) !important;
                border: 1px solid rgba(255, 255, 255, 0.2) !important;
                border-radius: 8px !important;
                color: white !important;
                font-family: Rubik, sans-serif !important;
                padding: 12px 16px !important;
                width: 100% !important;
                
                &:focus {
                  border-color: var(--theme-primary) !important;
                  outline: none !important;
                  box-shadow: 0 0 0 2px rgba(var(--theme-primary-rgb), 0.3) !important;
                }
                
                &::placeholder {
                  color: rgba(255, 255, 255, 0.5) !important;
                }
                
                &.overlay {
                  background: rgba(255, 255, 255, 0.08) !important;
                  color: rgba(255, 255, 255, 0.8) !important;
                  font-size: 12px !important;
                  padding: 8px 12px !important;
                  position: absolute !important;
                  top: 100% !important;
                  left: 0 !important;
                  right: 0 !important;
                  border-radius: 0 0 8px 8px !important;
                  border-top: none !important;
                }
              }
            }
            
            .alerts {
              display: flex !important;
              gap: 8px !important;
              
              svg {
                width: 20px !important;
                height: 20px !important;
                opacity: 0.8 !important;
              }
            }
          }
        }
      }
      
      .options {
        background: transparent !important;
        display: flex !important;
        gap: 16px !important;
        margin-top: 16px !important;
        
        .filterItem {
          display: flex !important;
          align-items: center !important;
          gap: 8px !important;
          
          .uiCheckbox {
            width: 16px !important;
            height: 16px !important;
            accent-color: var(--theme-primary) !important;
          }
          
          label {
            color: white !important;
            font-family: Rubik, sans-serif !important;
            font-size: 14px !important;
            font-weight: 500 !important;
            cursor: pointer !important;
          }
        }
      }
      
      .spacer {
        height: 16px !important;
      }
    }
  }

  // Class list table styling
  [class*="classlist__blankRow"],
  [class*="classlist__interHeader"],
  [class*="classlist__classRow"] {
    background: rgba(255, 255, 255, 0.03) !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
    
    &:hover {
      background: rgba(255, 255, 255, 0.05) !important;
    }
    
    td {
      color: white !important;
      font-family: Rubik, sans-serif !important;
      padding: 12px 16px !important;
      border: none !important;
      
      &[class*="classlist__header"] {
        background: rgba(255, 255, 255, 0.08) !important;
        color: white !important;
        font-weight: 600 !important;
        text-transform: uppercase !important;
        letter-spacing: 0.5px !important;
      }
      
      &[class*="classlist__colour"] {
        width: 8px !important;
        padding: 0 !important;
        border-radius: 4px 0 0 4px !important;
      }
      
      &[class*="classlist__classname"] {
        font-weight: 600 !important;
        color: var(--theme-primary) !important;
      }
      
      &[class*="classlist__subject"] {
        color: rgba(255, 255, 255, 0.9) !important;
      }
      
      &[class*="classlist__students"] {
        color: rgba(255, 255, 255, 0.8) !important;
        font-size: 14px !important;
      }
      
      &[class*="classlist__programme"] {
        color: rgba(255, 255, 255, 0.8) !important;
        font-size: 14px !important;
        
        &.none {
          color: rgba(255, 255, 255, 0.5) !important;
          font-style: italic !important;
        }
      }
      
      &[class*="classlist__actions"] {
        .uiButton,
        a,
        button {
          background: rgba(255, 255, 255, 0.1) !important;
          border: 1px solid rgba(255, 255, 255, 0.2) !important;
          border-radius: 6px !important;
          color: white !important;
          padding: 8px !important;
          margin: 0 4px !important;
          transition: all 0.2s ease !important;
          text-decoration: none !important;
          display: inline-block !important;
          
          &:hover:not([disabled]) {
            background: var(--theme-primary) !important;
            border-color: var(--theme-primary) !important;
            transform: scale(1.05) !important;
          }
          
          &[disabled] {
            opacity: 0.5 !important;
            cursor: not-allowed !important;
          }
          
          svg {
            fill: currentColor !important;
            width: 16px !important;
            height: 16px !important;
          }
          
          &.attendance svg {
            fill: #60a5fa !important;
          }
          
          &.marksbook svg {
            fill: #34d399 !important;
          }
          
          &.programme svg {
            fill: #f59e0b !important;
          }
        }
      }
    }
  }

  // Programme list styling
  .programmeList {
    background: transparent !important;
    border: none !important;
    border-collapse: separate !important;
    border-spacing: 0 !important;
    width: 100% !important;
    
    thead {
      tr {
        background: rgba(255, 255, 255, 0.08) !important;
        
        th {
          background: transparent !important;
          color: white !important;
          font-family: Rubik, sans-serif !important;
          font-weight: 600 !important;
          text-transform: uppercase !important;
          letter-spacing: 0.5px !important;
          padding: 16px !important;
          border: none !important;
          border-bottom: 2px solid var(--theme-primary) !important;
          
          &.tableHeader {
            &.selection {
              width: 50px !important;
              text-align: center !important;
              
              .uiCheckbox {
                width: 16px !important;
                height: 16px !important;
                accent-color: var(--theme-primary) !important;
              }
            }
          }
        }
      }
    }
    
    tbody {
      tr {
        background: rgba(255, 255, 255, 0.03) !important;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
        
        &:hover {
          background: rgba(255, 255, 255, 0.05) !important;
        }
        
        td {
          color: white !important;
          font-family: Rubik, sans-serif !important;
          padding: 12px 16px !important;
          border: none !important;
          
          &.selection {
            background: transparent !important;
            width: 50px !important;
            text-align: center !important;
            
            .uiCheckbox {
              width: 16px !important;
              height: 16px !important;
              accent-color: var(--theme-primary) !important;
            }
          }
          
          // Iframe wrapper for course outlines
          .iframeWrapper.outline {
            background: rgba(255, 255, 255, 0.05) !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
            border-radius: 8px !important;
            padding: 12px !important;
            min-height: 150px !important;
            
            iframe.userHTML {
              background: transparent !important;
              border: none !important;
            }
          }
        }
      }
    }
    
    tfoot {
      tr {
        background: rgba(255, 255, 255, 0.05) !important;
        
        td {
          color: rgba(255, 255, 255, 0.7) !important;
          font-family: Rubik, sans-serif !important;
          font-style: italic !important;
          padding: 16px !important;
          text-align: center !important;
          border: none !important;
          
          .total {
            color: rgba(255, 255, 255, 0.6) !important;
          }
        }
      }
    }
  }

  // Programme list filters styling
  .programmeListFilters {
    &.filterBox {
      display: flex !important;
      gap: 16px !important;
      flex-wrap: wrap !important;
      align-items: center !important;
      
      .filterItem {
        display: flex !important;
        flex-direction: column !important;
        gap: 8px !important;
        
        label {
          color: rgba(255, 255, 255, 0.8) !important;
          font-family: Rubik, sans-serif !important;
          font-size: 12px !important;
          font-weight: 600 !important;
          text-transform: uppercase !important;
          letter-spacing: 0.5px !important;
        }
        
        .uiButton {
          background: rgba(255, 255, 255, 0.1) !important;
          border: 1px solid rgba(255, 255, 255, 0.2) !important;
          border-radius: 8px !important;
          color: white !important;
          font-family: Rubik, sans-serif !important;
          padding: 12px 16px !important;
          transition: all 0.2s ease !important;
          cursor: pointer !important;
          display: flex !important;
          align-items: center !important;
          gap: 8px !important;
          
          &:hover {
            background: rgba(255, 255, 255, 0.15) !important;
            border-color: var(--theme-primary) !important;
            transform: translateY(-1px) !important;
          }
          
          &.buttonChecklist span {
            color: white !important;
          }
          
          &.select.person {
            color: var(--theme-primary) !important;
            
            svg {
              fill: currentColor !important;
              width: 16px !important;
              height: 16px !important;
            }
          }
        }
        
        .uiShortText {
          background: rgba(255, 255, 255, 0.1) !important;
          border: 1px solid rgba(255, 255, 255, 0.2) !important;
          border-radius: 8px !important;
          color: white !important;
          font-family: Rubik, sans-serif !important;
          padding: 12px 16px !important;
          min-width: 200px !important;
          
          &:focus {
            border-color: var(--theme-primary) !important;
            outline: none !important;
            box-shadow: 0 0 0 2px rgba(var(--theme-primary-rgb), 0.3) !important;
          }
          
          &::placeholder {
            color: rgba(255, 255, 255, 0.5) !important;
          }
        }
      }
    }
  }

  // Marks book styling
  .marksbook.container {
    background: transparent !important;
    color: white !important;
    
    .marksbook.students {
      background: transparent !important;
      border: none !important;
      border-collapse: separate !important;
      border-spacing: 0 !important;
      
      thead {
        tr {
          background: transparent !important;
          
          td {
            background: rgba(255, 255, 255, 0.05) !important;
            color: white !important;
            font-family: Rubik, sans-serif !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
            
            &.meta {
              background: rgba(255, 255, 255, 0.08) !important;
              border: 1px solid rgba(255, 255, 255, 0.15) !important;
              backdrop-filter: blur(10px) !important;
              
              .wrap {
                h2 {
                  color: white !important;
                  font-family: Rubik, sans-serif !important;
                  font-size: 18px !important;
                  font-weight: 700 !important;
                  margin-bottom: 8px !important;
                }
                
                .details {
                  .class {
                    color: var(--theme-primary) !important;
                    font-family: Rubik, sans-serif !important;
                    font-weight: 600 !important;
                    font-size: 14px !important;
                  }
                  
                  .count {
                    color: rgba(255, 255, 255, 0.8) !important;
                    font-family: Rubik, sans-serif !important;
                    font-size: 12px !important;
                    margin-top: 4px !important;
                  }
                }
                
                .actions {
                  margin-top: 12px !important;
                  
                  .uiButton {
                    background: rgba(255, 255, 255, 0.1) !important;
                    border: 1px solid rgba(255, 255, 255, 0.2) !important;
                    border-radius: 6px !important;
                    color: white !important;
                    font-family: Rubik, sans-serif !important;
                    font-size: 12px !important;
                    padding: 8px 12px !important;
                    transition: all 0.2s ease !important;
                    
                    &:hover {
                      background: var(--theme-primary) !important;
                      border-color: var(--theme-primary) !important;
                      transform: translateY(-1px) !important;
                    }
                  }
                }
              }
            }
            
            &.set {
              background: linear-gradient(135deg, rgba(140, 198, 62, 0.2), rgba(140, 198, 62, 0.1)) !important;
              border: 1px solid rgba(140, 198, 62, 0.3) !important;
              
              .header {
                color: white !important;
                font-family: Rubik, sans-serif !important;
                font-size: 16px !important;
                font-weight: 600 !important;
                margin-bottom: 8px !important;
              }
              
              .pillbox {
                .FancyCheckbox__FancyCheckbox___OjfVq {
                  .Label__Label___D7Qid {
                    .Label__innerText___HVhy6 {
                      color: white !important;
                      font-family: Rubik, sans-serif !important;
                      font-size: 12px !important;
                      font-weight: 500 !important;
                    }
                  }
                  
                  .FancyCheckbox__wrapper___doLbf {
                    .FancyCheckbox__activeText___eri8w {
                      background: rgba(140, 198, 62, 0.8) !important;
                      color: white !important;
                      font-family: Rubik, sans-serif !important;
                      font-size: 11px !important;
                      font-weight: 600 !important;
                      border-radius: 4px !important;
                      padding: 2px 6px !important;
                    }
                  }
                }
              }
              
              .uiButton.collapse {
                background: rgba(255, 255, 255, 0.1) !important;
                border: 1px solid rgba(255, 255, 255, 0.2) !important;
                border-radius: 4px !important;
                color: white !important;
                padding: 4px !important;
                
                &:hover {
                  background: rgba(255, 255, 255, 0.2) !important;
                  transform: scale(1.1) !important;
                }
                
                svg {
                  fill: currentColor !important;
                  width: 16px !important;
                  height: 16px !important;
                }
              }
            }
            
            &.attendance.header {
              background: rgba(59, 130, 246, 0.2) !important;
              border: 1px solid rgba(59, 130, 246, 0.3) !important;
              text-align: center !important;
              
              svg {
                fill: #60a5fa !important;
                width: 20px !important;
                height: 20px !important;
              }
            }
            
            &.pg.title.header.reportCol {
              background: rgba(139, 92, 246, 0.2) !important;
              border: 1px solid rgba(139, 92, 246, 0.3) !important;
              color: white !important;
              font-family: Rubik, sans-serif !important;
              font-size: 16px !important;
              font-weight: 600 !important;
              text-align: center !important;
            }
            
            &.assessment {
              background: rgba(34, 197, 94, 0.2) !important;
              border: 1px solid rgba(34, 197, 94, 0.3) !important;
              
              .title {
                color: white !important;
                font-family: Rubik, sans-serif !important;
                font-size: 14px !important;
                font-weight: 600 !important;
                margin-bottom: 4px !important;
              }
              
              .weight {
                color: rgba(255, 255, 255, 0.8) !important;
                font-family: Rubik, sans-serif !important;
                font-size: 11px !important;
              }
              
              .availability {
                margin-top: 8px !important;
                
                .Button__Button___kQRWg {
                  background: rgba(255, 255, 255, 0.1) !important;
                  border: 1px solid rgba(255, 255, 255, 0.2) !important;
                  border-radius: 4px !important;
                  color: white !important;
                  padding: 4px !important;
                  
                  &:hover {
                    background: rgba(255, 255, 255, 0.2) !important;
                    transform: scale(1.1) !important;
                  }
                  
                  svg {
                    fill: currentColor !important;
                    width: 14px !important;
                    height: 14px !important;
                  }
                }
              }
            }
            
            &.setTotal.stats-set,
            &.attendanceLabel,
            &.pg.title.options.reportCol {
              background: rgba(255, 255, 255, 0.05) !important;
              border: 1px solid rgba(255, 255, 255, 0.1) !important;
              color: white !important;
              font-family: Rubik, sans-serif !important;
              font-size: 12px !important;
              font-weight: 600 !important;
              text-align: center !important;
              
              .uiButton {
                background: rgba(255, 255, 255, 0.1) !important;
                border: 1px solid rgba(255, 255, 255, 0.2) !important;
                border-radius: 4px !important;
                color: white !important;
                font-family: Rubik, sans-serif !important;
                font-size: 10px !important;
                padding: 4px 8px !important;
                margin: 0 2px !important;
                
                &:hover {
                  background: var(--theme-primary) !important;
                  border-color: var(--theme-primary) !important;
                }
              }
              
              .percent {
                color: rgba(255, 255, 255, 0.9) !important;
                font-size: 10px !important;
              }
            }
            
            &.criterion,
            &.assSubmission,
            &.assFocus,
            &.assTotal,
            &.assGrade,
            &.assRank,
            &.pgLabel {
              background: rgba(255, 255, 255, 0.03) !important;
              border: 1px solid rgba(255, 255, 255, 0.08) !important;
              color: white !important;
              font-family: Rubik, sans-serif !important;
              font-size: 11px !important;
              text-align: center !important;
              
              .criterionName {
                color: white !important;
                font-weight: 600 !important;
                margin-bottom: 2px !important;
              }
              
              .type {
                color: rgba(255, 255, 255, 0.7) !important;
                font-size: 10px !important;
              }
              
              .uiButton {
                background: rgba(255, 255, 255, 0.1) !important;
                border: 1px solid rgba(255, 255, 255, 0.2) !important;
                border-radius: 3px !important;
                color: white !important;
                padding: 2px 4px !important;
                
                &:hover {
                  background: rgba(255, 255, 255, 0.2) !important;
                  transform: scale(1.05) !important;
                }
                
                svg {
                  fill: currentColor !important;
                  width: 12px !important;
                  height: 12px !important;
                }
              }
              
              svg {
                fill: rgba(255, 255, 255, 0.8) !important;
                width: 16px !important;
                height: 16px !important;
              }
            }
          }
        }
      }
      
      tbody {
        tr {
          background: rgba(255, 255, 255, 0.02) !important;
          
          &:hover {
            background: rgba(255, 255, 255, 0.05) !important;
          }
          
          &.exclude-sort-top {
            background: rgba(255, 255, 255, 0.08) !important;
            
            td {
              background: rgba(255, 255, 255, 0.05) !important;
              border: 1px solid rgba(255, 255, 255, 0.1) !important;
              
              &.clipboard {
                background: rgba(255, 255, 255, 0.03) !important;
                border: 1px solid rgba(255, 255, 255, 0.08) !important;
              }
            }
          }
          
          td {
            background: transparent !important;
            color: white !important;
            font-family: Rubik, sans-serif !important;
            font-size: 12px !important;
            border: 1px solid rgba(255, 255, 255, 0.05) !important;
            
            &.meta {
              background: rgba(255, 255, 255, 0.05) !important;
              border: 1px solid rgba(255, 255, 255, 0.1) !important;
            }
          }
        }
      }
      
      tfoot {
        tr {
          background: rgba(255, 255, 255, 0.05) !important;
          
          &.stats-count,
          &.stats-average,
          &.stats-std,
          &.stats-median {
            background: rgba(255, 255, 255, 0.08) !important;
            
            td {
              background: transparent !important;
              color: white !important;
              font-family: Rubik, sans-serif !important;
              font-size: 11px !important;
              font-weight: 500 !important;
              border: 1px solid rgba(255, 255, 255, 0.1) !important;
              
              &.label {
                background: rgba(255, 255, 255, 0.1) !important;
                color: rgba(255, 255, 255, 0.9) !important;
                font-weight: 600 !important;
                text-transform: uppercase !important;
                letter-spacing: 0.5px !important;
                
                div div {
                  color: inherit !important;
                }
              }
              
              &.stat,
              &.setTotal,
              &.grade {
                text-align: center !important;
                color: rgba(255, 255, 255, 0.8) !important;
              }
            }
          }
        }
      }
    }
    
    .updates {
      background: transparent !important;
      list-style: none !important;
      padding: 0 !important;
      margin: 16px 0 0 !important;
    }
    
    #marksbookInput {
      background: rgba(255, 255, 255, 0.05) !important;
      border: 1px solid rgba(255, 255, 255, 0.1) !important;
      border-radius: 8px !important;
      padding: 12px !important;
      backdrop-filter: blur(10px) !important;
      
      .edit {
        display: flex !important;
        gap: 8px !important;
        align-items: center !important;
        
        .uiShortText.marksbook {
          background: rgba(255, 255, 255, 0.1) !important;
          border: 1px solid rgba(255, 255, 255, 0.2) !important;
          border-radius: 6px !important;
          color: white !important;
          font-family: Rubik, sans-serif !important;
          padding: 8px 12px !important;
          flex: 1 !important;
          
          &:focus {
            border-color: var(--theme-primary) !important;
            outline: none !important;
            box-shadow: 0 0 0 2px rgba(var(--theme-primary-rgb), 0.3) !important;
          }
          
          &::placeholder {
            color: rgba(255, 255, 255, 0.5) !important;
          }
        }
        
        .uiButton.buttonMenu.calc {
          background: rgba(255, 255, 255, 0.1) !important;
          border: 1px solid rgba(255, 255, 255, 0.2) !important;
          border-radius: 6px !important;
          color: white !important;
          font-family: Rubik, sans-serif !important;
          padding: 8px 12px !important;
          
          &:hover {
            background: var(--theme-primary) !important;
            border-color: var(--theme-primary) !important;
            transform: translateY(-1px) !important;
          }
        }
      }
    }
  }

  // Popup Dialog wrapper (fixes blue background)
  [class*="PopupDialog__PopupDialog"] {
    background: transparent !important;
    background-color: transparent !important;
  }
  
  // Popup Dialog (Assessment Details, etc.)
  [class*="PopupDialog__dialog"] {
    background: var(--background-primary) !important;
    background-color: var(--background-primary) !important;
    border: 1px solid var(--border-secondary) !important;
    border-radius: 16px !important;
    box-shadow: 0 12px 48px rgba(0, 0, 0, 0.5) !important;
    color: var(--text-primary) !important;
    
    // Make fully solid when transparency effects are disabled
    html:not(.transparencyEffects) & {
      background: var(--background-primary) !important;
      background-color: var(--background-primary) !important;
    }
    
    // Apply blur only when transparency effects are enabled
    html.transparencyEffects & {
      backdrop-filter: blur(10px) !important;
      background: rgba(var(--background-primary-rgb, 30, 30, 30), 0.95) !important;
    }
    overflow: hidden !important;
    z-index: 10000 !important;
    
    [class*="PopupDialog__header"] {
      background: rgba(255, 255, 255, 0.05) !important;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
      padding: 20px 24px !important;
      display: flex !important;
      align-items: center !important;
      gap: 16px !important;
      
      [class*="PopupDialog__alpha"] {
        flex: 0 !important;
        
        button {
          background: var(--button-bg) !important;
          border: 1px solid var(--border-primary) !important;
          border-radius: 8px !important;
          color: var(--text-primary) !important;
          padding: 8px 16px !important;
          font-family: Rubik, sans-serif !important;
          font-size: 14px !important;
          font-weight: 500 !important;
          cursor: pointer !important;
          transition: all 0.2s ease !important;
          
          &:hover {
            background: var(--button-hover) !important;
            border-color: var(--accent-bg) !important;
            transform: translateY(-1px) !important;
          }
        }
      }
      
      [class*="PopupDialog__title"] {
        flex: 1 !important;
        color: var(--text-primary) !important;
        font-family: Rubik, sans-serif !important;
        font-size: 18px !important;
        font-weight: 600 !important;
      }
      
      [class*="PopupDialog__beta"] {
        flex: 0 !important;
        
        button {
          background: var(--accent-bg) !important;
          border: 1px solid var(--accent-bg) !important;
          border-radius: 8px !important;
          color: var(--text-on-accent) !important;
          padding: 8px 16px !important;
          font-family: Rubik, sans-serif !important;
          font-size: 14px !important;
          font-weight: 500 !important;
          cursor: pointer !important;
          transition: all 0.2s ease !important;
          
          &:hover {
            background: var(--accent-hover) !important;
            transform: translateY(-1px) !important;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;
          }
        }
      }
    }
    
    [class*="PopupDialog__content"] {
      background: transparent !important;
      background-color: transparent !important;
      padding: 24px !important;
      overflow-y: auto !important;
      max-height: calc(90vh - 100px) !important;
      color: var(--text-primary) !important;
      
      // Custom scrollbar
      &::-webkit-scrollbar {
        width: 8px !important;
      }
      
      &::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.05) !important;
        border-radius: 4px !important;
      }
      
      &::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.2) !important;
        border-radius: 4px !important;
        
        &:hover {
          background: rgba(255, 255, 255, 0.3) !important;
        }
      }
      
      // TabSet styling
      [class*="TabSet__TabSet"] {
        [class*="TabSet__tabs"] {
          border-bottom: 1px solid var(--border-secondary) !important;
          margin-bottom: 24px !important;
          
          li {
            color: var(--text-secondary) !important;
            font-family: Rubik, sans-serif !important;
            font-size: 14px !important;
            font-weight: 500 !important;
            padding: 12px 20px !important;
            cursor: pointer !important;
            transition: all 0.2s ease !important;
            border-bottom: 2px solid transparent !important;
            
            &:hover {
              color: var(--text-primary) !important;
            }
            
            &[class*="TabSet__selected"],
            &[aria-selected="true"] {
              color: var(--accent-bg) !important;
              border-bottom-color: var(--accent-bg) !important;
              font-weight: 600 !important;
            }
          }
        }
      }
      
      // MarksbookPopup container
      [class*="MarksbookPopup__container"],
      [class*="MarksbookPopup__MarksbookPopup"] {
        background: transparent !important;
        color: var(--text-primary) !important;
      }
      
      // Ensure all text is white in dark mode
      * {
        color: var(--text-primary) !important;
      }
      
      
      // BasicPanel styling within PopupDialog
      [class*="BasicPanel__BasicPanel"] {
        background: var(--background-secondary) !important;
        border: 1px solid var(--border-secondary) !important;
        border-radius: 12px !important;
        padding: 24px !important;
        margin-bottom: 24px !important;
        color: var(--text-primary) !important;
        
        header {
          h2 {
            color: var(--text-primary) !important;
            font-family: Rubik, sans-serif !important;
            font-size: 18px !important;
            font-weight: 600 !important;
            margin-bottom: 20px !important;
          }
        }
        
        // CourseType specific styling
        [class*="CourseType__cutoffsBar"],
        [class*="SectionedBar__SectionedBar"] {
          background: var(--background-primary) !important;
          border-radius: 8px !important;
          overflow: hidden !important;
          margin-bottom: 16px !important;
          height: 32px !important;
          
          li {
            color: white !important;
            font-weight: 600 !important;
            font-size: 12px !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
          }
        }
        
        // CourseType cutoff items
        [class*="CourseType__cutoffLabel"] {
          color: var(--text-primary) !important;
          
          input {
            background: var(--input-bg) !important;
            border: 1px solid var(--border-primary) !important;
            border-radius: 6px !important;
            color: var(--text-primary) !important;
            padding: 6px 8px !important;
            font-family: Rubik, sans-serif !important;
            
            &:focus {
              border-color: var(--accent-bg) !important;
              outline: none !important;
              box-shadow: 0 0 0 3px var(--accent-ring) !important;
            }
          }
        }
        
        [class*="CourseType__rangeUpper"] {
          color: var(--text-secondary) !important;
          font-family: Rubik, sans-serif !important;
          
          span {
            color: var(--text-primary) !important;
            font-weight: 600 !important;
          }
        }
        
        // Remove buttons
        button.remove {
          background: transparent !important;
          border: none !important;
          color: var(--text-muted) !important;
          padding: 4px !important;
          transition: all 0.2s ease !important;
          cursor: pointer !important;
          
          &:hover {
            color: #ef4444 !important;
            transform: scale(1.1) !important;
          }
          
          svg {
            fill: currentColor !important;
          }
        }
        
        // Add buttons
        li.add {
          background: var(--button-bg) !important;
          border: 1px dashed var(--border-primary) !important;
          border-radius: 8px !important;
          padding: 12px !important;
          color: var(--text-secondary) !important;
          cursor: pointer !important;
          transition: all 0.2s ease !important;
          margin-top: 12px !important;
          
          &:hover {
            background: var(--button-hover) !important;
            border-color: var(--accent-bg) !important;
            color: var(--text-primary) !important;
          }
          
          button {
            background: transparent !important;
            border: none !important;
            color: var(--text-secondary) !important;
            padding: 4px !important;
            transition: all 0.2s ease !important;
            
            &:hover {
              color: var(--accent-bg) !important;
              transform: scale(1.1) !important;
            }
            
            svg {
              fill: currentColor !important;
            }
          }
        }
        
        // Common list styling
        [class*="common__list"] {
          background: var(--background-primary) !important;
          border: 1px solid var(--border-secondary) !important;
          border-radius: 8px !important;
          padding: 16px !important;
          margin-bottom: 12px !important;
          
          [class*="common__row"] {
            display: flex !important;
            align-items: center !important;
            gap: 12px !important;
            margin-bottom: 12px !important;
            
            &:last-child {
              margin-bottom: 0 !important;
            }
          }
          
          [class*="common__spacer"] {
            flex: 1 !important;
          }
          
          [class*="common__colour"] {
            button {
              background: var(--button-bg) !important;
              border: 1px solid var(--border-primary) !important;
              border-radius: 6px !important;
              padding: 6px 12px !important;
              color: var(--text-primary) !important;
              transition: all 0.2s ease !important;
              
              &:hover {
                border-color: var(--accent-bg) !important;
                transform: scale(1.05) !important;
              }
            }
          }
        }
        
        // Number badge (open class)
        div.open {
          background: var(--accent-bg) !important;
          color: var(--text-on-accent) !important;
          width: 24px !important;
          height: 24px !important;
          border-radius: 50% !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          font-weight: 600 !important;
          font-size: 12px !important;
          flex-shrink: 0 !important;
        }
      }
      
      // TwinPane layout
      [class*="TwinPane__TwinPane"] {
        display: flex !important;
        gap: 24px !important;
        
        [class*="TwinPane__left"],
        [class*="TwinPane__right"] {
          flex: 1 1 50% !important;
          min-width: 0 !important;
          max-width: 50% !important;
          background: rgba(255, 255, 255, 0.03) !important;
          border: 1px solid rgba(255, 255, 255, 0.1) !important;
          border-radius: 12px !important;
          padding: 20px !important;
          overflow-y: auto !important;
          
          // Custom scrollbar
          &::-webkit-scrollbar {
            width: 8px !important;
          }
          
          &::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05) !important;
            border-radius: 4px !important;
          }
          
          &::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2) !important;
            border-radius: 4px !important;
            
            &:hover {
              background: rgba(255, 255, 255, 0.3) !important;
            }
          }
        }
      }
      
      // Assessment Details
      [class*="FocusedAssessmentDetails__FocusedAssessmentDetails"] {
        h2, h3 {
          color: white !important;
          font-family: Rubik, sans-serif !important;
          margin-bottom: 16px !important;
        }
        
        h2 {
          font-size: 18px !important;
          font-weight: 600 !important;
        }
        
        h3 {
          font-size: 16px !important;
          font-weight: 500 !important;
        }
      }
      
      // Overall Result
      [class*="OverallResult__OverallResult"] {
        margin-bottom: 16px !important;
        
        [class*="OverallResult__overall"] {
          display: grid !important;
          grid-template-columns: repeat(2, 1fr) !important;
          gap: 8px !important;
          padding: 0 !important;
          list-style: none !important;
          margin-bottom: 12px !important;
          
          li {
            display: flex !important;
            flex-direction: column !important;
            gap: 4px !important;
            padding: 8px !important;
            background: rgba(255, 255, 255, 0.03) !important;
            border-radius: 6px !important;
            
            [class*="OverallResult__label"] {
              color: rgba(255, 255, 255, 0.6) !important;
              font-family: Rubik, sans-serif !important;
              font-size: 11px !important;
              font-weight: 500 !important;
              text-transform: uppercase !important;
              letter-spacing: 0.5px !important;
            }
            
            [class*="OverallResult__value"] {
              color: white !important;
              font-family: Rubik, sans-serif !important;
              font-size: 18px !important;
              font-weight: 700 !important;
            }
            
            [class*="SimpleGrade__SimpleGrade"] {
              font-size: 18px !important;
              font-weight: 700 !important;
            }
          }
        }
        
        [class*="Thermoscore__Thermoscore"] {
          height: 32px !important;
          border-radius: 16px !important;
          overflow: hidden !important;
          background: rgba(255, 255, 255, 0.1) !important;
        }
      }
      
      // Assessable Criterion
      [class*="AssessableCriterion__AssessableCriterion"] {
        background: rgba(255, 255, 255, 0.05) !important;
        border: 1px solid rgba(255, 255, 255, 0.1) !important;
        border-radius: 8px !important;
        padding: 16px !important;
        margin-bottom: 12px !important;
        
        [class*="AssessableCriterion__header"] {
          display: flex !important;
          align-items: center !important;
          gap: 12px !important;
          margin-bottom: 12px !important;
          
          h3 {
            flex: 1 !important;
            margin: 0 !important;
          }
          
          [class*="AssessableCriterion__score"] {
            color: rgba(255, 255, 255, 0.7) !important;
            font-family: Rubik, sans-serif !important;
            font-size: 14px !important;
            
            [class*="AssessableCriterion__max"] {
              color: rgba(255, 255, 255, 0.5) !important;
            }
          }
          
          [class*="InfoPill__InfoPill"] {
            background: rgba(59, 130, 246, 0.2) !important;
            border: 1px solid rgba(59, 130, 246, 0.4) !important;
            border-radius: 12px !important;
            color: #3b82f6 !important;
            padding: 4px 8px !important;
            font-size: 12px !important;
            display: flex !important;
            align-items: center !important;
            gap: 4px !important;
            
            svg {
              width: 16px !important;
              height: 16px !important;
              fill: currentColor !important;
            }
          }
        }
      }
      
      // TabSet
      [class*="TabSet__TabSet"] {
        background: transparent !important;
        
        [class*="TabSet__tabs"] {
          display: flex !important;
          gap: 8px !important;
          padding: 0 !important;
          margin-bottom: 20px !important;
          list-style: none !important;
          border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
          
          li {
            background: transparent !important;
            border: none !important;
            border-bottom: 2px solid transparent !important;
            color: rgba(255, 255, 255, 0.6) !important;
            padding: 12px 16px !important;
            font-family: Rubik, sans-serif !important;
            font-size: 14px !important;
            font-weight: 500 !important;
            cursor: pointer !important;
            transition: all 0.2s ease !important;
            
            &:hover {
              color: rgba(255, 255, 255, 0.8) !important;
              background: rgba(255, 255, 255, 0.05) !important;
            }
            
            &[class*="TabSet__selected"] {
              color: white !important;
              border-bottom-color: var(--accent-bg) !important;
            }
          }
        }
        
        [class*="TabSet__tabContainer"] {
          [class*="TabSet__tabsheet"] {
            &[class*="TabSet__hidden"],
            &[class*="TabSet__vanished"] {
              display: none !important;
            }
          }
        }
      }
      
      // Overview
      [class*="Overview__Overview"] {
        h1 {
          color: white !important;
          font-family: Rubik, sans-serif !important;
          font-size: 20px !important;
          font-weight: 600 !important;
          margin: 24px 0 16px !important;
          
          &:first-child {
            margin-top: 0 !important;
          }
        }
        
        [class*="Overview__details"] {
          background: rgba(255, 255, 255, 0.05) !important;
          border: 1px solid rgba(255, 255, 255, 0.1) !important;
          border-radius: 8px !important;
          padding: 16px !important;
          
          iframe {
            background: transparent !important;
          }
        }
      }
      
      // Availability Slider
      [class*="AvailabilitySlider__AvailabilitySlider"] {
        position: relative !important;
        padding: 20px 0 !important;
        margin: 20px 0 !important;
        
        [class*="AvailabilitySlider__travelled"],
        [class*="AvailabilitySlider__untravelled"] {
          position: absolute !important;
          top: 50% !important;
          height: 4px !important;
          background: rgba(255, 255, 255, 0.2) !important;
          border-radius: 2px !important;
          transform: translateY(-50%) !important;
        }
        
        [class*="AvailabilitySlider__travelled"] {
          background: var(--accent-bg) !important;
        }
        
        label {
          display: flex !important;
          align-items: center !important;
          gap: 8px !important;
          padding: 8px 12px !important;
          margin-bottom: 8px !important;
          color: rgba(255, 255, 255, 0.6) !important;
          font-family: Rubik, sans-serif !important;
          font-size: 14px !important;
          cursor: pointer !important;
          transition: all 0.2s ease !important;
          
          &:hover {
            color: rgba(255, 255, 255, 0.8) !important;
          }
          
          &[class*="AvailabilitySlider__active"] {
            color: white !important;
            font-weight: 600 !important;
          }
          
          &[class*="AvailabilitySlider__superceded"] {
            color: rgba(255, 255, 255, 0.4) !important;
          }
          
          input[type="radio"] {
            appearance: none !important;
            width: 16px !important;
            height: 16px !important;
            border: 2px solid rgba(255, 255, 255, 0.3) !important;
            border-radius: 50% !important;
            background: transparent !important;
            cursor: pointer !important;
            
            &:checked {
              border-color: var(--accent-bg) !important;
              background: var(--accent-bg) !important;
            }
          }
        }
      }
      
      // WISP Submission
      [class*="WispSubmission__WispSubmission"] {
        [class*="WispSubmission__content"] {
          background: rgba(255, 255, 255, 0.05) !important;
          border: 1px solid rgba(255, 255, 255, 0.1) !important;
          border-radius: 8px !important;
          padding: 16px !important;
          margin-bottom: 16px !important;
          
          iframe {
            background: transparent !important;
          }
        }
        
        [class*="WispSubmission__controller"] {
          display: flex !important;
          justify-content: space-between !important;
          align-items: center !important;
          color: rgba(255, 255, 255, 0.7) !important;
          font-family: Rubik, sans-serif !important;
          font-size: 13px !important;
          padding: 12px !important;
          background: rgba(255, 255, 255, 0.03) !important;
          border-radius: 6px !important;
        }
      }
    }
  }

  // Academic Summary page styling
  [class*="AcademicSummary__pageArea"] {
    background: transparent !important;
    color: white !important;
    padding: 20px !important;
    
    // Actions bar
    [class*="Actions__Actions"] {
      background: rgba(255, 255, 255, 0.05) !important;
      border: 1px solid rgba(255, 255, 255, 0.1) !important;
      border-radius: 12px !important;
      backdrop-filter: blur(10px) !important;
      padding: 16px 20px !important;
      margin-bottom: 20px !important;
      display: flex !important;
      align-items: center !important;
      gap: 16px !important;
      
      [class*="Button__Button"] {
        background: rgba(255, 255, 255, 0.1) !important;
        border: 1px solid rgba(255, 255, 255, 0.2) !important;
        color: white !important;
        border-radius: 8px !important;
        padding: 10px 16px !important;
        font-family: Rubik, sans-serif !important;
        font-weight: 500 !important;
        transition: all 0.2s ease !important;
        
        &:hover {
          background: rgba(255, 255, 255, 0.15) !important;
          border-color: var(--theme-primary) !important;
          transform: translateY(-1px) !important;
        }
        
        &[class*="Button__dropdown"] {
          span svg {
            fill: white !important;
            margin-left: 8px !important;
          }
        }
      }
      
      // Search input
      [class*="Label__Label"] {
        [class*="Input__Input"],
        input {
          background: rgba(255, 255, 255, 0.05) !important;
          border: 1px solid rgba(255, 255, 255, 0.2) !important;
          color: white !important;
          border-radius: 8px !important;
          padding: 10px 16px !important;
          font-family: Rubik, sans-serif !important;
          min-width: 200px !important;
          
          &:focus {
            border-color: var(--theme-primary) !important;
            outline: none !important;
            box-shadow: 0 0 0 2px rgba(var(--theme-primary-rgb), 0.3) !important;
          }
          
          &::placeholder {
            color: rgba(255, 255, 255, 0.5) !important;
          }
        }
      }
      
      [class*="Actions__spacer"] {
        flex: 1 !important;
      }
    }
    
    // Main body area
    [class*="AcademicSummary__body"] {
      background: transparent !important;
      
      // Subject blocks container
      > div {
        margin-bottom: 24px !important;
        
        // Individual subject panels
        [class*="BasicPanel__BasicPanel"][class*="SubjectBlock__Subject"] {
          background: rgba(255, 255, 255, 0.05) !important;
          border: 1px solid rgba(255, 255, 255, 0.1) !important;
          border-radius: 16px !important;
          backdrop-filter: blur(10px) !important;
          overflow: hidden !important;
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2) !important;
          
          // Subject header
          header[class*="BasicPanel__clickable"] {
            background: var(--container-accent, var(--theme-primary)) !important;
            color: var(--container-accent-contrast, white) !important;
            padding: 20px 24px !important;
            display: flex !important;
            justify-content: space-between !important;
            align-items: center !important;
            cursor: pointer !important;
            transition: all 0.2s ease !important;
            
            &:hover {
              background: color-mix(in srgb, var(--container-accent, var(--theme-primary)) 90%, white 10%) !important;
            }
            
            h2 {
              color: var(--container-accent-contrast, white) !important;
              font-family: Rubik, sans-serif !important;
              font-size: 20px !important;
              font-weight: 600 !important;
              margin: 0 !important;
            }
            
            // Color picker button
            [class*="SubjectBlock__colourPicker"] {
              background: rgba(255, 255, 255, 0.2) !important;
              border: 1px solid rgba(255, 255, 255, 0.3) !important;
              color: var(--container-accent-contrast, white) !important;
              width: 40px !important;
              height: 40px !important;
              border-radius: 50% !important;
              transition: all 0.2s ease !important;
              
              &:hover {
                background: rgba(255, 255, 255, 0.3) !important;
                transform: scale(1.1) !important;
              }
              
              svg {
                fill: var(--container-accent-contrast, white) !important;
              }
            }
          }
          
          // Subject content
          article {
            background: rgba(255, 255, 255, 0.02) !important;
            padding: 24px !important;
            
            // Current/Live score section
            [class*="SubjectBlock__result"][class*="SubjectBlock__current"] {
              background: rgba(255, 255, 255, 0.05) !important;
              border: 1px solid rgba(255, 255, 255, 0.1) !important;
              border-radius: 12px !important;
              padding: 20px !important;
              margin-bottom: 20px !important;
              
              [class*="SubjectBlock__primary"] {
                h3 {
                  color: white !important;
                  font-family: Rubik, sans-serif !important;
                  font-size: 18px !important;
                  font-weight: 600 !important;
                  margin: 0 0 16px !important;
                }
                
                [class*="SubjectBlock__achievement"] {
                  display: flex !important;
                  align-items: center !important;
                  gap: 16px !important;
                  
                  // Thermometer score
                  [class*="Thermoscore__Thermoscore"] {
                    flex: 1 !important;
                    background: rgba(255, 255, 255, 0.1) !important;
                    border-radius: 20px !important;
                    height: 40px !important;
                    position: relative !important;
                    overflow: hidden !important;
                    
                    [class*="Thermoscore__fill"] {
                      background: var(--container-accent, var(--theme-primary)) !important;
                      height: 100% !important;
                      border-radius: 20px !important;
                      display: flex !important;
                      align-items: center !important;
                      justify-content: center !important;
                      transition: width 0.3s ease !important;
                      
                      [class*="Thermoscore__text"] {
                        color: white !important;
                        font-weight: 700 !important;
                        font-size: 16px !important;
                        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
                      }
                    }
                    
                    // Markers (avg, min, max)
                    [class*="Thermoscore__marker"] {
                      position: absolute !important;
                      top: -4px !important;
                      width: 2px !important;
                      height: 48px !important;
                      border-radius: 1px !important;
                      
                      &[class*="Thermoscore__avg"] {
                        background: #FFC107 !important;
                        box-shadow: 0 0 4px rgba(255, 193, 7, 0.6) !important;
                      }
                      
                      &[class*="Thermoscore__min"] {
                        background: #F44336 !important;
                        box-shadow: 0 0 4px rgba(244, 67, 54, 0.6) !important;
                      }
                      
                      &[class*="Thermoscore__max"] {
                        background: #4CAF50 !important;
                        box-shadow: 0 0 4px rgba(76, 175, 80, 0.6) !important;
                      }
                    }
                  }
                  
                  // Grade display
                  [class*="SimpleGrade__SimpleGrade"] {
                    background: rgba(255, 255, 255, 0.1) !important;
                    color: white !important;
                    border: 2px solid var(--container-accent, var(--theme-primary)) !important;
                    border-radius: 12px !important;
                    padding: 12px 20px !important;
                    font-family: Rubik, sans-serif !important;
                    font-size: 24px !important;
                    font-weight: 700 !important;
                    min-width: 60px !important;
                    text-align: center !important;
                    
                    &[class*="SimpleGrade__accented"] {
                      background: var(--container-accent, var(--theme-primary)) !important;
                      color: var(--container-accent-contrast, white) !important;
                    }
                  }
                }
              }
              
              // Cohort statistics
              [class*="SubjectBlock__cohort"] {
                display: flex !important;
                justify-content: space-between !important;
                margin-top: 16px !important;
                padding: 16px !important;
                background: rgba(255, 255, 255, 0.03) !important;
                border-radius: 8px !important;
                
                li {
                  text-align: center !important;
                  flex: 1 !important;
                  
                  [class*="SubjectBlock__label"] {
                    display: block !important;
                    color: rgba(255, 255, 255, 0.7) !important;
                    font-size: 12px !important;
                    font-weight: 500 !important;
                    margin-bottom: 4px !important;
                    text-transform: uppercase !important;
                    letter-spacing: 0.5px !important;
                  }
                  
                  [class*="SubjectBlock__value"] {
                    display: block !important;
                    color: white !important;
                    font-size: 16px !important;
                    font-weight: 600 !important;
                    font-family: Rubik, sans-serif !important;
                  }
                  
                  &[class*="SubjectBlock__minimum"] [class*="SubjectBlock__value"] {
                    color: #F44336 !important;
                  }
                  
                  &[class*="SubjectBlock__average"] [class*="SubjectBlock__value"] {
                    color: #FFC107 !important;
                  }
                  
                  &[class*="SubjectBlock__maximum"] [class*="SubjectBlock__value"] {
                    color: #4CAF50 !important;
                  }
                }
              }
            }
            
            // Assessment groups
            [class*="SubjectBlock__groups"] {
              [class*="SubjectBlock__group"] {
                h3 {
                  background: rgba(255, 255, 255, 0.08) !important;
                  color: white !important;
                  font-family: Rubik, sans-serif !important;
                  font-size: 16px !important;
                  font-weight: 600 !important;
                  margin: 0 0 16px !important;
                  padding: 12px 16px !important;
                  border-radius: 8px !important;
                  border: 1px solid rgba(255, 255, 255, 0.1) !important;
                  display: flex !important;
                  align-items: center !important;
                  gap: 8px !important;
                  backdrop-filter: blur(5px) !important;
                  
                  svg {
                    fill: var(--theme-primary) !important;
                    width: 20px !important;
                    height: 20px !important;
                  }
                  
                  span {
                    color: white !important;
                    text-transform: uppercase !important;
                    letter-spacing: 0.5px !important;
                    font-weight: 700 !important;
                  }
                }
                
                // Individual assessment results
                [class*="SubjectBlock__result"][class*="SubjectBlock__assessment"] {
                  background: rgba(255, 255, 255, 0.03) !important;
                  border: 1px solid rgba(255, 255, 255, 0.08) !important;
                  border-radius: 10px !important;
                  padding: 16px !important;
                  margin-bottom: 12px !important;
                  position: relative !important;
                  transition: all 0.2s ease !important;
                  
                  &:hover {
                    background: rgba(255, 255, 255, 0.05) !important;
                    border-color: rgba(255, 255, 255, 0.15) !important;
                    transform: translateY(-1px) !important;
                  }
                  
                  [class*="SubjectBlock__primary"] {
                    h3 {
                      color: white !important;
                      font-size: 16px !important;
                      font-weight: 600 !important;
                      margin: 0 0 12px !important;
                    }
                    
                    [class*="SubjectBlock__achievement"] {
                      display: flex !important;
                      align-items: center !important;
                      gap: 12px !important;
                      
                      [class*="Thermoscore__Thermoscore"] {
                        flex: 1 !important;
                        background: rgba(255, 255, 255, 0.1) !important;
                        border-radius: 16px !important;
                        height: 32px !important;
                        
                        [class*="Thermoscore__fill"] {
                          background: var(--container-accent, var(--theme-primary)) !important;
                          
                          [class*="Thermoscore__text"] {
                            font-size: 14px !important;
                          }
                        }
                      }
                      
                      [class*="SimpleGrade__SimpleGrade"] {
                        background: rgba(255, 255, 255, 0.1) !important;
                        color: white !important;
                        border: 1px solid rgba(255, 255, 255, 0.2) !important;
                        border-radius: 8px !important;
                        padding: 8px 12px !important;
                        font-size: 16px !important;
                        font-weight: 600 !important;
                        min-width: 40px !important;
                      }
                    }
                  }
                  
                  // Cohort stats for assessments
                  [class*="SubjectBlock__cohort"] {
                    display: flex !important;
                    justify-content: space-between !important;
                    margin-top: 12px !important;
                    padding: 12px !important;
                    background: rgba(255, 255, 255, 0.02) !important;
                    border-radius: 6px !important;
                    
                    li {
                      text-align: center !important;
                      flex: 1 !important;
                      
                      [class*="SubjectBlock__label"] {
                        font-size: 10px !important;
                        color: rgba(255, 255, 255, 0.6) !important;
                      }
                      
                      [class*="SubjectBlock__value"] {
                        font-size: 14px !important;
                        color: white !important;
                      }
                    }
                  }
                  
                  // Popup button
                  [class*="SubjectBlock__popup"] {
                    position: absolute !important;
                    top: 12px !important;
                    right: 12px !important;
                    background: rgba(255, 255, 255, 0.1) !important;
                    border: 1px solid rgba(255, 255, 255, 0.2) !important;
                    color: white !important;
                    width: 32px !important;
                    height: 32px !important;
                    border-radius: 50% !important;
                    transition: all 0.2s ease !important;
                    
                    &:hover {
                      background: rgba(255, 255, 255, 0.2) !important;
                      transform: scale(1.1) !important;
                    }
                    
                    svg {
                      fill: white !important;
                      width: 16px !important;
                      height: 16px !important;
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }

  // Folios page styling
  .pane {
    background: rgba(255, 255, 255, 0.05) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    border-radius: 12px !important;
    color: white !important;
    overflow: hidden !important;
    
    // Make fully solid when transparency effects are disabled
    html:not(.transparencyEffects) & {
      background: var(--background-primary) !important;
    }
    
    // Apply blur only when transparency effects are enabled
    html.transparencyEffects & {
      backdrop-filter: blur(10px) !important;
    }
    
    // Filters section
    .filters {
      background: rgba(255, 255, 255, 0.08) !important;
      padding: 20px !important;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
      
      // Search input
      .uiShortText.search {
        background: rgba(255, 255, 255, 0.05) !important;
        border: 1px solid rgba(255, 255, 255, 0.2) !important;
        color: white !important;
        border-radius: 8px !important;
        padding: 12px 16px !important;
        font-family: Rubik, sans-serif !important;
        font-size: 14px !important;
        width: 100% !important;
        margin-bottom: 16px !important;
        transition: all 0.2s ease !important;
        
        &:focus {
          border-color: var(--theme-primary) !important;
          outline: none !important;
          box-shadow: 0 0 0 2px rgba(var(--theme-primary-rgb), 0.3) !important;
          background: rgba(255, 255, 255, 0.08) !important;
        }
        
        &::placeholder {
          color: rgba(255, 255, 255, 0.5) !important;
        }
      }
      
      // Tags section
      .tags {
        margin: 0 !important;
        padding: 0 !important;
        list-style: none !important;
        
        .note {
          color: rgba(255, 255, 255, 0.7) !important;
          font-size: 12px !important;
          font-style: italic !important;
          font-family: Rubik, sans-serif !important;
          line-height: 1.4 !important;
        }
      }
      
      .author {
        margin-top: 12px !important;
      }
    }
    
    // List section
    .list {
      background: transparent !important;
      max-height: calc(100vh - 200px) !important;
      overflow-y: auto !important;
      
      // Individual folio items
      .item {
        background: rgba(255, 255, 255, 0.02) !important;
        border-bottom: 1px solid rgba(255, 255, 255, 0.05) !important;
        padding: 16px 20px !important;
        cursor: pointer !important;
        transition: all 0.2s ease !important;
        position: relative !important;
        
        &:hover {
          background: rgba(255, 255, 255, 0.06) !important;
          border-left: 4px solid var(--theme-primary) !important;
          padding-left: 16px !important;
          transform: translateX(4px) !important;
        }
        
        &.current {
          background: rgba(var(--theme-primary-rgb), 0.1) !important;
          border-left: 4px solid var(--theme-primary) !important;
          padding-left: 16px !important;
          
          .title {
            color: var(--theme-primary) !important;
            font-weight: 600 !important;
          }
          
          &:hover {
            background: rgba(var(--theme-primary-rgb), 0.15) !important;
          }
        }
        
        &:last-child {
          border-bottom: none !important;
        }
        
        // Folio title
        .title {
          color: white !important;
          font-family: Rubik, sans-serif !important;
          font-size: 16px !important;
          font-weight: 500 !important;
          margin: 0 0 8px !important;
          line-height: 1.3 !important;
          
          // Truncate long titles
          overflow: hidden !important;
          text-overflow: ellipsis !important;
          white-space: nowrap !important;
        }
        
        // Author name
        .author {
          color: rgba(255, 255, 255, 0.8) !important;
          font-family: Rubik, sans-serif !important;
          font-size: 14px !important;
          font-weight: 400 !important;
          margin: 0 0 4px !important;
        }
        
        // Timestamp
        .time {
          color: rgba(255, 255, 255, 0.6) !important;
          font-family: Rubik, sans-serif !important;
          font-size: 12px !important;
          font-weight: 400 !important;
          margin: 0 !important;
        }
      }
      
      // Custom scrollbar for the list
      &::-webkit-scrollbar {
        width: 6px !important;
      }
      
      &::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.05) !important;
        border-radius: 3px !important;
      }
      
      &::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.2) !important;
        border-radius: 3px !important;
        transition: background 0.2s ease !important;
        
        &:hover {
          background: rgba(255, 255, 255, 0.3) !important;
        }
      }
    }
  }

  // Override any remaining white backgrounds
  div[style*="background: white"],
  div[style*="background-color: white"],
  div[style*="background: #fff"],
  div[style*="background-color: #fff"],
  .MydayMenu__MydayMenu___T5I1E[style*="background"],
  .MydayMenu__MydayMenu___T5I1E * {
    background: rgba(255, 255, 255, 0.05) !important;
    color: white !important;
  }
  
  // Force override for timetable sidebar components
  .MydayMenu__MydayMenu___T5I1E {
    background: rgba(255, 255, 255, 0.05) !important;
    color: white !important;
    
    * {
      color: white !important;
    }
    
    .MydayMenu__header___UWKQp {
      background: var(--theme-primary) !important;
    }
    
    .MydayMenu__list___wlbW_ {
      background: transparent !important;
    }
    
    .MydayMenu__buttons___ET0LY {
      background: rgba(255, 255, 255, 0.03) !important;
    }
  }

  // Untimetabled classes styling
  .untimetabledItems {
    background: rgba(255, 255, 255, 0.05) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    border-radius: 12px !important;
    color: white !important;
    backdrop-filter: blur(10px) !important;
    margin: 20px !important;
    overflow: hidden !important;
    
    &.visible {
      display: block !important;
    }
    
    .handleContainer {
      background: var(--theme-primary) !important;
      color: white !important;
      padding: 16px 20px !important;
      
      .handle {
        color: white !important;
        font-family: Rubik, sans-serif !important;
        font-size: 16px !important;
        font-weight: 600 !important;
        margin: 0 !important;
        cursor: pointer !important;
        user-select: none !important;
        
        &:hover {
          opacity: 0.9 !important;
        }
      }
    }
    
    .list {
      background: transparent !important;
      color: white !important;
      padding: 20px !important;
      
      .add {
        background: rgba(255, 255, 255, 0.1) !important;
        border: 2px dashed rgba(255, 255, 255, 0.3) !important;
        border-radius: 8px !important;
        color: rgba(255, 255, 255, 0.7) !important;
        cursor: pointer !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        margin-bottom: 16px !important;
        padding: 40px 20px !important;
        transition: all 0.2s ease !important;
        
        &:hover {
          background: rgba(255, 255, 255, 0.15) !important;
          border-color: rgba(255, 255, 255, 0.4) !important;
          color: white !important;
          transform: translateY(-2px) !important;
        }
        
        svg {
          fill: currentColor !important;
          width: 32px !important;
          height: 32px !important;
        }
      }
      
      .note {
        background: rgba(255, 255, 255, 0.03) !important;
        border: 1px solid rgba(255, 255, 255, 0.08) !important;
        border-radius: 8px !important;
        color: rgba(255, 255, 255, 0.8) !important;
        font-family: Rubik, sans-serif !important;
        font-size: 14px !important;
        line-height: 1.5 !important;
        padding: 16px !important;
        
        &::before {
          content: "💡" !important;
          margin-right: 8px !important;
          opacity: 0.7 !important;
        }
      }
    }
  }
  
  // WidgetPortal styling (for dropdowns rendered outside normal DOM hierarchy)
  [class*="WidgetPortal__WidgetPortal"] {
    // FindAsYouType panel dropdown styling
    [class*="FindAsYouType__panel"],
    [class*="Header__panel"] {
      background: rgba(var(--background-primary-rgb, 30, 30, 30), 0.85) !important;
      background-color: rgba(var(--background-primary-rgb, 30, 30, 30), 0.85) !important;
      backdrop-filter: blur(20px) saturate(180%) !important;
      -webkit-backdrop-filter: blur(20px) saturate(180%) !important;
      border: 1px solid var(--border-secondary) !important;
      border-radius: 12px !important;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4) !important;
      overflow: hidden !important;
      margin-top: 8px !important;
      max-height: 500px !important;
      display: flex !important;
      flex-direction: column !important;
      opacity: 1 !important;
      
      // Search input container
      > label,
      > div:first-child {
        padding: 12px !important;
        border-bottom: 1px solid var(--border-secondary) !important;
        background: rgba(var(--background-secondary-rgb, 40, 40, 40), 0.8) !important;
        background-color: rgba(var(--background-secondary-rgb, 40, 40, 40), 0.8) !important;
        backdrop-filter: blur(10px) !important;
        -webkit-backdrop-filter: blur(10px) !important;
        
        input {
          background: var(--input-bg) !important;
          background-color: var(--input-bg) !important;
          border: 1px solid var(--border-primary) !important;
          border-radius: 8px !important;
          color: var(--text-primary) !important;
          font-family: Rubik, sans-serif !important;
          font-size: 14px !important;
          padding: 10px 12px 10px 36px !important;
          width: 100% !important;
          transition: all 0.2s ease !important;
          
          &:focus {
            border-color: var(--accent-bg) !important;
            outline: none !important;
            box-shadow: 0 0 0 3px var(--accent-ring) !important;
          }
          
          &::placeholder {
            color: var(--text-muted) !important;
          }
        }
      }
      
      // Student list container
      ol,
      [role="listbox"],
      > div:last-child {
        background: transparent !important;
        background-color: transparent !important;
        max-height: 400px !important;
        overflow-y: auto !important;
        padding: 8px !important;
        margin: 0 !important;
        list-style: none !important;
        
        // Custom scrollbar
        &::-webkit-scrollbar {
          width: 8px !important;
        }
        
        &::-webkit-scrollbar-track {
          background: var(--background-secondary) !important;
          border-radius: 4px !important;
        }
        
        &::-webkit-scrollbar-thumb {
          background: var(--border-secondary) !important;
          border-radius: 4px !important;
          
          &:hover {
            background: var(--text-muted) !important;
          }
        }
      }
      
      // Individual student list items
      li,
      [role="option"] {
        display: flex !important;
        align-items: center !important;
        justify-content: space-between !important;
        padding: 8px 12px !important;
        margin-bottom: 2px !important;
        background: rgba(var(--background-secondary-rgb, 40, 40, 40), 0.6) !important;
        background-color: rgba(var(--background-secondary-rgb, 40, 40, 40), 0.6) !important;
        backdrop-filter: blur(10px) !important;
        -webkit-backdrop-filter: blur(10px) !important;
        border: 1px solid transparent !important;
        border-radius: 6px !important;
        cursor: pointer !important;
        transition: all 0.2s ease !important;
        color: var(--text-primary) !important;
        font-family: Rubik, sans-serif !important;
        min-height: 32px !important;
        
        &:hover {
          background: rgba(var(--button-hover-rgb, 60, 60, 60), 0.8) !important;
          background-color: rgba(var(--button-hover-rgb, 60, 60, 60), 0.8) !important;
          backdrop-filter: blur(10px) !important;
          -webkit-backdrop-filter: blur(10px) !important;
          border-color: var(--accent-bg) !important;
          transform: translateX(2px) !important;
        }
        
        &[aria-selected="true"],
        &[class*="selected"],
        &[class*="active"] {
          background: var(--accent-bg) !important;
          background-color: var(--accent-bg) !important;
          color: var(--text-on-accent) !important;
          border-color: var(--accent-bg) !important;
          
          > div:first-child,
          [class*="FindAsYouType__value"] {
            color: var(--text-on-accent) !important;
            font-weight: 600 !important;
          }
        }
        
        // Student name - make sure it has priority and space
        > div:first-child,
        > span:first-child,
        [class*="FindAsYouType__value"] {
          color: var(--text-primary) !important;
          font-size: 14px !important;
          font-weight: 500 !important;
          flex: 1 1 auto !important;
          min-width: 0 !important;
          overflow: hidden !important;
          text-overflow: ellipsis !important;
          white-space: nowrap !important;
          margin-right: 8px !important;
        }
        
        // Identifier badges container - make it smaller and tighter
        > div:last-child,
        > span:last-child,
        [class*="FindAsYouType__meta"] {
          display: flex !important;
          align-items: center !important;
          gap: 4px !important;
          flex-shrink: 0 !important;
          margin-left: 8px !important;
          
          // Individual identifier badges (Q, G, 10, 1, etc.) - make them much smaller
          > div,
          > span,
          [class*="FindAsYouType__house"],
          [class*="FindAsYouType__rollgroup"],
          [class*="FindAsYouType__schoolyear"],
          [class*="FindAsYouType__campus"] {
            display: inline-flex !important;
            align-items: center !important;
            justify-content: center !important;
            min-width: 18px !important;
            max-width: 18px !important;
            height: 18px !important;
            padding: 0 2px !important;
            background: var(--accent-bg) !important;
            background-color: var(--accent-bg) !important;
            border: 1px solid var(--accent-bg) !important;
            border-radius: 4px !important;
            color: var(--text-on-accent) !important;
            font-size: 10px !important;
            font-weight: 600 !important;
            font-family: Rubik, sans-serif !important;
            line-height: 1 !important;
            flex-shrink: 0 !important;
          }
        }
        
        // Empty state
        &[class*="FindAsYouType__empty"] {
          background: transparent !important;
          background-color: transparent !important;
          color: var(--text-muted) !important;
          text-align: center !important;
          padding: 16px !important;
          cursor: default !important;
          
          &:hover {
            background: transparent !important;
            background-color: transparent !important;
            transform: none !important;
            border-color: transparent !important;
          }
        }
      }
      
      // Pointer indicator
      [class*="FindAsYouType__pointer"] {
        display: none !important;
      }
    }
  }
  
  // Student Information Panel (SIP) styling
  [class*="SIP__SIP"] {
    border: 1px solid var(--border-primary) !important;
    border-radius: 12px !important;
    box-shadow: var(--shadow-lg) !important;
    
    // Make fully solid when transparency effects are disabled
    html:not(.transparencyEffects) & {
      background: var(--background-primary) !important;
      backdrop-filter: none !important;
    }
    
    // Apply blur only when transparency effects are enabled
    html.transparencyEffects & {
      backdrop-filter: blur(10px) !important;
      background: var(--background-primary) !important;
    }
    
    [class*="SIP__content"] {
      background: transparent !important;
      color: var(--text-primary) !important;
      
        // Header section
        [class*="Header__Header"] {
          border-bottom: 1px solid var(--border-secondary) !important;
          border-radius: 12px 12px 0 0 !important;
          padding: 16px !important;
          
          // Make fully solid when transparency effects are disabled
          html:not(.transparencyEffects) & {
            background: var(--background-secondary) !important;
            backdrop-filter: none !important;
          }
          
          // Apply blur only when transparency effects are enabled
          html.transparencyEffects & {
            backdrop-filter: blur(10px) !important;
            background: var(--background-secondary) !important;
          }
        
        [class*="Header__selector"] {
          [class*="FindAsYouType__FindAsYouType"] {
            [class*="Button__Button"] {
              background: var(--button-bg) !important;
              border: 1px solid var(--border-primary) !important;
              color: var(--text-primary) !important;
              font-family: Rubik, sans-serif !important;
              border-radius: 8px !important;
              padding: 12px 16px !important;
              transition: all 0.2s ease !important;
              
              &:hover {
                border-color: var(--accent-bg) !important;
                background: var(--button-hover) !important;
                transform: translateY(-1px) !important;
              }
              
              [class*="FindAsYouType__value"] {
                color: var(--text-primary) !important;
                font-weight: 500 !important;
              }
              
              svg {
                fill: var(--text-secondary) !important;
              }
            }
          }
        }
        
        [class*="MenuButton__Menu"],
        [class*="Header__menu"] {
          [class*="Button__Button"] {
            background: var(--accent-bg) !important;
            color: var(--text-on-accent) !important;
            border: none !important;
            border-radius: 8px !important;
            transition: all 0.2s ease !important;
            
            &:hover {
              background: var(--accent-hover) !important;
              transform: scale(1.05) !important;
              box-shadow: var(--shadow-md) !important;
            }
            
            svg {
              fill: var(--text-on-accent) !important;
            }
          }
        }
        
        [class*="Header__clear"] {
          background: rgba(255, 59, 48, 0.8) !important;
          color: white !important;
          border: none !important;
          border-radius: 8px !important;
          
          &:hover {
            background: rgba(255, 59, 48, 1) !important;
            transform: scale(1.05) !important;
          }
          
          svg {
            fill: white !important;
          }
        }
      }
      
      // Student Info section
      [class*="StudentInfo__StudentInfo"] {
        background: transparent !important;
        padding: 20px !important;
        border-bottom: 1px solid var(--border-secondary) !important;
        color: var(--text-primary) !important;
        
        // Override dark blue text (rgb(27, 49, 94)) - target top-level elements only
        > div:not([class*="StudentInfo__"]),
        > div > div:not([class*="StudentInfo__"]):not([class*="Avatar__"]):not([class*="Button__"]),
        > div > span:not([class*="StudentInfo__"]),
        p:not([class*="StudentInfo__"]),
        h1:not([class*="StudentInfo__"]), h2:not([class*="StudentInfo__"]), h3:not([class*="StudentInfo__"]), 
        h4:not([class*="StudentInfo__"]), h5:not([class*="StudentInfo__"]), h6:not([class*="StudentInfo__"]) {
          color: var(--text-primary) !important;
        }
        
        [class*="StudentInfo__details"] {
          color: var(--text-primary) !important;
          [class*="StudentInfo__name"] {
            color: var(--text-primary) !important;
            font-family: Rubik, sans-serif !important;
            margin-bottom: 8px !important;
            
            [class*="StudentInfo__firstname"],
            [class*="StudentInfo__surname"] {
              color: var(--text-primary) !important;
              font-weight: 600 !important;
              font-size: 18px !important;
            }
            
            [class*="StudentInfo__prefname"] {
              color: var(--text-muted) !important;
              font-weight: 400 !important;
            }
          }
          
          [class*="StudentInfo__demographics"],
          [class*="StudentInfo__age"],
          [class*="StudentInfo__sex"] {
            color: var(--text-secondary) !important;
            font-family: Rubik, sans-serif !important;
            font-size: 14px !important;
            margin: 4px 0 !important;
          }
          
          ul {
            li {
              color: var(--text-primary) !important;
              font-family: Rubik, sans-serif !important;
              
              a {
                color: var(--accent-bg) !important;
                text-decoration: none !important;
                
                &:hover {
                  color: var(--accent-hover) !important;
                  text-decoration: underline !important;
                }
              }
            }
          }
        }
        
        [class*="StudentInfo__glance"] {
          color: var(--text-primary) !important;
          
          [class*="Avatar__Avatar"] {
            background: var(--accent-bg) !important;
            border: 2px solid var(--border-primary) !important;
            border-radius: 50% !important;
            
            svg text {
              fill: var(--text-on-accent) !important;
              font-family: Rubik, sans-serif !important;
            }
          }
          
          [class*="StudentInfo__alerts"] {
            display: flex !important;
            flex-direction: column !important;
            gap: 8px !important;
            
            svg {
              width: 32px !important;
              height: 32px !important;
              min-width: 32px !important;
              min-height: 32px !important;
              filter: brightness(1.1) contrast(1.2) !important;
            }
          }
        }
        
        [class*="StudentInfo__extraDetails"] {
          color: var(--text-primary) !important;
          
          li {
            border-bottom: 1px solid var(--border-secondary) !important;
            padding: 8px 0 !important;
            
            &:last-child {
              border-bottom: none !important;
            }
            
            [class*="StudentInfo__label"] {
              color: var(--text-muted) !important;
              font-family: Rubik, sans-serif !important;
              font-size: 12px !important;
              font-weight: 600 !important;
              text-transform: uppercase !important;
              letter-spacing: 0.5px !important;
            }
            
            [class*="StudentInfo__value"] {
              color: var(--text-primary) !important;
              font-family: Rubik, sans-serif !important;
              font-weight: 500 !important;
              
              a {
                color: var(--accent-bg) !important;
                text-decoration: none !important;
                
                &:hover {
                  color: var(--accent-hover) !important;
                  text-decoration: underline !important;
                }
              }
            }
          }
        }
        
        [class*="StudentInfo__toggle"] {
          background: var(--button-bg) !important;
          border: 1px solid var(--border-primary) !important;
          color: var(--text-primary) !important;
          border-radius: 50% !important;
          transition: all 0.2s ease !important;
          
          &:hover {
            background: var(--accent-bg) !important;
            color: var(--text-on-accent) !important;
            transform: scale(1.1) !important;
          }
          
          svg {
            fill: currentColor !important;
          }
        }
      }
      
      // General notes and content sections
      [class*="General__General"] {
        background: transparent !important;
        
        [class*="BasicPanel__BasicPanel"] {
          background: var(--card-bg) !important;
          border-radius: 8px !important;
          margin: 16px !important;
          border: 1px solid var(--card-border) !important;
          
          header {
            background: var(--accent-bg) !important;
            border-radius: 8px 8px 0 0 !important;
            padding: 12px 16px !important;
            border-bottom: 1px solid var(--border-secondary) !important;
            
            h2 {
              color: var(--text-on-accent) !important;
              font-family: Rubik, sans-serif !important;
              font-size: 16px !important;
              font-weight: 600 !important;
              margin: 0 !important;
            }
          }
          
          // Notes content
          [class*="BasicPanel__numbered"] {
            background: transparent !important;
            padding: 16px !important;
            
            li {
              border-bottom: 1px solid var(--border-secondary) !important;
              padding: 12px 0 !important;
              
              &:last-child {
                border-bottom: none !important;
              }
              
              &.add {
                background: rgba(40, 167, 69, 0.2) !important;
                border: 1px solid rgba(40, 167, 69, 0.4) !important;
                border-radius: 6px !important;
                padding: 12px !important;
                margin-bottom: 8px !important;
                
                div {
                  color: rgba(40, 167, 69, 1) !important;
                  font-family: Rubik, sans-serif !important;
                  font-weight: 500 !important;
                }
                
                [class*="Button__Button"] {
                  background: rgba(40, 167, 69, 1) !important;
                  color: white !important;
                  border-radius: 50% !important;
                  
                  &:hover {
                    transform: scale(1.1) !important;
                  }
                  
                  svg {
                    fill: white !important;
                  }
                }
              }
              
              [class*="General__noteContents"] {
                color: var(--text-primary) !important;
                font-family: Rubik, sans-serif !important;
                line-height: 1.5 !important;
                margin-bottom: 4px !important;
              }
              
              [class*="MenuButton__Menu"],
              [class*="General__menu"] {
                [class*="Button__Button"] {
                  background: var(--button-bg) !important;
                  border: 1px solid var(--border-primary) !important;
                  color: var(--text-muted) !important;
                  
                  &:hover {
                    background: var(--accent-bg) !important;
                    color: var(--text-on-accent) !important;
                  }
                }
              }
            }
          }
        }
        
        // Contacts section
        [class*="General__contacts"] {
          [class*="General__contact"] {
            background: var(--background-secondary) !important;
            border: 1px solid var(--border-primary) !important;
            border-radius: 8px !important;
            margin: 16px !important;
            
            header {
              background: var(--accent-bg) !important;
              border-radius: 8px 8px 0 0 !important;
              padding: 12px 16px !important;
              
              h2 {
                color: var(--text-on-accent) !important;
                font-family: Rubik, sans-serif !important;
                margin: 0 !important;
                
                [class*="General__salutation"] {
                  font-weight: 600 !important;
                  font-size: 16px !important;
                }
                
                [class*="General__type"] {
                  font-weight: 400 !important;
                  font-size: 14px !important;
                  opacity: 0.9 !important;
                  margin-left: 8px !important;
                }
              }
            }
            
            article {
              padding: 16px !important;
              background: var(--background-tertiary) !important;
              
              [class*="General__flags"] {
                margin-bottom: 12px !important;
                
                [class*="InfoPill__InfoPill"] {
                  background: rgba(59, 130, 246, 0.2) !important;
                  color: #60a5fa !important;
                  border: 1px solid rgba(59, 130, 246, 0.3) !important;
                  border-radius: 12px !important;
                  padding: 4px 8px !important;
                  font-size: 12px !important;
                  font-weight: 500 !important;
                  margin-right: 8px !important;
                }
                
                [class*="Button__Button"] {
                  background: rgba(34, 197, 94, 0.2) !important;
                  color: #4ade80 !important;
                  border: 1px solid rgba(34, 197, 94, 0.3) !important;
                  border-radius: 6px !important;
                  padding: 6px 12px !important;
                  font-size: 12px !important;
                  
                  &:hover {
                    background: rgba(34, 197, 94, 0.3) !important;
                    color: white !important;
                  }
                }
              }
              
              ul {
                li {
                  display: flex !important;
                  justify-content: space-between !important;
                  padding: 8px 0 !important;
                  border-bottom: 1px solid var(--border-secondary) !important;
                  
                  &:last-child {
                    border-bottom: none !important;
                  }
                  
                  [class*="General__label"] {
                    color: var(--text-muted) !important;
                    font-family: Rubik, sans-serif !important;
                    font-size: 12px !important;
                    font-weight: 600 !important;
                    text-transform: uppercase !important;
                    letter-spacing: 0.5px !important;
                  }
                  
                  [class*="General__value"] {
                    color: var(--text-primary) !important;
                    font-family: Rubik, sans-serif !important;
                    font-weight: 500 !important;
                    text-align: right !important;
                    
                    a {
                      color: var(--accent-bg) !important;
                      text-decoration: none !important;
                      
                      &:hover {
                        color: var(--accent-hover) !important;
                        text-decoration: underline !important;
                      }
                    }
                  }
                }
              }
              
              [class*="General__footer"] {
                margin-top: 12px !important;
                padding-top: 12px !important;
                border-top: 1px solid var(--border-secondary) !important;
                
                [class*="General__address"] {
                  div {
                    color: var(--text-muted) !important;
                    font-family: Rubik, sans-serif !important;
                    font-size: 14px !important;
                    line-height: 1.4 !important;
                  }
                }
              }
            }
          }
        }
        
        // Standardised tests button
        [class*="General__stdTest"] {
          padding: 16px !important;
          
          [class*="Button__Button"] {
            background: var(--accent-bg) !important;
            color: var(--text-on-accent) !important;
            border: none !important;
            border-radius: 8px !important;
            padding: 12px 16px !important;
            font-family: Rubik, sans-serif !important;
            font-weight: 500 !important;
            transition: all 0.2s ease !important;
            
            &:hover {
              background: var(--accent-hover) !important;
              transform: translateY(-2px) !important;
              box-shadow: var(--shadow-md) !important;
            }
            
            svg {
              fill: currentColor !important;
              margin-left: 8px !important;
            }
          }
        }
      }
    }
    
    // Navigation tabs
    [class*="SIP__nav"] {
      border-top: 1px solid var(--border-secondary) !important;
      border-radius: 0 0 12px 12px !important;
      padding: 12px !important;
      display: flex !important;
      gap: 8px !important;
      
      // Make fully solid when transparency effects are disabled
      html:not(.transparencyEffects) & {
        background: var(--background-secondary) !important;
        backdrop-filter: none !important;
      }
      
      // Apply blur only when transparency effects are enabled
      html.transparencyEffects & {
        backdrop-filter: blur(10px) !important;
        background: var(--background-secondary) !important;
      }
      
      a {
        background: var(--button-bg) !important;
        border: 1px solid var(--border-primary) !important;
        border-radius: 8px !important;
        padding: 12px !important;
        color: var(--text-secondary) !important;
        transition: all 0.2s ease !important;
        
        &:hover {
          background: var(--accent-bg) !important;
          color: var(--text-on-accent) !important;
          transform: translateY(-2px) !important;
          box-shadow: var(--shadow-md) !important;
        }
        
        &[class*="SIP__active"] {
          background: var(--accent-bg) !important;
          color: var(--text-on-accent) !important;
          border-color: var(--accent-bg) !important;
        }
        
        svg {
          fill: currentColor !important;
          width: 28px !important;
          height: 28px !important;
          min-width: 28px !important;
          min-height: 28px !important;
        }
      }
    }
    
    // Toggle button
    [class*="SIP__toggle"] {
      background: var(--button-bg) !important;
      border: 1px solid var(--border-primary) !important;
      color: var(--text-primary) !important;
      position: absolute !important;
      right: -12px !important;
      top: 50% !important;
      transform: translateY(-50%) !important;
      border-radius: 50% !important;
      width: 32px !important;
      height: 32px !important;
      transition: all 0.2s ease !important;
      box-shadow: var(--shadow-md) !important;
      
      &:hover {
        background: var(--accent-bg) !important;
        color: var(--text-on-accent) !important;
        transform: translateY(-50%) scale(1.1) !important;
        box-shadow: var(--shadow-lg) !important;
      }
      
      svg {
        fill: currentColor !important;
        width: 16px !important;
        height: 16px !important;
      }
    }
  }

  // Pastoral Care Component Styling
  [class*="Pastoral__container"] {
    background: transparent !important;
    border-radius: 12px !important;
    padding: 20px !important;
    color: var(--text-primary) !important;
    
    // Apply blur only when transparency effects are enabled
    html.transparencyEffects & {
      backdrop-filter: blur(10px) !important;
    }
    
    // Section titles (Date, Details, Aliases)
    [class*="Pastoral__title"] {
      background: var(--accent-bg) !important;
      color: var(--text-on-accent) !important;
      padding: 12px 16px !important;
      border-radius: 6px !important;
      font-family: Rubik, sans-serif !important;
      font-size: 14px !important;
      font-weight: 600 !important;
      text-transform: uppercase !important;
      letter-spacing: 0.5px !important;
      margin-bottom: 12px !important;
      transition: all 0.2s ease !important;
      
      // Clickable titles (like Aliases)
      &[class*="Pastoral__clickable"] {
        cursor: pointer !important;
        
        &:hover {
          background: var(--accent-hover) !important;
          transform: translateY(-1px) !important;
          box-shadow: var(--shadow-sm) !important;
        }
      }
    }
    
    // Category dropdown button
    [class*="Pastoral__category"] {
      [class*="Button__Button"][class*="Button__dropdown"] {
        background: var(--accent-bg) !important;
        color: var(--text-on-accent) !important;
        border: none !important;
        border-radius: 6px !important;
        padding: 10px 16px !important;
        font-family: Rubik, sans-serif !important;
        font-size: 14px !important;
        font-weight: 500 !important;
        transition: all 0.2s ease !important;
        cursor: pointer !important;
        
        &:hover {
          background: var(--accent-hover) !important;
          transform: translateY(-1px) !important;
          box-shadow: var(--shadow-sm) !important;
        }
        
        &:active {
          transform: translateY(0) !important;
        }
        
        &:focus {
          outline: none !important;
          box-shadow: 0 0 0 2px var(--accent-ring) !important;
        }
        
        svg {
          fill: currentColor !important;
        }
      }
    }
    
    // Date picker dropdown button
    [class*="DatePicker__DatePicker"] {
      [class*="Button__Button"][class*="DatePicker__button"] {
        background: var(--accent-bg) !important;
        color: var(--text-on-accent) !important;
        border: none !important;
        border-radius: 6px !important;
        padding: 10px 16px !important;
        font-family: Rubik, sans-serif !important;
        font-size: 14px !important;
        font-weight: 500 !important;
        transition: all 0.2s ease !important;
        cursor: pointer !important;
        
        &:hover {
          background: var(--accent-hover) !important;
          transform: translateY(-1px) !important;
          box-shadow: var(--shadow-sm) !important;
        }
        
        &:active {
          transform: translateY(0) !important;
        }
        
        &:focus {
          outline: none !important;
          box-shadow: 0 0 0 2px var(--accent-ring) !important;
        }
        
        svg {
          fill: currentColor !important;
        }
      }
    }
    
    // Points number input buttons (+/-)
    [class*="FancyNumberInput__FancyNumberInput"] {
      [class*="FancyNumberInput__subtract"],
      [class*="FancyNumberInput__add"] {
        background: var(--accent-bg) !important;
        color: var(--text-on-accent) !important;
        border: none !important;
        border-radius: 6px !important;
        width: 32px !important;
        height: 32px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        padding: 0 !important;
        font-family: Rubik, sans-serif !important;
        font-size: 16px !important;
        font-weight: 600 !important;
        transition: all 0.2s ease !important;
        cursor: pointer !important;
        
        &:hover:not(:disabled) {
          background: var(--accent-hover) !important;
          transform: scale(1.05) !important;
          box-shadow: var(--shadow-sm) !important;
        }
        
        &:active:not(:disabled) {
          transform: scale(0.95) !important;
        }
        
        &:focus {
          outline: none !important;
          box-shadow: 0 0 0 2px var(--accent-ring) !important;
        }
        
        &:disabled {
          opacity: 0.5 !important;
          cursor: not-allowed !important;
        }
        
        svg {
          fill: currentColor !important;
        }
      }
      
      input {
        background: var(--input-bg) !important;
        border: 1px solid var(--border-primary) !important;
        color: var(--text-primary) !important;
        border-radius: 6px !important;
        padding: 8px !important;
        text-align: center !important;
        font-family: Rubik, sans-serif !important;
        font-size: 14px !important;
        
        &:focus {
          border-color: var(--accent-bg) !important;
          box-shadow: 0 0 0 2px var(--accent-ring) !important;
          outline: none !important;
        }
      }
    }
    
    // Action buttons (Save, Popout editor, Clear)
    [class*="Pastoral__saveButtons"] {
      display: flex !important;
      gap: 12px !important;
      margin-top: 20px !important;
      padding-top: 20px !important;
      border-top: 1px solid var(--border-secondary) !important;
      
      [class*="Button__Button"] {
        background: var(--accent-bg) !important;
        color: var(--text-on-accent) !important;
        border: none !important;
        border-radius: 6px !important;
        padding: 10px 20px !important;
        font-family: Rubik, sans-serif !important;
        font-size: 14px !important;
        font-weight: 500 !important;
        transition: all 0.2s ease !important;
        cursor: pointer !important;
        
        &:hover:not(:disabled) {
          background: var(--accent-hover) !important;
          transform: translateY(-1px) !important;
          box-shadow: var(--shadow-sm) !important;
        }
        
        &:active:not(:disabled) {
          transform: translateY(0) !important;
        }
        
        &:focus {
          outline: none !important;
          box-shadow: 0 0 0 2px var(--accent-ring) !important;
        }
        
        &:disabled {
          opacity: 0.5 !important;
          cursor: not-allowed !important;
        }
        
        svg {
          fill: currentColor !important;
        }
      }
    }
    
    // Textarea styling
    textarea {
      background: transparent !important;
      border: 1px solid var(--border-primary) !important;
      color: var(--text-primary) !important;
      border-radius: 8px !important;
      padding: 12px !important;
      font-family: Rubik, sans-serif !important;
      font-size: 14px !important;
      line-height: 1.5 !important;
      min-height: 120px !important;
      resize: vertical !important;
      transition: all 0.2s ease !important;
      
      // Apply backdrop blur when transparency effects are enabled
      html.transparencyEffects & {
        backdrop-filter: blur(10px) !important;
      }
      
      &:focus {
        border-color: var(--accent-bg) !important;
        box-shadow: 0 0 0 2px var(--accent-ring) !important;
        outline: none !important;
      }
      
      &::placeholder {
        color: var(--text-muted) !important;
      }
    }
    
    // Description text
    [class*="Pastoral__description"] {
      color: var(--text-secondary) !important;
      font-family: Rubik, sans-serif !important;
      font-size: 13px !important;
      margin-top: 8px !important;
      margin-bottom: 16px !important;
    }
    
    // Selector labels
    [class*="Pastoral__selector"] {
      span[class*="Pastoral__shortLabel"] {
        color: var(--text-secondary) !important;
        font-family: Rubik, sans-serif !important;
        font-size: 13px !important;
        font-weight: 500 !important;
        margin-right: 8px !important;
      }
    }
    
    // Other dropdown buttons in the form
    [class*="FindAsYouType__FindAsYouType"] {
      [class*="Button__Button"][class*="Button__dropdown"] {
        background: var(--accent-bg) !important;
        color: var(--text-on-accent) !important;
        border: none !important;
        border-radius: 6px !important;
        padding: 10px 16px !important;
        font-family: Rubik, sans-serif !important;
        font-size: 14px !important;
        font-weight: 500 !important;
        transition: all 0.2s ease !important;
        cursor: pointer !important;
        
        &:hover {
          background: var(--accent-hover) !important;
          transform: translateY(-1px) !important;
          box-shadow: var(--shadow-sm) !important;
        }
        
        &:active {
          transform: translateY(0) !important;
        }
        
        &:focus {
          outline: none !important;
          box-shadow: 0 0 0 2px var(--accent-ring) !important;
        }
        
        svg {
          fill: currentColor !important;
        }
      }
    }
  }

  // SEQTA Teach Navigation Styling (3-tier spine system)
  
  // Tier 1: Main Spine (darkest shade) - Apply theme color like Learn menu
  [class*="Spine__Spine"] {
    background: var(--better-main) !important;
    border-right: 1px solid var(--border-secondary) !important;
    min-width: 72px !important;
    width: 72px !important;
    
    [class*="Spine__q"],
    [class*="Spine__workspace"] {
      color: var(--text-secondary) !important;
      background: transparent !important;
      border-radius: 8px !important;
      margin: 4px !important;
      padding: 12px !important;
      transition: all 0.2s ease !important;
      width: auto !important; // Override SEQTA's width: 100% rule to match other buttons
      min-width: auto !important;
      max-width: none !important;
      
      &:hover {
        background: var(--button-hover) !important;
        color: var(--text-primary) !important;
        transform: translateX(2px) !important;
      }
      
      &[class*="Spine__active"],
      &.active {
        background: var(--button-active) !important;
        color: var(--text-primary) !important;
        box-shadow: inset 3px 0 0 var(--accent-bg) !important;
      }
      
      svg {
        fill: currentColor !important;
        width: 24px !important;
        height: 24px !important;
      }
    }
    
    [class*="Spine__spacer"] {
      background: transparent !important;
      height: 1px !important;
      margin: 8px 12px !important;
      flex: 1 !important;
    }
    
    // Hide redundant SEQTA home button (we have our own)
    a[class*="Spine__q___vhZqf"] {
      display: none !important;
    }
    
    [class*="Spine__logout"] {
      color: var(--text-muted) !important;
      background: transparent !important;
      border-radius: 8px !important;
      margin: 4px !important;
      padding: 12px !important;
      transition: all 0.2s ease !important;
      width: auto !important; // Override SEQTA's width: 100% rule to match other buttons
      min-width: auto !important;
      max-width: none !important;
      
      &:hover {
        background: rgba(255, 59, 48, 0.2) !important;
        color: rgba(255, 59, 48, 1) !important;
      }
      
      svg {
        fill: currentColor !important;
        width: 24px !important;
        height: 24px !important;
      }
    }
    
    [class*="Spine__help"] {
      color: var(--text-muted) !important;
      background: transparent !important;
      border-radius: 8px !important;
      margin: 4px !important;
      padding: 12px !important;
      transition: all 0.2s ease !important;
      
      &:hover {
        background: var(--button-hover) !important;
        color: var(--text-primary) !important;
      }
      
      svg {
        fill: currentColor !important;
        width: 24px !important;
        height: 24px !important;
      }
    }
    
    // BetterSEQTA+ buttons in Spine - ensure they flow naturally like native icons
    a[data-betterseqta="true"],
    button[data-betterseqta="true"],
    #AddedSettings[data-betterseqta="true"],
    .betterseqta-spine-top-item,
    #LightDarkModeButton[data-betterseqta="true"],
    #betterseqta-teach-homebutton[data-betterseqta="true"] {
      position: static !important; // Override any fixed/absolute positioning
      top: auto !important;
      right: auto !important;
      left: auto !important;
      bottom: auto !important;
      color: var(--text-secondary) !important;
      background: transparent !important;
      border-radius: 8px !important;
      margin: 4px auto !important; // Center horizontally with auto margins
      padding: 12px !important;
      transition: all 0.2s ease !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      width: auto !important;
      height: auto !important;
      min-width: auto !important;
      max-width: none !important;
      z-index: auto !important;
      align-self: center !important; // Ensure center alignment
      
      &:hover {
        background: var(--button-hover) !important;
        color: var(--text-primary) !important;
        transform: translateX(2px) !important;
      }
      
      &.active,
      &[class*="active"] {
        background: var(--button-active) !important;
        color: var(--text-primary) !important;
        box-shadow: inset 3px 0 0 var(--accent-bg) !important;
      }
      
      svg {
        fill: currentColor !important;
        width: 24px !important;
        height: 24px !important;
        display: block !important;
        margin: 0 !important;
      }
      
      // Tooltip styling for Spine buttons - hidden by default, shown on hover
      .tooltiptext {
        visibility: hidden !important;
        opacity: 0 !important;
        left: 100% !important;
        margin-left: 8px !important;
        top: 50% !important;
        transform: translateY(-50%) scale(0) !important;
        white-space: nowrap !important;
        transition: opacity 0.2s ease, transform 0.2s ease !important;
        pointer-events: none !important;
      }
      
      // Show tooltip on hover
      &:hover .tooltiptext {
        visibility: visible !important;
        opacity: 1 !important;
        transform: translateY(-50%) scale(1) !important;
        pointer-events: auto !important;
      }
    }
  }
  
  // Tier 2: Page List (medium shade) - Apply theme color like Learn menu
  [class*="PageList__PageList"] {
    background: var(--better-main) !important;
    border-right: 1px solid var(--border-secondary) !important;
    
    // Apply blur only when transparency effects are enabled
    html.transparencyEffects & {
      backdrop-filter: blur(10px) !important;
    }
    
    [class*="PageList__pageContainer"] {
      padding: 8px !important;
      
      a {
        display: flex !important;
        align-items: center !important;
        gap: 12px !important;
        color: var(--text-secondary) !important;
        background: transparent !important;
        border-radius: 8px !important;
        padding: 12px 16px !important;
        text-decoration: none !important;
        transition: all 0.2s ease !important;
        font-family: Rubik, sans-serif !important;
        font-weight: 500 !important;
        
        &:hover {
          background: var(--button-hover) !important;
          color: var(--text-primary) !important;
          transform: translateX(4px) !important;
        }
        
        &.active {
          background: var(--button-active) !important;
          color: var(--text-primary) !important;
          box-shadow: inset 3px 0 0 var(--accent-bg) !important;
        }
        
        svg {
          fill: currentColor !important;
          width: 20px !important;
          height: 20px !important;
          flex-shrink: 0 !important;
        }
        
        span {
          font-size: 14px !important;
          white-space: nowrap !important;
        }
      }
    }
    
    [class*="PageList__toggle"] {
      background: var(--button-bg) !important;
      color: var(--text-secondary) !important;
      border: none !important;
      border-radius: 50% !important;
      margin: 8px !important;
      transition: all 0.2s ease !important;
      
      &:hover {
        background: var(--button-hover) !important;
        color: var(--text-primary) !important;
        transform: scale(1.1) !important;
      }
      
      svg {
        fill: currentColor !important;
        width: 16px !important;
        height: 16px !important;
      }
    }
  }
  
  // Tier 3: Subpage List (lightest shade)
  [class*="SubpageList__SubpageList"] {
    background: var(--theme-offset-bg) !important;
    border-right: 1px solid var(--border-tertiary) !important;
    
    // Apply blur only when transparency effects are enabled
    html.transparencyEffects & {
      backdrop-filter: blur(5px) !important;
    }
    padding: 8px !important;
    
    [class*="SubpageList__menuToggle"] {
      background: var(--button-bg) !important;
      color: var(--text-muted) !important;
      border: none !important;
      border-radius: 50% !important;
      margin-bottom: 8px !important;
      transition: all 0.2s ease !important;
      
      &:hover {
        background: var(--button-hover) !important;
        color: var(--text-primary) !important;
        transform: scale(1.05) !important;
      }
      
      svg {
        fill: currentColor !important;
        width: 14px !important;
        height: 14px !important;
        
        &[class*="SubpageList__spinLeft"] {
          transition: transform 0.2s ease !important;
        }
      }
    }
    
    a {
      display: block !important;
      color: var(--text-muted) !important;
      background: transparent !important;
      border-radius: 6px !important;
      padding: 10px 12px !important;
      text-decoration: none !important;
      transition: all 0.2s ease !important;
      font-family: Rubik, sans-serif !important;
      font-size: 13px !important;
      font-weight: 400 !important;
      margin-bottom: 2px !important;
      
      &:hover {
        background: var(--button-bg) !important;
        color: var(--text-primary) !important;
        transform: translateX(2px) !important;
      }
      
      &.active {
        background: var(--button-hover) !important;
        color: var(--text-primary) !important;
        font-weight: 500 !important;
        box-shadow: inset 2px 0 0 var(--accent-bg) !important;
      }
    }
  }

  // SEQTA Teach Header and Toolbar Styling
  header {
    background: var(--theme-offset-bg-more) !important;
    border-bottom: 1px solid var(--border-secondary) !important;
    
    // Apply blur only when transparency effects are enabled
    html.transparencyEffects & {
      backdrop-filter: blur(15px) !important;
    }
    padding: 16px 24px !important;
    display: flex !important;
    align-items: center !important;
    gap: 16px !important;
    
    h1 {
      color: var(--text-primary) !important;
      font-family: Rubik, sans-serif !important;
      font-size: 24px !important;
      font-weight: 600 !important;
      margin: 0 !important;
    }
    
    .spacer {
      flex: 1 !important;
    }
    
    // Quick Links and Action Buttons
    [class*="QuickLinks__QuickLinks"],
    a,
    [class*="ProfileMenu__ProfileMenu"] {
      [class*="Button__Button"],
      button {
        background: var(--button-bg) !important;
        color: var(--text-secondary) !important;
        border: 1px solid var(--border-primary) !important;
        border-radius: 50% !important;
        padding: 10px !important;
        transition: all 0.2s ease !important;
        
        &:hover {
          background: var(--button-hover) !important;
          color: var(--text-primary) !important;
          transform: scale(1.05) !important;
          box-shadow: var(--shadow-md) !important;
        }
        
        &[class*="Chrome__actionButton"] {
          width: 44px !important;
          height: 44px !important;
        }
        
        svg {
          fill: currentColor !important;
          width: 20px !important;
          height: 20px !important;
        }
        
        // Profile avatar styling
        [class*="Avatar__Avatar"] {
          background: var(--accent-bg) !important;
          border: 2px solid var(--border-primary) !important;
          border-radius: 50% !important;
          width: 36px !important;
          height: 36px !important;
          
          svg text {
            fill: var(--text-on-accent) !important;
            font-family: Rubik, sans-serif !important;
          }
        }
      }
    }
    
    // Profile Menu Panel (dropdown)
    [class*="ProfileMenu__panel"] {
      background: var(--card-bg) !important;
      border: 1px solid var(--card-border) !important;
      border-radius: 12px !important;
      box-shadow: var(--shadow-lg) !important;
      
      // Apply blur only when transparency effects are enabled
      html.transparencyEffects & {
        backdrop-filter: blur(10px) !important;
      }
      padding: 0 !important;
      min-width: 320px !important;
      overflow: hidden !important;
      z-index: 9999 !important;
      position: absolute !important;
      
      [class*="ProfileMenu__meta"] {
        background: var(--theme-offset-bg) !important;
        border-bottom: 1px solid var(--border-secondary) !important;
        padding: 16px 20px !important;
        
        a {
          color: var(--text-primary) !important;
          font-family: Rubik, sans-serif !important;
          font-size: 16px !important;
          font-weight: 600 !important;
          text-decoration: none !important;
          transition: all 0.2s ease !important;
          
          &:hover {
            color: var(--accent-bg) !important;
          }
        }
      }
      
      [class*="NotificationList__NotificationList"] {
        padding: 16px 20px !important;
        max-height: 400px !important;
        overflow-y: auto !important;
        
        [class*="Empty__Empty"] {
          display: flex !important;
          flex-direction: column !important;
          align-items: center !important;
          gap: 12px !important;
          padding: 24px !important;
          
          svg {
            width: 48px !important;
            height: 48px !important;
            fill: var(--text-muted) !important;
          }
          
          [class*="Empty__message"] {
            color: var(--text-muted) !important;
            font-family: Rubik, sans-serif !important;
            font-size: 14px !important;
            text-align: center !important;
          }
        }
        
        // Custom scrollbar
        &::-webkit-scrollbar {
          width: 8px !important;
        }
        
        &::-webkit-scrollbar-track {
          background: var(--theme-offset-bg) !important;
          border-radius: 4px !important;
        }
        
        &::-webkit-scrollbar-thumb {
          background: var(--border-primary) !important;
          border-radius: 4px !important;
          
          &:hover {
            background: var(--border-secondary) !important;
          }
        }
      }
      
      [class*="ProfileMenu__actions"] {
        background: var(--theme-offset-bg) !important;
        border-top: 1px solid var(--border-secondary) !important;
        padding: 12px 16px !important;
        display: flex !important;
        gap: 8px !important;
        
        button {
          flex: 1 !important;
          background: var(--button-bg) !important;
          border: 1px solid var(--border-primary) !important;
          border-radius: 8px !important;
          color: var(--text-primary) !important;
          padding: 10px 16px !important;
          font-family: Rubik, sans-serif !important;
          font-size: 14px !important;
          font-weight: 500 !important;
          cursor: pointer !important;
          transition: all 0.2s ease !important;
          
          &:hover:not(:disabled) {
            background: var(--button-hover) !important;
            border-color: var(--accent-bg) !important;
            transform: translateY(-1px) !important;
          }
          
          &:disabled {
            opacity: 0.5 !important;
            cursor: not-allowed !important;
          }
        }
      }
    }
    
    // Badge styling for notifications
    [class*="BadgedButton__BadgedButton"] {
      position: relative !important;
      
      &::after {
        content: '' !important;
        position: absolute !important;
        top: 2px !important;
        right: 2px !important;
        width: 8px !important;
        height: 8px !important;
        background: #ff3b30 !important;
        border-radius: 50% !important;
        border: 2px solid var(--better-main) !important;
      }
    }
  }

  // Toolbar styling (under header)
  [class*="Toolbar__Toolbar"] {
    background: var(--theme-offset-bg) !important;
    border-bottom: 1px solid var(--border-tertiary) !important;
    
    // Apply blur only when transparency effects are enabled
    html.transparencyEffects & {
      backdrop-filter: blur(5px) !important;
    }
    padding: 12px 24px !important;
    
    &[class*="LegacyPage__toolbar"] {
      display: flex !important;
      align-items: center !important;
      gap: 12px !important;
    }
    
    [class*="Button__Button"],
    button {
      background: var(--button-bg) !important;
      color: var(--text-secondary) !important;
      border: 1px solid var(--border-primary) !important;
      border-radius: 6px !important;
      padding: 8px 16px !important;
      font-family: Rubik, sans-serif !important;
      font-size: 14px !important;
      font-weight: 500 !important;
      transition: all 0.2s ease !important;
      
      &:hover {
        background: var(--button-hover) !important;
        color: var(--text-primary) !important;
        transform: translateY(-1px) !important;
        box-shadow: var(--shadow-sm) !important;
      }
      
      &:active {
        transform: translateY(0) !important;
      }
    }
  }

  // BetterSEQTA Settings Button Integration for SEQTA Teach - REMOVED fixed positioning
  // Buttons now flow naturally in Spine navigation (handled by data-betterseqta styles above)

  // Settings popup positioning for Teach - appear next to Spine
  .outside-container {
    left: 72px !important; // Position next to Spine (Spine width is 72px)
    right: auto !important;
    top: 0 !important;
    height: 100vh !important;
    max-height: 100vh !important;
    z-index: 1000 !important;
  }

  // Marksbook/Gradebook styling
  .marksbookHeader {
    background: var(--background-primary) !important;
    border-radius: 8px !important;
    box-shadow: var(--shadow-md) !important;
    margin: 16px !important;
    
    > .body {
      background: var(--background-secondary) !important;
      border-radius: 6px !important;
      padding: 16px !important;
      
      > .sets, > .types {
        background: var(--background-primary) !important;
        border-radius: 4px !important;
        margin: 8px 0 !important;
        
        h2 {
          color: var(--text-primary) !important;
          font-family: Rubik, sans-serif !important;
        }
        
        .setsWrapper, .typesWrapper {
          > .header {
            background: var(--accent-bg) !important;
            color: var(--text-on-accent) !important;
            
            > thead > tr > td {
              border-color: var(--border-primary) !important;
              font-weight: 600 !important;
            }
          }
        }
      }
    }
  }

  // Timetable improvements for teachers
  table.timetable {
    background: var(--background-primary) !important;
    border-radius: 8px !important;
    overflow: hidden !important;
    box-shadow: var(--shadow-sm) !important;
    
    > tbody > tr > td {
      border-color: var(--border-primary) !important;
      
      .item {
        background: var(--accent-bg) !important;
        border-radius: 6px !important;
        color: var(--text-on-accent) !important;
        font-family: Rubik, sans-serif !important;
        transition: all 0.2s ease !important;
        
        &:hover {
          transform: translateY(-2px) !important;
          box-shadow: var(--shadow-md) !important;
        }
        
        &.relief {
          background: var(--warning-bg) !important;
          color: var(--warning-text) !important;
        }
        
        &.relieved {
          opacity: 0.7 !important;
          background: var(--muted-bg) !important;
        }
      }
    }
  }

  // Correspondence/messaging improvements
  .correspondence {
    background: var(--background-primary) !important;
    border-radius: 8px !important;
    margin: 16px !important;
    overflow: hidden !important;
    box-shadow: var(--shadow-md) !important;
    
    > .data {
      background: var(--background-secondary) !important;
      border-right: 1px solid var(--border-primary) !important;
      
      > .filterBox {
        input {
          background: var(--input-bg) !important;
          border: 1px solid var(--border-primary) !important;
          color: var(--text-primary) !important;
          font-family: Rubik, sans-serif !important;
          
          &:focus {
            border-color: var(--accent-bg) !important;
            box-shadow: 0 0 0 2px var(--accent-ring) !important;
          }
        }
      }
      
      > .mergeOptions {
        background: var(--background-primary) !important;
        border-color: var(--border-primary) !important;
        border-radius: 6px !important;
        box-shadow: var(--shadow-lg) !important;
        
        > .mode, > .preset, > .studentContact {
          > label {
            color: var(--text-muted) !important;
            font-family: Rubik, sans-serif !important;
          }
          
          > input {
            background: var(--input-bg) !important;
            border: 1px solid var(--border-primary) !important;
            color: var(--text-primary) !important;
            font-family: Rubik, sans-serif !important;
          }
        }
      }
    }
  }

  // Academic reports styling
  .academicReportsWrapper {
    background: var(--background-primary) !important;
    border-radius: 8px !important;
    margin: 16px !important;
    box-shadow: var(--shadow-md) !important;
    
    > .tabPage {
      background: var(--background-secondary) !important;
      
      .filterBox {
        background: var(--background-primary) !important;
        border-radius: 6px !important;
        padding: 12px !important;
        margin: 8px !important;
        
        .supplementary > input {
          background: var(--input-bg) !important;
          border: 1px solid var(--border-primary) !important;
          color: var(--text-primary) !important;
          font-family: Rubik, sans-serif !important;
        }
      }
    }
  }
  
  // Custom Reports page styling
  .CustomReports__CustomReports___yllyO {
    background: transparent !important;
    background-color: transparent !important;
    color: white !important;
    
    .Toolbar__Toolbar___ecArT {
      background: rgba(255, 255, 255, 0.05) !important;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
      padding: 12px 16px !important;
      display: flex !important;
      align-items: center !important;
      gap: 12px !important;
      color: white !important;
      
      button {
        background: rgba(255, 255, 255, 0.1) !important;
        border: 1px solid rgba(255, 255, 255, 0.2) !important;
        border-radius: 6px !important;
        color: white !important;
        padding: 8px 16px !important;
        font-family: Rubik, sans-serif !important;
        transition: all 0.2s ease !important;
        
        &:hover:not(:disabled) {
          background: rgba(255, 255, 255, 0.15) !important;
          transform: translateY(-1px) !important;
        }
        
        &:disabled {
          opacity: 0.5 !important;
          cursor: not-allowed !important;
        }
      }
    }
    
    .CustomReports__main___Oevjs {
      background: transparent !important;
      color: white !important;
      
      .CustomReportsMenu__CustomReportsMenu___vwNm0 {
        background: rgba(255, 255, 255, 0.05) !important;
        border: 1px solid rgba(255, 255, 255, 0.1) !important;
        border-radius: 12px !important;
        backdrop-filter: blur(10px) !important;
        padding: 20px !important;
        color: white !important;
        
        .CustomReportsMenu__header___oCxza {
          margin-bottom: 16px !important;
          
          .Input__Input___KL0p5 {
            background: rgba(255, 255, 255, 0.1) !important;
            border: 1px solid rgba(255, 255, 255, 0.2) !important;
            border-radius: 8px !important;
            color: white !important;
            padding: 12px 16px !important;
            font-family: Rubik, sans-serif !important;
            
            input {
              background: transparent !important;
              border: none !important;
              color: white !important;
              
              &::placeholder {
                color: rgba(255, 255, 255, 0.5) !important;
              }
            }
            
            &:focus-within {
              border-color: var(--theme-primary) !important;
              box-shadow: 0 0 0 2px rgba(var(--theme-primary-rgb), 0.3) !important;
            }
          }
          
          button {
            background: var(--theme-primary) !important;
            border: none !important;
            color: white !important;
            border-radius: 50% !important;
            width: 40px !important;
            height: 40px !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            transition: all 0.2s ease !important;
            
            &:hover {
              background: color-mix(in srgb, var(--theme-primary) 90%, white 10%) !important;
              transform: scale(1.05) !important;
            }
            
            svg {
              fill: white !important;
            }
          }
        }
        
        .CustomReportsMenu__list___LQL2B {
          background: transparent !important;
          
          .CustomReportsMenu__MenuItem___mHSNY {
            background: rgba(255, 255, 255, 0.03) !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
            border-radius: 8px !important;
            padding: 12px 16px !important;
            margin-bottom: 8px !important;
            cursor: pointer !important;
            transition: all 0.2s ease !important;
            color: white !important;
            
            &:hover {
              background: rgba(255, 255, 255, 0.08) !important;
              border-color: rgba(255, 255, 255, 0.2) !important;
              transform: translateX(4px) !important;
            }
            
            .CustomReportsMenu__container___yjfsU {
              color: white !important;
              
              div {
                color: white !important;
                font-family: Rubik, sans-serif !important;
                font-size: 14px !important;
                font-weight: 500 !important;
              }
              
              .InfoPill__InfoPill___CQ6X_ {
                background: rgba(255, 255, 255, 0.1) !important;
                border: 1px solid rgba(255, 255, 255, 0.2) !important;
                border-radius: 12px !important;
                padding: 4px 12px !important;
                color: white !important;
                font-family: Rubik, sans-serif !important;
                font-size: 12px !important;
                font-weight: 500 !important;
                
                &.InfoPill__enabled___bnC99 {
                  background: rgba(34, 197, 94, 0.2) !important;
                  border-color: rgba(34, 197, 94, 0.4) !important;
                  color: #4ade80 !important;
                }
              }
            }
            
            button {
              background: transparent !important;
              border: none !important;
              color: rgba(255, 255, 255, 0.7) !important;
              border-radius: 50% !important;
              width: 32px !important;
              height: 32px !important;
              display: flex !important;
              align-items: center !important;
              justify-content: center !important;
              transition: all 0.2s ease !important;
              
              &:hover {
                background: rgba(255, 255, 255, 0.1) !important;
                color: white !important;
                transform: scale(1.1) !important;
              }
              
              svg {
                fill: currentColor !important;
              }
            }
          }
        }
      }
      
      // Empty state message
      > div {
        color: rgba(255, 255, 255, 0.7) !important;
        font-family: Rubik, sans-serif !important;
        font-size: 14px !important;
        text-align: center !important;
        padding: 40px 20px !important;
      }
      
      // CustomReportsOptions component
      .CustomReportsOptions__CustomReportsOptions___O6Swm {
        background: transparent !important;
        color: white !important;
        
        .CustomReportsOptions__header___eLBei {
          background: transparent !important;
          color: white !important;
          margin-bottom: 16px !important;
          
          .CustomReportsOptions__title___KjOap {
            color: white !important;
            font-family: Rubik, sans-serif !important;
            font-size: 16px !important;
            font-weight: 600 !important;
            margin-bottom: 12px !important;
          }
          
          .Input__Input___KL0p5 {
            background: rgba(255, 255, 255, 0.1) !important;
            border: 1px solid rgba(255, 255, 255, 0.2) !important;
            border-radius: 8px !important;
            color: white !important;
            
            input {
              background: transparent !important;
              border: none !important;
              color: white !important;
              
              &::placeholder {
                color: rgba(255, 255, 255, 0.5) !important;
              }
            }
            
            &:focus-within {
              border-color: var(--theme-primary) !important;
              box-shadow: 0 0 0 2px rgba(var(--theme-primary-rgb), 0.3) !important;
            }
          }
        }
        
        .CustomReportsOptions__container___LOoKm {
          background: transparent !important;
          color: white !important;
          
          // BasicPanel styling within CustomReportsOptions
          .BasicPanel__BasicPanel___q92_U {
            background: rgba(255, 255, 255, 0.05) !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
            border-radius: 12px !important;
            margin-bottom: 12px !important;
            overflow: hidden !important;
            
            header {
              background: rgba(255, 255, 255, 0.08) !important;
              border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
              padding: 12px 16px !important;
              color: white !important;
              
              h2 {
                color: white !important;
                font-family: Rubik, sans-serif !important;
                font-size: 14px !important;
                font-weight: 600 !important;
                margin: 0 !important;
              }
              
              button {
                background: transparent !important;
                border: none !important;
                color: rgba(255, 255, 255, 0.7) !important;
                border-radius: 50% !important;
                width: 32px !important;
                height: 32px !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                transition: all 0.2s ease !important;
                
                &:hover {
                  background: rgba(255, 255, 255, 0.1) !important;
                  color: white !important;
                }
                
                svg {
                  fill: currentColor !important;
                }
              }
            }
            
            article {
              background: transparent !important;
              padding: 16px !important;
              color: white !important;
              
              .CustomReportsOptions__options___dZgKw {
                background: transparent !important;
                
                .CustomReportsOptions__option___aYJ4q {
                  background: transparent !important;
                  display: flex !important;
                  align-items: center !important;
                  justify-content: space-between !important;
                  padding: 12px 0 !important;
                  border-bottom: 1px solid rgba(255, 255, 255, 0.05) !important;
                  
                  &:last-child {
                    border-bottom: none !important;
                  }
                  
                  .CustomReportsOptions__title___KjOap {
                    color: white !important;
                    font-family: Rubik, sans-serif !important;
                    font-size: 14px !important;
                    font-weight: 500 !important;
                    
                    .Label__Label___D7Qid {
                      color: white !important;
                      
                      .Label__innerText___HVhy6 {
                        color: white !important;
                      }
                    }
                  }
                  
                  .FancyCheckbox__FancyCheckbox___OjfVq {
                    background: transparent !important;
                    
                    .FancyCheckbox__wrapper___doLbf {
                      background: rgba(255, 255, 255, 0.1) !important;
                      border: 1px solid rgba(255, 255, 255, 0.2) !important;
                      border-radius: 6px !important;
                      padding: 4px 8px !important;
                      color: white !important;
                      transition: all 0.2s ease !important;
                      
                      input[type="checkbox"] {
                        accent-color: var(--theme-primary) !important;
                      }
                      
                      .FancyCheckbox__activeText___eri8w {
                        background: rgba(34, 197, 94, 0.2) !important;
                        border: 1px solid rgba(34, 197, 94, 0.4) !important;
                        color: #4ade80 !important;
                        font-family: Rubik, sans-serif !important;
                        font-size: 11px !important;
                        font-weight: 600 !important;
                        border-radius: 4px !important;
                        padding: 2px 6px !important;
                      }
                    }
                  }
                }
              }
              
              // SelectionList styling
              .SelectionList__SelectionListItem___D5Tzw {
                background: rgba(255, 255, 255, 0.03) !important;
                border: 1px solid rgba(255, 255, 255, 0.1) !important;
                border-radius: 6px !important;
                padding: 8px 12px !important;
                margin-bottom: 4px !important;
                color: white !important;
                cursor: pointer !important;
                transition: all 0.2s ease !important;
                
                &:hover {
                  background: rgba(255, 255, 255, 0.08) !important;
                  border-color: rgba(255, 255, 255, 0.2) !important;
                }
              }
              
              // MultiSelect buttons
              .MultiSelect__button___sWWJ7 {
                background: rgba(255, 255, 255, 0.1) !important;
                background-color: rgba(255, 255, 255, 0.1) !important;
                border: 1px solid rgba(255, 255, 255, 0.2) !important;
                border-radius: 6px !important;
                color: white !important;
                padding: 6px 12px !important;
                font-family: Rubik, sans-serif !important;
                font-size: 13px !important;
                font-weight: 500 !important;
                transition: all 0.2s ease !important;
                
                &:hover {
                  background: rgba(255, 255, 255, 0.15) !important;
                  background-color: rgba(255, 255, 255, 0.15) !important;
                  transform: translateY(-1px) !important;
                }
              }
              
              // Circular buttons
              button.Button__circular___iAiv2 {
                background: rgba(255, 255, 255, 0.1) !important;
                background-color: rgba(255, 255, 255, 0.1) !important;
                border: 1px solid rgba(255, 255, 255, 0.2) !important;
                border-radius: 50% !important;
                color: white !important;
                width: 32px !important;
                height: 32px !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                transition: all 0.2s ease !important;
                
                &:hover {
                  background: rgba(255, 255, 255, 0.15) !important;
                  background-color: rgba(255, 255, 255, 0.15) !important;
                  transform: scale(1.05) !important;
                }
                
                svg {
                  fill: white !important;
                }
              }
            }
          }
        }
      }
    }
  }

  // Student plans content
  .studentPlansContent > .tabPage {
    > .detailTable {
      background: var(--background-primary) !important;
      border-radius: 8px !important;
      box-shadow: var(--shadow-sm) !important;
      overflow: hidden !important;
      
      > .headerWrapper,
      .header {
        background: var(--accent-bg) !important;
        color: var(--text-on-accent) !important;
        
        td > div {
          font-family: Rubik, sans-serif !important;
          font-weight: 600 !important;
        }
      }
    }
  }

  // General form improvements
  input, textarea, select {
    @include teach-only {
      background: var(--input-bg) !important;
      border: 1px solid var(--border-primary) !important;
      border-radius: 4px !important;
      color: var(--text-primary) !important;
      font-family: Rubik, sans-serif !important;
      padding: 8px 12px !important;
      transition: all 0.2s ease !important;
      
      &:focus {
        border-color: var(--accent-bg) !important;
        box-shadow: 0 0 0 2px var(--accent-ring) !important;
        outline: none !important;
      }
    }
  }

  // Button improvements
  button {
    @include teach-only {
      background: var(--accent-bg) !important;
      border: none !important;
      border-radius: 6px !important;
      color: var(--text-on-accent) !important;
      cursor: pointer !important;
      font-family: Rubik, sans-serif !important;
      font-weight: 500 !important;
      padding: 8px 16px !important;
      transition: all 0.2s ease !important;
      
      &:hover {
        background: var(--accent-hover) !important;
        transform: translateY(-1px) !important;
        box-shadow: var(--shadow-sm) !important;
      }
      
      &:active {
        transform: translateY(0) !important;
      }
    }
  }

  // Add/Edit Notice Screen Styling
  .notices-edit {
    background: var(--card-bg) !important;
    backdrop-filter: blur(10px) !important;
    border: 1px solid var(--card-border) !important;
    border-radius: 12px !important;
    padding: 24px !important;
    margin: 16px !important;
    box-shadow: var(--shadow-lg) !important;

    // Form Fields
    .field {
      margin-bottom: 20px !important;

      label {
        color: var(--text-primary) !important;
        font-weight: 500 !important;
        margin-bottom: 8px !important;
        display: block !important;
      }

      // Title field
      &.title input.uiShortText {
        background: var(--button-bg) !important;
        border: 1px solid var(--border-primary) !important;
        border-radius: 8px !important;
        color: var(--text-primary) !important;
        padding: 12px 16px !important;
        font-size: 14px !important;
        transition: all 0.2s ease !important;
        width: 100% !important;

        &:focus {
          background: var(--button-hover) !important;
          border-color: var(--accent-bg) !important;
          outline: none !important;
          box-shadow: 0 0 0 2px var(--accent-ring) !important;
        }

        &::placeholder {
          color: var(--text-muted) !important;
        }
      }

      // Label/Color field
      &.colour .options {
        display: flex !important;
        align-items: center !important;
        gap: 12px !important;

        span {
          position: relative !important;
          flex: 1 !important;

          input.singleSelect {
            background: var(--button-bg) !important;
            border: 1px solid var(--border-primary) !important;
            border-radius: 8px !important;
            color: var(--text-primary) !important;
            padding: 12px 16px !important;
            transition: all 0.2s ease !important;
            width: 100% !important;

            &:focus {
              background: var(--button-hover) !important;
              border-color: var(--accent-bg) !important;
              outline: none !important;
              box-shadow: 0 0 0 2px var(--accent-ring) !important;
            }

            &::placeholder {
              color: var(--text-muted) !important;
            }
          }

          .singleSelect.overlay {
            background: transparent !important;
            border: none !important;
          }
        }

        button.uiButton {
          background: var(--button-bg) !important;
          border: 1px solid var(--border-primary) !important;
          border-radius: 8px !important;
          color: var(--text-primary) !important;
          padding: 12px 16px !important;
          font-size: 14px !important;
          cursor: pointer !important;
          transition: all 0.2s ease !important;
          white-space: nowrap !important;

          &:hover {
            background: var(--button-hover) !important;
            border-color: var(--accent-bg) !important;
            transform: translateY(-1px) !important;
          }

          &:active {
            transform: translateY(0) !important;
          }
        }
      }

      // Dates field
      &.dates {
        display: flex !important;
        align-items: center !important;
        gap: 12px !important;
        flex-wrap: wrap !important;

        button.uiButton.buttonChecklist {
          background: var(--button-bg) !important;
          border: 1px solid var(--border-primary) !important;
          border-radius: 8px !important;
          color: var(--text-primary) !important;
          padding: 12px 16px !important;
          font-size: 14px !important;
          cursor: pointer !important;
          transition: all 0.2s ease !important;

          &:hover {
            background: var(--button-hover) !important;
            border-color: var(--accent-bg) !important;
            transform: translateY(-1px) !important;
          }

          span {
            color: var(--text-primary) !important;
          }
        }

        .interstitial {
          color: var(--text-muted) !important;
          font-size: 14px !important;
        }

        .daterange {
          display: flex !important;
          align-items: center !important;
          gap: 12px !important;

          input.uiShortText.calendar {
            background: var(--button-bg) !important;
            border: 1px solid var(--border-primary) !important;
            border-radius: 8px !important;
            color: var(--text-primary) !important;
            padding: 12px 16px !important;
            font-size: 14px !important;
            transition: all 0.2s ease !important;
            min-width: 120px !important;

            &:focus {
              background: var(--button-hover) !important;
              border-color: var(--accent-bg) !important;
              outline: none !important;
              box-shadow: 0 0 0 2px var(--accent-ring) !important;
            }

            &::placeholder {
              color: var(--text-muted) !important;
            }
          }

          .interstitial {
            color: var(--text-muted) !important;
            font-size: 14px !important;
          }
        }
      }
    }

    // Radio Group (Visibility Options)
    fieldset.radioGroup {
      background: var(--theme-offset-bg) !important;
      border: 1px solid var(--border-secondary) !important;
      border-radius: 8px !important;
      padding: 16px !important;
      margin: 20px 0 !important;

      .radioGroupItem {
        display: flex !important;
        align-items: center !important;
        padding: 8px 0 !important;
        cursor: pointer !important;
        transition: all 0.2s ease !important;

        &:hover {
          background: var(--button-bg) !important;
          border-radius: 6px !important;
        }

        &.selected {
          background: var(--accent-ring) !important;
          border-radius: 6px !important;
        }

        input[type="radio"] {
          margin-right: 12px !important;
          accent-color: var(--accent-bg) !important;
        }

        label {
          color: var(--text-primary) !important;
          font-size: 14px !important;
          cursor: pointer !important;
          margin: 0 !important;
          flex: 1 !important;
        }
      }
    }

    // Rich Text Editor Container
    .contents {
      margin-top: 20px !important;

      .lexicalEditor {
        background: var(--card-bg) !important;
        border: 1px solid var(--card-border) !important;
        border-radius: 12px !important;
        overflow: hidden !important;

        .LexicalEditor__editor-container___RCCFr {
          background: transparent !important;

          // Toolbar
          .LexicalEditor__toolbar___kprF1 {
            background: var(--theme-offset-bg-more) !important;
            border-bottom: 1px solid var(--border-secondary) !important;
            padding: 12px 16px !important;
            display: flex !important;
            align-items: center !important;
            gap: 8px !important;
            flex-wrap: wrap !important;

            // Dropdown Menu Button
            .MenuButton__Menu___FMwps {
              .Button__Button___kQRWg {
                background: var(--button-bg) !important;
                border: 1px solid var(--border-primary) !important;
                border-radius: 6px !important;
                color: var(--text-primary) !important;
                padding: 8px 12px !important;
                font-size: 13px !important;
                cursor: pointer !important;
                transition: all 0.2s ease !important;

                &:hover {
                  background: var(--button-hover) !important;
                  border-color: var(--accent-bg) !important;
                }
              }
            }

            // Dividers
            .LexicalEditor__divider___xunJd {
              width: 1px !important;
              height: 20px !important;
              background: var(--border-primary) !important;
              margin: 0 4px !important;

              &.LexicalEditor__auto-hide___x9WCG {
                opacity: 0.5 !important;
              }
            }

            // Toolbar Groups
            .LexicalEditor__toolbar-group___cCQ3d {
              display: flex !important;
              align-items: center !important;
              gap: 4px !important;

              // Toolbar Buttons
              .Button__Button___kQRWg.LexicalEditor__toolbar-item___Yv9Mw {
                background: var(--button-bg) !important;
                border: 1px solid transparent !important;
                border-radius: 6px !important;
                color: var(--text-secondary) !important;
                padding: 8px !important;
                cursor: pointer !important;
                transition: all 0.2s ease !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                min-width: 32px !important;
                height: 32px !important;

                &:hover:not(:disabled) {
                  background: var(--button-hover) !important;
                  border-color: var(--border-primary) !important;
                  color: var(--text-primary) !important;
                  transform: translateY(-1px) !important;
                }

                &:active:not(:disabled) {
                  transform: translateY(0) !important;
                }

                &.LexicalEditor__active___P1nSu {
                  background: var(--accent-bg) !important;
                  border-color: var(--accent-bg) !important;
                  color: var(--text-on-accent) !important;
                }

                &:disabled {
                  opacity: 0.4 !important;
                  cursor: not-allowed !important;
                }

                // Icon styling
                svg.LexicalEditor__format___mlo_D {
                  width: 16px !important;
                  height: 16px !important;
                  fill: currentColor !important;
                }

                &.LexicalEditor__spaced___LHB2C {
                  margin-right: 2px !important;
                }

                &.LexicalEditor__toolbarEnd___qZQjB {
                  margin-left: auto !important;
                }
              }
            }
          }

          // Editor Inner Container
          .LexicalEditor__editor-inner___mk5R5 {
            position: relative !important;

            // Editor Input Area
            .LexicalEditor__editor-input___QZkn7 {
              background: var(--background-tertiary) !important;
              color: var(--text-primary) !important;
              padding: 20px !important;
              min-height: 200px !important;
              font-size: 14px !important;
              line-height: 1.6 !important;
              border: none !important;
              outline: none !important;
              border-radius: 0 0 12px 12px !important;

              // Override any inline styles that might set white background
              &[style*="background"] {
                background: var(--background-tertiary) !important;
              }

              // Paragraph styling
              p.editor-paragraph.LexicalEditor__editor-paragraph___Ibuzb {
                color: var(--text-primary) !important;
                margin: 0 0 16px !important;

                &:last-child {
                  margin-bottom: 0 !important;
                }
              }

              // Ensure all text content uses theme color
              * {
                color: var(--text-primary) !important;
              }

              // Handle any spans or other text elements
              span, div, strong, em, u, s {
                color: var(--text-primary) !important;
              }

              // Lists styling
              ul, ol {
                color: var(--text-primary) !important;
                
                li {
                  color: var(--text-primary) !important;
                }
              }

              // Links styling
              a {
                color: var(--accent-bg) !important;
                
                &:hover {
                  color: var(--accent-hover) !important;
                }
              }
            }

            // Table Action Menu
            .TableActionMenuPlugin__table-cell-action-button-container___ZU3iX {
              background: var(--card-bg) !important;
              border: 1px solid var(--card-border) !important;
              border-radius: 6px !important;

              &.TableActionMenuPlugin__table-cell-action-button-container--inactive___HiSE_ {
                display: none !important;
              }
            }
          }
        }
      }
    }
  }

  // Specific styling for lexical editor in filterBox.editor.lexical path
  .filterBox.editor.lexical {
    .lexicalEditor {
      background: var(--card-bg) !important;
      border: 1px solid var(--card-border) !important;
      border-radius: 12px !important;
      overflow: hidden !important;

      .LexicalEditor__editor-container___RCCFr {
        background: transparent !important;

        // Toolbar - ensure dark background
        .LexicalEditor__toolbar___kprF1 {
          background: var(--theme-offset-bg-more) !important;
          background-color: var(--theme-offset-bg-more) !important;
          border-bottom: 1px solid var(--border-secondary) !important;
          padding: 12px 16px !important;
          color: var(--text-primary) !important;

          // Dropdown Menu Button
          .MenuButton__Menu___FMwps {
            .Button__Button___kQRWg {
              background: var(--button-bg) !important;
              background-color: var(--button-bg) !important;
              border: 1px solid var(--border-primary) !important;
              border-radius: 6px !important;
              color: var(--text-primary) !important;
              padding: 8px 12px !important;
              font-size: 13px !important;
              cursor: pointer !important;
              transition: all 0.2s ease !important;

              &:hover {
                background: var(--button-hover) !important;
                background-color: var(--button-hover) !important;
                border-color: var(--accent-bg) !important;
              }
            }
          }

          // Dividers
          .LexicalEditor__divider___xunJd {
            width: 1px !important;
            height: 20px !important;
            background: var(--border-primary) !important;
            background-color: var(--border-primary) !important;
            margin: 0 4px !important;

            &.LexicalEditor__auto-hide___x9WCG {
              opacity: 0.5 !important;
            }
          }

          // Toolbar Groups
          .LexicalEditor__toolbar-group___cCQ3d {
            display: flex !important;
            align-items: center !important;
            gap: 4px !important;

            // Toolbar Buttons
            .Button__Button___kQRWg.LexicalEditor__toolbar-item___Yv9Mw {
              background: var(--button-bg) !important;
              background-color: var(--button-bg) !important;
              border: 1px solid transparent !important;
              border-radius: 6px !important;
              color: var(--text-secondary) !important;
              padding: 8px !important;
              cursor: pointer !important;
              transition: all 0.2s ease !important;
              display: flex !important;
              align-items: center !important;
              justify-content: center !important;
              min-width: 32px !important;
              height: 32px !important;

              &:hover:not(:disabled) {
                background: var(--button-hover) !important;
                background-color: var(--button-hover) !important;
                border-color: var(--border-primary) !important;
                color: var(--text-primary) !important;
                transform: translateY(-1px) !important;
              }

              &:active:not(:disabled) {
                transform: translateY(0) !important;
              }

              &.LexicalEditor__active___P1nSu {
                background: var(--accent-bg) !important;
                background-color: var(--accent-bg) !important;
                border-color: var(--accent-bg) !important;
                color: white !important;
              }

              &:disabled {
                opacity: 0.4 !important;
                cursor: not-allowed !important;
              }

              // Icon styling
              svg.LexicalEditor__format___mlo_D {
                width: 16px !important;
                height: 16px !important;
                fill: currentColor !important;
                color: currentColor !important;
              }

              &.LexicalEditor__spaced___LHB2C {
                margin-right: 2px !important;
              }
            }
          }
        }

        // Editor Inner Container
        .LexicalEditor__editor-inner___mk5R5 {
          position: relative !important;

          // Editor Input Area
          .LexicalEditor__editor-input___QZkn7 {
            background: rgba(0, 0, 0, 0.3) !important;
            background-color: rgba(0, 0, 0, 0.3) !important;
            color: white !important;
            padding: 20px !important;
            min-height: 200px !important;
            font-size: 14px !important;
            line-height: 1.6 !important;
            border: none !important;
            outline: none !important;
            border-radius: 0 0 12px 12px !important;

            // Override any inline styles that might set white background
            &[style*="background"] {
              background: rgba(0, 0, 0, 0.3) !important;
              background-color: rgba(0, 0, 0, 0.3) !important;
            }

            // Paragraph styling
            p.editor-paragraph.LexicalEditor__editor-paragraph___Ibuzb {
              color: white !important;
              margin: 0 0 16px !important;

              &:last-child {
                margin-bottom: 0 !important;
              }
            }

            // Ensure all text content is white
            * {
              color: white !important;
            }

            // Handle any spans or other text elements
            span, div, strong, em, u, s {
              color: white !important;
            }

            // Lists styling
            ul, ol {
              color: white !important;
              
              li {
                color: white !important;
              }
            }
          }
        }
      }
    }
  }

  // Graduation Tracker Styling
  [class*="GraduationTracker__container"] {
    background: transparent !important;
    color: white !important;
    padding: 20px !important;
    
    // Filters Section
    [class*="Filters__Filters"] {
      background: rgba(255, 255, 255, 0.05) !important;
      border: 1px solid rgba(255, 255, 255, 0.1) !important;
      border-radius: 12px !important;
      backdrop-filter: blur(10px) !important;
      padding: 20px !important;
      margin-bottom: 20px !important;
      display: flex !important;
      align-items: flex-end !important;
      gap: 16px !important;
      flex-wrap: wrap !important;
      
      // Student selector (Anyone Select)
      .uiAnyoneSelectWrapper {
        flex: 1 !important;
        min-width: 280px !important;
        max-width: 400px !important;
        
        .anyoneSelect.filterBox {
          background: rgba(255, 255, 255, 0.03) !important;
          border: 1px solid rgba(255, 255, 255, 0.1) !important;
          border-radius: 8px !important;
          padding: 8px !important;
          
          .selector.students {
            display: flex !important;
            align-items: center !important;
            gap: 8px !important;
            margin-bottom: 8px !important;
            
            input.singleSelect {
              background: rgba(255, 255, 255, 0.08) !important;
              border: 1px solid rgba(255, 255, 255, 0.2) !important;
              border-radius: 6px !important;
              color: white !important;
              padding: 8px 12px !important;
              font-size: 14px !important;
              flex: 1 !important;
              min-width: 200px !important;
              transition: all 0.2s ease !important;
              
              &:focus {
                border-color: var(--accent-bg) !important;
                outline: none !important;
                box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2) !important;
              }
              
              &::placeholder {
                color: rgba(255, 255, 255, 0.5) !important;
              }
            }
            
            button.uiButton {
              background: rgba(255, 255, 255, 0.08) !important;
              border: 1px solid rgba(255, 255, 255, 0.2) !important;
              border-radius: 6px !important;
              color: white !important;
              padding: 8px 10px !important;
              cursor: pointer !important;
              transition: all 0.2s ease !important;
              font-size: 14px !important;
              
              &:hover {
                background: rgba(255, 255, 255, 0.12) !important;
                border-color: var(--accent-bg) !important;
              }
            }
          }
          
          .listWrapper {
            .list {
              background: rgba(255, 255, 255, 0.05) !important;
              border-radius: 6px !important;
              max-height: 150px !important;
              overflow-y: auto !important;
              
              .item.student {
                display: flex !important;
                align-items: center !important;
                justify-content: space-between !important;
                padding: 8px 12px !important;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
                transition: all 0.2s ease !important;
                
                &:hover {
                  background: rgba(255, 255, 255, 0.08) !important;
                }
                
                &:last-child {
                  border-bottom: none !important;
                }
                
                .details {
                  flex: 1 !important;
                  
                  .name {
                    color: white !important;
                    font-family: Rubik, sans-serif !important;
                    font-size: 13px !important;
                    font-weight: 600 !important;
                    margin-bottom: 2px !important;
                  }
                  
                  .extra {
                    color: rgba(255, 255, 255, 0.7) !important;
                    font-family: Rubik, sans-serif !important;
                    font-size: 11px !important;
                  }
                }
                
                button.uiButton {
                  background: rgba(255, 59, 48, 0.2) !important;
                  border: 1px solid rgba(255, 59, 48, 0.4) !important;
                  border-radius: 50% !important;
                  color: #ff3b30 !important;
                  padding: 6px !important;
                  transition: all 0.2s ease !important;
                  
                  &:hover {
                    background: rgba(255, 59, 48, 0.3) !important;
                    transform: scale(1.1) !important;
                  }
                  
                  svg {
                    fill: currentColor !important;
                    width: 14px !important;
                    height: 14px !important;
                  }
                }
              }
            }
          }
          
          .userCount {
            color: rgba(255, 255, 255, 0.8) !important;
            font-family: Rubik, sans-serif !important;
            font-size: 11px !important;
            padding: 4px 8px !important;
            text-align: center !important;
            background: rgba(255, 255, 255, 0.05) !important;
            border-radius: 4px !important;
            margin-top: 4px !important;
          }
        }
      }
      
      // Filter fields
      [class*="Filters__field"] {
        display: flex !important;
        flex-direction: column !important;
        gap: 6px !important;
        min-width: 150px !important;
        
        label {
          color: white !important;
          font-family: Rubik, sans-serif !important;
          font-size: 13px !important;
          font-weight: 500 !important;
        }
        
        .uiButtonChecklist {
          button.uiButton.buttonChecklist {
            background: rgba(255, 255, 255, 0.08) !important;
            border: 1px solid rgba(255, 255, 255, 0.2) !important;
            border-radius: 6px !important;
            color: white !important;
            padding: 8px 12px !important;
            font-size: 13px !important;
            cursor: pointer !important;
            transition: all 0.2s ease !important;
            white-space: nowrap !important;
            
            &:hover {
              background: rgba(255, 255, 255, 0.12) !important;
              border-color: var(--accent-bg) !important;
              transform: translateY(-1px) !important;
            }
            
            span {
              color: white !important;
            }
          }
        }
      }
      
      // Load/Run button - Make it more visible
      [class*="Filters__load"] {
        background: var(--accent-bg, #3b82f6) !important;
        border: 2px solid var(--accent-bg, #3b82f6) !important;
        border-radius: 8px !important;
        color: white !important;
        padding: 12px 16px !important;
        cursor: pointer !important;
        transition: all 0.2s ease !important;
        box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3) !important;
        
        &:hover {
          background: var(--accent-hover, #2563eb) !important;
          border-color: var(--accent-hover, #2563eb) !important;
          transform: translateY(-2px) !important;
          box-shadow: 0 6px 16px rgba(59, 130, 246, 0.4) !important;
        }
        
        &:active {
          transform: translateY(0) !important;
        }
        
        svg {
          fill: currentColor !important;
          width: 20px !important;
          height: 20px !important;
        }
      }
    }
    
    // Main body section
    [class*="GraduationTracker__body"] {
      display: flex !important;
      gap: 20px !important;
      align-items: flex-start !important;
      
      // Student List Selector
      [class*="StudentListSelector__StudentListSelector"] {
        background: rgba(255, 255, 255, 0.05) !important;
        border: 1px solid rgba(255, 255, 255, 0.1) !important;
        border-radius: 12px !important;
        backdrop-filter: blur(10px) !important;
        min-width: 280px !important;
        transition: all 0.3s ease !important;
        
        &[class*="StudentListSelector__expanded"] {
          min-width: 320px !important;
        }
        
        // Header section
        [class*="StudentListSelector__header"] {
          background: rgba(255, 255, 255, 0.08) !important;
          border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
          padding: 16px !important;
          border-radius: 12px 12px 0 0 !important;
          position: relative !important;
          
          [class*="StudentListSelector__count"] {
            color: white !important;
            font-family: Rubik, sans-serif !important;
            font-size: 14px !important;
            font-weight: 600 !important;
            margin-bottom: 12px !important;
          }
          
          // Graduation graph
          [class*="StudentListSelector__graph"] {
            display: flex !important;
            gap: 8px !important;
            
            [class*="GraduationGraph__GraphItem"] {
              flex: 1 !important;
              display: flex !important;
              flex-direction: column !important;
              align-items: center !important;
              gap: 4px !important;
              padding: 8px 4px !important;
              border-radius: 6px !important;
              transition: all 0.2s ease !important;
              
              &[class*="GraduationGraph__enabled"] {
                &:hover {
                  background: rgba(255, 255, 255, 0.05) !important;
                  transform: translateY(-1px) !important;
                }
              }
              
              [class*="GraduationGraph__code"] {
                color: white !important;
                font-family: Rubik, sans-serif !important;
                font-size: 10px !important;
                font-weight: 700 !important;
                text-transform: uppercase !important;
                letter-spacing: 0.5px !important;
              }
              
              [class*="GraduationGraph__barSpace"] {
                width: 100% !important;
                height: 8px !important;
                background: rgba(255, 255, 255, 0.1) !important;
                border-radius: 4px !important;
                overflow: hidden !important;
                
                [class*="GraduationGraph__bar"] {
                  height: 100% !important;
                  border-radius: 4px !important;
                  transition: width 0.3s ease !important;
                }
              }
              
              [class*="GraduationGraph__count"] {
                color: white !important;
                font-family: Rubik, sans-serif !important;
                font-size: 12px !important;
                font-weight: 600 !important;
              }
            }
          }
          
          // Toggle button
          [class*="StudentListSelector__toggle"] {
            position: absolute !important;
            right: -12px !important;
            top: 50% !important;
            transform: translateY(-50%) !important;
            background: rgba(255, 255, 255, 0.1) !important;
            border: 1px solid rgba(255, 255, 255, 0.2) !important;
            border-radius: 50% !important;
            color: white !important;
            padding: 8px !important;
            cursor: pointer !important;
            transition: all 0.2s ease !important;
            
            &:hover {
              background: var(--accent-bg) !important;
              border-color: var(--accent-bg) !important;
              transform: translateY(-50%) scale(1.1) !important;
            }
            
            svg {
              fill: currentColor !important;
              width: 16px !important;
              height: 16px !important;
            }
          }
        }
        
        // Student list
        ul {
          padding: 0 !important;
          margin: 0 !important;
          list-style: none !important;
          
          [class*="StudentListSelector__StudentListItem"] {
            display: flex !important;
            align-items: center !important;
            gap: 12px !important;
            padding: 12px 16px !important;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05) !important;
            transition: all 0.2s ease !important;
            cursor: pointer !important;
            
            &:hover {
              background: rgba(255, 255, 255, 0.05) !important;
            }
            
            &[class*="StudentListSelector__selected"] {
              background: rgba(255, 255, 255, 0.08) !important;
              border-left: 3px solid var(--accent-bg) !important;
            }
            
            &:last-child {
              border-bottom: none !important;
            }
            
            // Status indicator
            [class*="StudentListSelector__status"] {
              width: 40px !important;
              height: 24px !important;
              border-radius: 12px !important;
              display: flex !important;
              align-items: center !important;
              justify-content: center !important;
              
              span {
                color: white !important;
                font-family: Rubik, sans-serif !important;
                font-size: 10px !important;
                font-weight: 700 !important;
                text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
              }
            }
            
            // Avatar
            [class*="Avatar__Avatar"] {
              border: 2px solid rgba(255, 255, 255, 0.2) !important;
              
              [class*="Avatar__name"] {
                font-family: Rubik, sans-serif !important;
                font-weight: 700 !important;
                color: white !important;
              }
            }
            
            // Student details
            [class*="StudentListSelector__details"] {
              flex: 1 !important;
              
              [class*="StudentListSelector__name"] {
                color: white !important;
                font-family: Rubik, sans-serif !important;
                font-size: 14px !important;
                font-weight: 600 !important;
                margin-bottom: 4px !important;
              }
              
              [class*="StudentListSelector__demographics"] {
                display: flex !important;
                gap: 8px !important;
                
                span {
                  color: rgba(255, 255, 255, 0.7) !important;
                  font-family: Rubik, sans-serif !important;
                  font-size: 12px !important;
                  background: rgba(255, 255, 255, 0.1) !important;
                  padding: 2px 6px !important;
                  border-radius: 4px !important;
                }
              }
            }
            
            // Remove button
            button {
              background: rgba(255, 59, 48, 0.2) !important;
              border: 1px solid rgba(255, 59, 48, 0.4) !important;
              border-radius: 50% !important;
              color: #ff3b30 !important;
              padding: 6px !important;
              cursor: pointer !important;
              transition: all 0.2s ease !important;
              
              &:hover {
                background: rgba(255, 59, 48, 0.3) !important;
                transform: scale(1.1) !important;
              }
              
              svg {
                fill: currentColor !important;
                width: 14px !important;
                height: 14px !important;
              }
            }
          }
        }
        
        // Functions section
        [class*="StudentListSelector__functions"] {
          padding: 12px 16px !important;
          border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
          
          button {
            background: rgba(255, 255, 255, 0.08) !important;
            border: 1px solid rgba(255, 255, 255, 0.2) !important;
            border-radius: 6px !important;
            color: white !important;
            padding: 8px 16px !important;
            font-size: 14px !important;
            cursor: pointer !important;
            transition: all 0.2s ease !important;
            width: 100% !important;
            
            &:hover {
              background: rgba(255, 255, 255, 0.12) !important;
              border-color: var(--accent-bg) !important;
              transform: translateY(-1px) !important;
            }
            
            span {
              color: white !important;
              font-family: Rubik, sans-serif !important;
            }
          }
        }
      }
      
      // Dashboard section
      [class*="GraduationTracker__dashboard"] {
        flex: 1 !important;
        
        // Disclaimer
        [class*="GraduationTracker__disclaimer"] {
          background: rgba(255, 193, 7, 0.1) !important;
          border: 1px solid rgba(255, 193, 7, 0.3) !important;
          border-radius: 8px !important;
          color: #ffc107 !important;
          padding: 12px 16px !important;
          margin-bottom: 20px !important;
          font-family: Rubik, sans-serif !important;
          font-size: 14px !important;
          font-style: italic !important;
        }
        
        // Student Summary
        [class*="StudentSummary__StudentSummary"] {
          background: rgba(255, 255, 255, 0.05) !important;
          border: 1px solid rgba(255, 255, 255, 0.1) !important;
          border-radius: 12px !important;
          padding: 20px !important;
          
          // Make opaque when transparency effects are disabled
          html:not(.transparencyEffects) & {
            background: rgba(255, 255, 255, 0.15) !important;
          }
          
          // Apply blur only when transparency effects are enabled
          html.transparencyEffects & {
            backdrop-filter: blur(10px) !important;
          }
          margin-bottom: 20px !important;
          display: flex !important;
          align-items: center !important;
          gap: 16px !important;
          position: relative !important;
          overflow: hidden !important;
          
          // Background color overlay
          &::before {
            content: '' !important;
            position: absolute !important;
            top: 0 !important;
            left: 0 !important;
            right: 0 !important;
            bottom: 0 !important;
            background: inherit !important;
            opacity: 0.1 !important;
            z-index: -1 !important;
          }
          
          // Avatar
          [class*="Avatar__Avatar"] {
            border: 3px solid rgba(255, 255, 255, 0.3) !important;
            
            [class*="Avatar__name"] {
              font-family: Rubik, sans-serif !important;
              font-weight: 700 !important;
              color: white !important;
            }
          }
          
          // Student details
          [class*="StudentSummary__details"] {
            flex: 1 !important;
            
            [class*="StudentSummary__name"] {
              color: white !important;
              font-family: Rubik, sans-serif !important;
              font-size: 20px !important;
              font-weight: 700 !important;
              margin-bottom: 8px !important;
              text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;
            }
            
            [class*="StudentSummary__demographics"] {
              display: flex !important;
              gap: 12px !important;
              
              span {
                color: rgba(255, 255, 255, 0.9) !important;
                font-family: Rubik, sans-serif !important;
                font-size: 14px !important;
                background: rgba(255, 255, 255, 0.15) !important;
                padding: 4px 8px !important;
                border-radius: 6px !important;
                font-weight: 500 !important;
              }
            }
          }
          
          // Status
          [class*="StudentSummary__status"] {
            color: white !important;
            font-family: Rubik, sans-serif !important;
            font-size: 16px !important;
            font-weight: 700 !important;
            text-transform: uppercase !important;
            letter-spacing: 1px !important;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;
          }
        }
      }
    }
  }

// Global rule: Remove all backdrop-filter blur effects and make backgrounds fully solid when transparency effects are disabled
// This catches any backdrop-filter blur effects set via JavaScript or inline styles
html:not(.transparencyEffects) {
  * {
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
  }
  
  // Also remove from elements with inline styles
  [style*="backdrop-filter"],
  [style*="backdropFilter"] {
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
  }
  
  // Convert all semi-transparent rgba backgrounds to fully solid
  // Target common rgba patterns used in Teach platform (inline styles)
  [style*="rgba(255, 255, 255, 0.05)"],
  [style*="rgba(255,255,255,0.05)"],
  [style*="rgba(255, 255, 255, 0.08)"],
  [style*="rgba(255,255,255,0.08)"],
  [style*="rgba(255, 255, 255, 0.1)"],
  [style*="rgba(255,255,255,0.1)"],
  [style*="rgba(255, 255, 255, 0.15)"],
  [style*="rgba(255,255,255,0.15)"],
  [style*="background: rgba(255, 255, 255, 0"],
  [style*="background:rgba(255,255,255,0"] {
    background: var(--background-primary) !important;
  }
  
  // Convert CSS-defined semi-transparent backgrounds to fully solid
  // Target elements with common semi-transparent background patterns
  [style*="background: rgba(0, 0, 0, 0"],
  [style*="background:rgba(0,0,0,0"] {
    background: var(--background-secondary) !important;
  }
}
